[33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m

[1m[7m[36m RUN [39m[27m[22m [36mv2.1.9 [39m[90mC:/dev/sew4mi-marketplace/sew4mi/apps/web[39m
      [2mCoverage enabled with [22m[33mv8[39m

[90mstdout[2m | tests/unit/lib/types/group-order.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  suppress all logs with { quiet: true }

[90mstdout[2m | tests/unit/lib/services/reorder.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  suppress all logs with { quiet: true }

[90mstdout[2m | tests/unit/components/features/orders/OrderTrackingPage.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 📡 add observability to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/lib/services/loyalty.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔄 add secrets lifecycle management: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/api/admin/milestones/analytics.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🗂️ backup and recover secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/advanced-search-workflow.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔄 add secrets lifecycle management: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/api/search/saved-search.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com

 [32m✓[39m tests/unit/lib/types/group-order.test.ts [2m([22m[2m57 tests[22m[2m)[22m[90m 84[2mms[22m[39m
 [31m❯[39m tests/integration/advanced-search-workflow.test.ts [2m([22m[2m0 test[22m[2m)[22m
 [31m❯[39m tests/unit/api/admin/milestones/analytics.test.ts [2m([22m[2m0 test[22m[2m)[22m
[90mstderr[2m | tests/unit/lib/services/reorder.service.test.ts[2m > [22m[2mReorderService[2m > [22m[2mgetAlternativeTailors[2m > [22m[2mshould handle database errors gracefully
[22m[39mFailed to fetch alternative tailors: Error: Database error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\reorder.service.test.ts:500:65
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)

 [31m❯[39m tests/unit/lib/services/reorder.service.test.ts [2m([22m[2m27 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[90m 167[2mms[22m[39m
[31m   [31m×[31m ReorderService[2m > [22mvalidateReorder[2m > [22mshould fail validation when order not completed[90m 25[2mms[22m[31m[39m
[31m     → Cannot destructure property 'data' of '(intermediate value)' as it is undefined.[39m
[31m   [31m×[31m ReorderService[2m > [22mvalidateReorder[2m > [22mshould add warning when measurement profile no longer exists[90m 17[2mms[22m[31m[39m
[31m     → expected [ Array(1) ] to include StringContaining{…}[39m
[31m   [31m×[31m ReorderService[2m > [22mvalidateReorder[2m > [22mshould add warning when tailor no longer active[90m 3[2mms[22m[31m[39m
[31m     → expected [ Array(1) ] to include StringContaining{…}[39m
[31m   [31m×[31m ReorderService[2m > [22mpreviewReorder[2m > [22mshould throw error when validation fails[90m 14[2mms[22m[31m[39m
[31m     → expected [Function] to throw error including 'Cannot reorder' but got 'Cannot destructure property \'data\' …'[39m
 [32m✓[39m tests/unit/lib/services/loyalty.service.test.ts [2m([22m[2m32 tests[22m[2m)[22m[90m 66[2mms[22m[39m
[90mstderr[2m | tests/unit/api/search/saved-search.test.ts[2m > [22m[2mSaved Search API Endpoints[2m > [22m[2mPOST /api/search/save[2m > [22m[2mshould save a new search for authenticated user
[22m[39mSave search API error: TypeError: Cannot read properties of undefined (reading 'parse')
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\search\save\route.ts:26:42[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\search\saved-search.test.ts:80:24
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/api/search/saved-search.test.ts[2m > [22m[2mSaved Search API Endpoints[2m > [22m[2mPOST /api/search/save[2m > [22m[2mshould return 400 for invalid input
[22m[39mSave search API error: TypeError: Cannot read properties of undefined (reading 'parse')
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\search\save\route.ts:26:42[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\search\saved-search.test.ts:134:24
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/api/search/saved-search.test.ts[2m > [22m[2mSaved Search API Endpoints[2m > [22m[2mPOST /api/search/save[2m > [22m[2mshould handle service errors
[22m[39mSave search API error: TypeError: Cannot read properties of undefined (reading 'parse')
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\search\save\route.ts:26:42[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\search\saved-search.test.ts:166:24
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/api/search/saved-search.test.ts[2m > [22m[2mSaved Search API Endpoints[2m > [22m[2mGET /api/search/saved[2m > [22m[2mshould handle service errors
[22m[39mGet saved searches API error: Error: Database error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\search\saved-search.test.ts:235:9
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)

[90mstderr[2m | tests/unit/api/search/saved-search.test.ts[2m > [22m[2mSaved Search API Endpoints[2m > [22m[2mPUT /api/search/saved/[id][2m > [22m[2mshould update a saved search
[22m[39mUpdate saved search API error: TypeError: Cannot read properties of undefined (reading 'parse')
    at Module.PUT [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\search\saved\[id]\route.ts:31:44[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\search\saved-search.test.ts:282:24
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/api/search/saved-search.test.ts[2m > [22m[2mSaved Search API Endpoints[2m > [22m[2mPUT /api/search/saved/[id][2m > [22m[2mshould return 400 for invalid input
[22m[39mUpdate saved search API error: TypeError: Cannot read properties of undefined (reading 'parse')
    at Module.PUT [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\search\saved\[id]\route.ts:31:44[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\search\saved-search.test.ts:337:24
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/api/search/saved-search.test.ts[2m > [22m[2mSaved Search API Endpoints[2m > [22m[2mPUT /api/search/saved/[id][2m > [22m[2mshould handle service errors
[22m[39mUpdate saved search API error: TypeError: Cannot read properties of undefined (reading 'parse')
    at Module.PUT [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\search\saved\[id]\route.ts:31:44[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\search\saved-search.test.ts:367:24
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/api/search/saved-search.test.ts[2m > [22m[2mSaved Search API Endpoints[2m > [22m[2mDELETE /api/search/saved/[id][2m > [22m[2mshould handle service errors
[22m[39mDelete saved search API error: Error: Database error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\search\saved-search.test.ts:438:9
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)

[90mstderr[2m | tests/unit/api/search/saved-search.test.ts[2m > [22m[2mSaved Search API Endpoints[2m > [22m[2mGET /api/search/saved/[id]/check[2m > [22m[2mshould handle service errors
[22m[39mCheck saved search matches API error: Error: Database error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\search\saved-search.test.ts:586:9
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)

 [31m❯[39m tests/unit/api/search/saved-search.test.ts [2m([22m[2m20 tests[22m[2m | [22m[31m6 failed[39m[2m)[22m[90m 162[2mms[22m[39m
[31m   [31m×[31m Saved Search API Endpoints[2m > [22mPOST /api/search/save[2m > [22mshould save a new search for authenticated user[90m 57[2mms[22m[31m[39m
[31m     → expected 400 to be 201 // Object.is equality[39m
[31m   [31m×[31m Saved Search API Endpoints[2m > [22mPOST /api/search/save[2m > [22mshould return 400 for invalid input[90m 11[2mms[22m[31m[39m
[31m     → expected 'Cannot read properties of undefined (…' to be 'Invalid input' // Object.is equality[39m
[31m   [31m×[31m Saved Search API Endpoints[2m > [22mPOST /api/search/save[2m > [22mshould handle service errors[90m 6[2mms[22m[31m[39m
[31m     → expected 'Cannot read properties of undefined (…' to be 'Maximum saved searches reached' // Object.is equality[39m
[31m   [31m×[31m Saved Search API Endpoints[2m > [22mPUT /api/search/saved/[id][2m > [22mshould update a saved search[90m 6[2mms[22m[31m[39m
[31m     → expected 400 to be 200 // Object.is equality[39m
[31m   [31m×[31m Saved Search API Endpoints[2m > [22mPUT /api/search/saved/[id][2m > [22mshould return 400 for invalid input[90m 6[2mms[22m[31m[39m
[31m     → expected 'Cannot read properties of undefined (…' to be 'Invalid input' // Object.is equality[39m
[31m   [31m×[31m Saved Search API Endpoints[2m > [22mPUT /api/search/saved/[id][2m > [22mshould handle service errors[90m 6[2mms[22m[31m[39m
[31m     → expected 'Cannot read properties of undefined (…' to be 'Saved search not found' // Object.is equality[39m
 [31m❯[39m tests/unit/components/features/orders/OrderTrackingPage.test.tsx [2m([22m[2m0 test[22m[2m)[22m
[90mstdout[2m | tests/unit/lib/services/recommendation-engine.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  enable debug logging with { debug: true }

[90mstdout[2m | tests/integration/websocket/order-tracking-realtime.integration.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🗂️ backup and recover secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/accessibility/FamilyProfileSelector.a11y.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com

[90mstdout[2m | tests/unit/components/features/disputes/DisputeCreationForm.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🛠️  run anywhere with `dotenvx run -- yourcommand`

 [32m✓[39m tests/unit/lib/services/recommendation-engine.service.test.ts [2m([22m[2m31 tests[22m[2m)[22m[90m 90[2mms[22m[39m
[90mstdout[2m | tests/unit/components/features/milestones/MilestoneApproval.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🗂️ backup and recover secrets: https://dotenvx.com/ops

 [31m❯[39m tests/unit/accessibility/FamilyProfileSelector.a11y.test.tsx [2m([22m[2m0 test[22m[2m)[22m
[90mstdout[2m | tests/unit/lib/types/family-profiles.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  suppress all logs with { quiet: true }

 [31m❯[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx [2m([22m[2m18 tests[22m[2m | [22m[31m18 failed[39m[2m)[22m[33m 492[2mms[22m[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mRendering[2m > [22mshould render form with all required fields[90m 138[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mRendering[2m > [22mshould render order details when provided[90m 20[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mRendering[2m > [22mshould render milestone id in form data when provided[90m 15[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mRendering[2m > [22mshould render evidence upload component with correct props[90m 15[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mForm Validation[2m > [22mshould show validation errors for empty required fields[90m 23[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mForm Validation[2m > [22mshould show validation error for short title[90m 22[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mForm Validation[2m > [22mshould show validation error for short description[90m 26[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mForm Validation[2m > [22mshould show character count for title and description[90m 18[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mCategory Selection[2m > [22mshould update form when category is selected[90m 23[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mCategory Selection[2m > [22mshould clear category validation error when category is selected[90m 15[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mForm Submission[2m > [22mshould submit form with valid data[90m 18[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mForm Submission[2m > [22mshould include milestone id in submission when provided[90m 17[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mForm Submission[2m > [22mshould show loading state during submission[90m 18[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mForm Submission[2m > [22mshould handle submission errors[90m 28[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mForm Interactions[2m > [22mshould call onCancel when cancel button is clicked[90m 19[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mForm Interactions[2m > [22mshould clear field errors when user starts typing[90m 22[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mForm Interactions[2m > [22mshould be disabled when isLoading prop is true[90m 30[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mInformation Display[2m > [22mshould show "What happens next?" information[90m 19[2mms[22m[31m[39m
[31m     → [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
 [32m✓[39m tests/unit/lib/types/family-profiles.test.ts [2m([22m[2m36 tests[22m[2m)[22m[90m 85[2mms[22m[39m
[90mstderr[2m | tests/unit/components/features/milestones/MilestoneApproval.test.tsx[2m > [22m[2mMilestoneApproval[2m > [22m[2mDispute Creation[2m > [22m[2mopens dispute modal when dispute button is clicked
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | tests/unit/components/features/milestones/MilestoneApproval.test.tsx[2m > [22m[2mMilestoneApproval[2m > [22m[2mDispute Creation[2m > [22m[2mhandles dispute creation successfully
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstdout[2m | tests/unit/lib/services/payment.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🗂️ backup and recover secrets: https://dotenvx.com/ops

[90mstderr[2m | tests/unit/lib/services/payment.service.test.ts[2m > [22m[2mPaymentService[2m > [22m[2minitiatePayment[2m > [22m[2mshould handle Hubtel API errors
[22m[39mPayment initiation error: Error: Hubtel API error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\payment.service.test.ts:148:9
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)

[90mstderr[2m | tests/unit/lib/services/payment.service.test.ts[2m > [22m[2mPaymentService[2m > [22m[2minitiatePayment[2m > [22m[2mshould handle database save failures gracefully
[22m[39mFailed to save payment transaction to database

[90mstdout[2m | tests/unit/lib/services/payment.service.test.ts[2m > [22m[2mPaymentService[2m > [22m[2mverifyPaymentStatus[2m > [22m[2mshould handle transaction not found
[22m[39mRetrying payment verification in 2000ms...
Retrying payment verification in 5000ms...
Retrying payment verification in 10000ms...

[90mstderr[2m | tests/unit/lib/services/payment.service.test.ts[2m > [22m[2mPaymentService[2m > [22m[2mverifyPaymentStatus[2m > [22m[2mshould handle transaction not found
[22m[39mPayment verification error (attempt 1): Error: Payment transaction not found: nonexistent_tx
    at PaymentService.verifyPaymentStatus [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\payment.service.ts:115:15[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\payment.service.test.ts:234:22
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)
Payment verification error (attempt 2): Error: Payment transaction not found: nonexistent_tx
    at PaymentService.verifyPaymentStatus [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\payment.service.ts:115:15[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Payment verification error (attempt 3): Error: Payment transaction not found: nonexistent_tx
    at PaymentService.verifyPaymentStatus [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\payment.service.ts:115:15[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
Payment verification error (attempt 4): Error: Payment transaction not found: nonexistent_tx
    at PaymentService.verifyPaymentStatus [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\payment.service.ts:115:15[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstdout[2m | tests/unit/lib/services/payment.service.test.ts[2m > [22m[2mPaymentService[2m > [22m[2mverifyPaymentStatus[2m > [22m[2mshould implement retry logic for failures
[22m[39mRetrying payment verification in 2000ms...
Retrying payment verification in 5000ms...
Retrying payment verification in 10000ms...

[90mstderr[2m | tests/unit/lib/services/payment.service.test.ts[2m > [22m[2mPaymentService[2m > [22m[2mverifyPaymentStatus[2m > [22m[2mshould implement retry logic for failures
[22m[39mPayment verification error (attempt 1): Error: Network error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\payment.service.test.ts:244:9
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
Payment verification error (attempt 2): Error: Network error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\payment.service.test.ts:244:9
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
Payment verification error (attempt 3): Error: Network error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\payment.service.test.ts:244:9
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
Payment verification error (attempt 4): Error: Network error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\payment.service.test.ts:244:9
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)

[90mstderr[2m | tests/unit/lib/services/payment.service.test.ts[2m > [22m[2mPaymentService[2m > [22m[2mprocessWebhook[2m > [22m[2mshould reject webhooks with invalid signatures
[22m[39mInvalid webhook signature

[90mstderr[2m | tests/unit/lib/services/payment.service.test.ts[2m > [22m[2mPaymentService[2m > [22m[2mprocessWebhook[2m > [22m[2mshould handle malformed JSON payload
[22m[39mWebhook processing error: SyntaxError: Unexpected token 'i', "invalid json" is not valid JSON
    at JSON.parse (<anonymous>)
    at PaymentService.processWebhook [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\payment.service.ts:187:54[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\payment.service.test.ts:328:43
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

 [31m❯[39m tests/unit/lib/services/payment.service.test.ts [2m([22m[2m21 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[90m 268[2mms[22m[39m
[31m   [31m×[31m PaymentService[2m > [22minitiatePayment[2m > [22mshould successfully initiate payment[90m 56[2mms[22m[31m[39m
[31m     → expected "create" to be called with arguments: [ { id: Any<String>, …(9) } ][90m

Received: 

[1m  1st create call:

[22m[2m  Array [[22m
[2m    Object {[22m
[2m      "amount": 100.5,[22m
[2m      "customerPhoneNumber": "+233241234567",[22m
[2m      "hubtelTransactionId": "hubtel_tx_123",[22m
[32m-     "id": Any<String>,[90m
[31m+     "id": "ab5d30c3-6c7e-4919-8276-6dab4de3be68",[90m
[2m      "orderId": "order_123",[22m
[2m      "paymentMethod": "MTN",[22m
[32m-     "provider": "HUBTEL_MTN",[90m
[32m-     "providerTransactionId": Any<String>,[90m
[31m+     "provider": undefined,[90m
[31m+     "providerTransactionId": "ab5d30c3-6c7e-4919-8276-6dab4de3be68",[90m
[2m      "status": "PENDING",[22m
[2m      "type": "DEPOSIT",[22m
[2m    },[22m
[2m  ][22m
[31m[90m

Number of calls: [1m1[22m
[31m[39m
[90mstderr[2m | tests/unit/components/features/milestones/MilestoneApproval.test.tsx[2m > [22m[2mMilestoneApproval[2m > [22m[2mDispute Creation[2m > [22m[2mvalidates dispute reason length
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstdout[2m | tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 👥 sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/components/features/orders/OrderHistory.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 prevent committing .env to code: https://dotenvx.com/precommit

 [31m❯[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx [2m([22m[2m21 tests[22m[2m | [22m[31m21 failed[39m[2m)[22m[90m 92[2mms[22m[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mInitial Render and Data Loading[2m > [22mshould render loading state initially[90m 44[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mInitial Render and Data Loading[2m > [22mshould fetch and display analytics data on mount[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mInitial Render and Data Loading[2m > [22mshould display alerts section when alerts exist[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mInitial Render and Data Loading[2m > [22mshould handle API errors gracefully[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mInitial Render and Data Loading[2m > [22mshould handle network errors[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mFilter Controls[2m > [22mshould update data when time range changes[90m 1[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mFilter Controls[2m > [22mshould refresh data when refresh button is clicked[90m 1[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mExport Functionality[2m > [22mshould handle export button click[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mExport Functionality[2m > [22mshould handle export errors gracefully[90m 9[2mms[22m[31m[39m
[31m     → Export failed[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mTab Navigation[2m > [22mshould display milestone breakdown in milestones tab[90m 2[2mms[22m[31m[39m
[31m     → Export failed[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mTab Navigation[2m > [22mshould display tailor performance in tailors tab[90m 2[2mms[22m[31m[39m
[31m     → Export failed[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mTab Navigation[2m > [22mshould display rejection patterns in patterns tab[90m 3[2mms[22m[31m[39m
[31m     → Export failed[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mAlert Display[2m > [22mshould display alerts with correct severity styling[90m 2[2mms[22m[31m[39m
[31m     → Export failed[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mAlert Display[2m > [22mshould not display alerts section when no alerts exist[90m 2[2mms[22m[31m[39m
[31m     → Export failed[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mQuality Score Display[2m > [22mshould display quality scores with appropriate styling[90m 1[2mms[22m[31m[39m
[31m     → Export failed[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mProgress Bars[2m > [22mshould display progress bars for milestone status distribution[90m 2[2mms[22m[31m[39m
[31m     → Export failed[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mData Formatting[2m > [22mshould format milestone names correctly[90m 2[2mms[22m[31m[39m
[31m     → Export failed[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mData Formatting[2m > [22mshould format numbers with proper decimal places[90m 1[2mms[22m[31m[39m
[31m     → Export failed[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mResponsive Behavior[2m > [22mshould handle empty data gracefully[90m 1[2mms[22m[31m[39m
[31m     → Export failed[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mAccessibility[2m > [22mshould have proper ARIA labels and roles[90m 2[2mms[22m[31m[39m
[31m     → Export failed[39m
[31m   [31m×[31m MilestoneAnalyticsDashboard[2m > [22mAccessibility[2m > [22mshould handle keyboard navigation for tabs[90m 1[2mms[22m[31m[39m
[31m     → Export failed[39m
 [31m❯[39m tests/unit/components/features/orders/OrderHistory.test.tsx [2m([22m[2m0 test[22m[2m)[22m
[90mstdout[2m | tests/unit/lib/services/milestone-audit.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  specify custom .env file path with { path: '/custom/path/.env' }

[90mstdout[2m | tests/unit/components/features/orders/MessageInput.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 prevent committing .env to code: https://dotenvx.com/precommit

[90mstderr[2m | tests/unit/components/features/milestones/MilestoneApproval.test.tsx[2m > [22m[2mMilestoneApproval[2m > [22m[2mImage Gallery[2m > [22m[2mopens image zoom modal when photo is clicked
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | tests/unit/components/features/milestones/MilestoneApproval.test.tsx[2m > [22m[2mMilestoneApproval[2m > [22m[2mImage Gallery[2m > [22m[2mopens image zoom modal when zoom button is clicked
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 [31m❯[39m tests/unit/components/features/milestones/MilestoneApproval.test.tsx [2m([22m[2m21 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 8574[2mms[22m[39m
   [33m[2m✓[22m[39m MilestoneApproval[2m > [22mMilestone Approval[2m > [22mhandles milestone rejection with comment [33m1024[2mms[22m[39m
   [33m[2m✓[22m[39m MilestoneApproval[2m > [22mDispute Creation[2m > [22mhandles dispute creation successfully [33m2343[2mms[22m[39m
   [33m[2m✓[22m[39m MilestoneApproval[2m > [22mDispute Creation[2m > [22mvalidates dispute reason length [33m3298[2mms[22m[39m
[31m   [31m×[31m MilestoneApproval[2m > [22mUrgency Indicators[2m > [22mshows warning for milestones near auto-approval deadline[90m 128[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: /3h.*remaining/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6 pb-4"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center justify-between"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"tracking-tight text-lg font-semibold"[31m
          [36m>[31m
            [0mFitting Ready[0m
          [36m</h3>[31m
          [36m<div[31m
            [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80"[31m
          [36m>[31m
            [0mPENDING[0m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center gap-2 text-sm text-red-500 font-medium"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-clock h-4 w-4 animate-pulse"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 6v6l4 2"[31m
            [36m/>[31m
            [36m<circle[31m
              [33mcx[31m=[32m"12"[31m
              [33mcy[31m=[32m"12"[31m
              [33mr[31m=[32m"10"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<span>[31m
            [0m2h 59m remaining[0m
          [36m</span>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-triangle-alert h-4 w-4 text-red-500"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 9v4"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 17h.01"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 text-destructive dark:border-destructive [&>svg]:text-destructive border-red-200 bg-red-50"[31m
          [33mrole[31m=[32m"alert"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-triangle-alert h-4 w-4 text-red-600"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 9v4"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 17h.01"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div[31m
            [33mclass[31m=[32m"text-sm [&_p]:leading-relaxed text-red-800"[31m
          [36m>[31m
            [36m<strong>[31m
              [0mUrgent:[0m
            [36m</strong>[31m
            [0m This milestone will be automatically approved in less than 2 hours. Please review and take action now.[0m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"p-6 pt-0 space-y-6"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-3"[31m
        [36m>[31m
          [36m<label[31m
            [33mclass[31m=[32m"peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-base font-medium"[31m
          [36m>[31m
            [0mMilestone Photo[0m
          [36m</label>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative"[31m
          [36m>[31m
            [36m<img[31m
              [33malt[31m=[32m"Fitting Ready photo"[31m
              [33mclass[31m=[32m"w-full max-h-96 object-contain rounded-lg border cursor-pointer hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-primary"[31m
              [33mrole[31m=[32m"button"[31m
              [33msrc[31m=[32m"https://example.com/photo.jpg"[31m
              [33mtabindex[31m=[32m"0"[31m
            [36m/>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input shadow-sm hover:text-accent-foreground h-8 rounded-md px-3 text-xs absolute top-2 right-2 bg-white/90 hover:bg-white"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-zoom-in h-4 w-4"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstro...[39m
 [31m❯[39m tests/unit/lib/services/milestone-audit.service.test.ts [2m([22m[2m19 tests[22m[2m | [22m[31m6 failed[39m[2m)[22m[90m 127[2mms[22m[39m
[31m   [31m×[31m MilestoneAuditService[2m > [22mgetMilestoneApprovalHistory[2m > [22mshould fetch milestone approval history for an order[90m 30[2mms[22m[31m[39m
[31m     → supabase.from(...).select(...).eq is not a function[39m
[31m   [31m×[31m MilestoneAuditService[2m > [22mgetMilestoneApprovalHistory[2m > [22mshould throw error when database query fails[90m 30[2mms[22m[31m[39m
[31m     → expected [Function] to throw error including 'Failed to get milestone approval hist…' but got 'supabase.from(...).select(...).eq is …'[39m
[31m   [31m×[31m MilestoneAuditService[2m > [22mexportAuditData[2m > [22mshould export comprehensive audit data[90m 3[2mms[22m[31m[39m
[31m     → supabase.from(...).select(...).neq is not a function[39m
[31m   [31m×[31m MilestoneAuditService[2m > [22mgetSystemHealthMetrics[2m > [22mshould calculate system health metrics[90m 3[2mms[22m[31m[39m
[31m     → supabase.from(...).select(...).eq is not a function[39m
[31m   [31m×[31m MilestoneAuditService[2m > [22mgetSystemHealthMetrics[2m > [22mshould detect critical system status[90m 2[2mms[22m[31m[39m
[31m     → supabase.from(...).select(...).eq is not a function[39m
[31m   [31m×[31m MilestoneAuditService Error Handling[2m > [22mshould handle network errors in export function[90m 5[2mms[22m[31m[39m
[31m     → expected [Function] to throw error including 'Failed to export milestone data: Netw…' but got 'supabase.from(...).select(...).neq is…'[39m
[90mstdout[2m | tests/unit/lib/services/saved-search.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 👥 sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstderr[2m | tests/unit/components/features/orders/MessageInput.test.tsx[2m > [22m[2mMessageInput[2m > [22m[2mError Handling[2m > [22m[2mshould handle send message errors
[22m[39mFailed to send message: Error: Send failed
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\components\features\orders\MessageInput.test.tsx:420:55
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

 [31m❯[39m tests/unit/components/features/orders/MessageInput.test.tsx [2m([22m[2m27 tests[22m[2m | [22m[31m15 failed[39m[2m)[22m[33m 2596[2mms[22m[39m
[31m   [31m×[31m MessageInput[2m > [22mRendering[2m > [22mshould render attachment button when enabled[90m 50[2mms[22m[31m[39m
[31m     → Unable to find an element with the title: Attach file.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m MessageInput[2m > [22mRendering[2m > [22mshould render voice message button when enabled[90m 20[2mms[22m[31m[39m
[31m     → Unable to find an element with the title: Record voice message.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-mic h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 19v3"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[31m
            [36m/>[31m
            [36m<rect[31m
              [33mheight[31m=[32m"13"[31m
              [33mrx[31m=[32m"3"[31m
              [33mwidth[31m=[32m"6"[31m
              [33mx[31m=[32m"9"[31m
              [33my[31m=[32m"2"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
   [33m[2m✓[22m[39m MessageInput[2m > [22mText Input[2m > [22mshould enforce max length limit [33m404[2mms[22m[39m
[31m   [31m×[31m MessageInput[2m > [22mText Input[2m > [22mshould show character count when near limit[33m 330[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: 17/20. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"20"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
            [33mstyle[31m=[32m"height: 0px;"[31m
          [36m>[31m
            [0mThis is a long msg[0m
          [36m</textarea>[31m
          [36m<span[31m
            [33mclass[31m=[32m"absolute bottom-2 right-12 text-xs text-gray-400"[31m
          [36m>[31m
            [0m18[0m
            [0m/[0m
            [0m20[0m
          [36m</span>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m MessageInput[2m > [22mMessage Sending[2m > [22mshould send text message when send button clicked[90m 45[2mms[22m[31m[39m
[31m     → Unable to find an accessible element with the role "button" and name `/send/i`

Here are the accessible roles:

  button:

  Name "":
  [36m<button[31m
    [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
    [33mdata-state[31m=[32m"closed"[31m
  [36m/>[31m

  Name "":
  [36m<button[31m
    [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
    [33mdisabled[31m=[32m""[31m
  [36m/>[31m

  --------------------------------------------------
  textbox:

  Name "":
  [36m<textarea[31m
    [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
    [33mmaxlength[31m=[32m"1000"[31m
    [33mplaceholder[31m=[32m"Type your message..."[31m
    [33mrows[31m=[32m"1"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m MessageInput[2m > [22mMessage Sending[2m > [22mshould clear input after sending[90m 278[2mms[22m[31m[39m
[31m     → Unable to find an accessible element with the role "button" and name `/send/i`

Here are the accessible roles:

  button:

  Name "":
  [36m<button[31m
    [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
    [33mdata-state[31m=[32m"closed"[31m
  [36m/>[31m

  Name "":
  [36m<button[31m
    [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
  [36m/>[31m

  --------------------------------------------------
  textbox:

  Name "":
  [36m<textarea[31m
    [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
    [33mmaxlength[31m=[32m"1000"[31m
    [33mplaceholder[31m=[32m"Type your message..."[31m
    [33mrows[31m=[32m"1"[31m
    [33mstyle[31m=[32m"height: 0px;"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
            [33mstyle[31m=[32m"height: 0px;"[31m
          [36m>[31m
            [0mTest message[0m
          [36m</textarea>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m MessageInput[2m > [22mFile Attachments[2m > [22mshould handle file selection[90m 22[2mms[22m[31m[39m
[31m     → Unable to find an element with the title: Attach file.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m MessageInput[2m > [22mFile Attachments[2m > [22mshould validate file size[90m 44[2mms[22m[31m[39m
[31m     → Unable to find an element with the title: Attach file.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m MessageInput[2m > [22mFile Attachments[2m > [22mshould validate file type[90m 26[2mms[22m[31m[39m
[31m     → Unable to find an element with the title: Attach file.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m MessageInput[2m > [22mFile Attachments[2m > [22mshould remove attachment[90m 27[2mms[22m[31m[39m
[31m     → Unable to find an element with the title: Attach file.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m MessageInput[2m > [22mFile Attachments[2m > [22mshould upload file and send message[90m 18[2mms[22m[31m[39m
[31m     → Unable to find an element with the title: Attach file.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m MessageInput[2m > [22mVoice Messages[2m > [22mshould start voice recording[90m 24[2mms[22m[31m[39m
[31m     → Unable to find an element with the title: Record voice message.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-mic h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 19v3"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[31m
            [36m/>[31m
            [36m<rect[31m
              [33mheight[31m=[32m"13"[31m
              [33mrx[31m=[32m"3"[31m
              [33mwidth[31m=[32m"6"[31m
              [33mx[31m=[32m"9"[31m
              [33my[31m=[32m"2"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m MessageInput[2m > [22mVoice Messages[2m > [22mshould stop voice recording[90m 27[2mms[22m[31m[39m
[31m     → Unable to find an element with the title: Record voice message.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-mic h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 19v3"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[31m
            [36m/>[31m
            [36m<rect[31m
              [33mheight[31m=[32m"13"[31m
              [33mrx[31m=[32m"3"[31m
              [33mwidth[31m=[32m"6"[31m
              [33mx[31m=[32m"9"[31m
              [33my[31m=[32m"2"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m MessageInput[2m > [22mVoice Messages[2m > [22mshould cancel voice recording[90m 29[2mms[22m[31m[39m
[31m     → Unable to find an element with the title: Record voice message.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-mic h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 19v3"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[31m
            [36m/>[31m
            [36m<rect[31m
              [33mheight[31m=[32m"13"[31m
              [33mrx[31m=[32m"3"[31m
              [33mwidth[31m=[32m"6"[31m
              [33mx[31m=[32m"9"[31m
              [33my[31m=[32m"2"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m MessageInput[2m > [22mVoice Messages[2m > [22mshould handle microphone access error[90m 23[2mms[22m[31m[39m
[31m     → Unable to find an element with the title: Record voice message.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-mic h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 19v3"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[31m
            [36m/>[31m
            [36m<rect[31m
              [33mheight[31m=[32m"13"[31m
              [33mrx[31m=[32m"3"[31m
              [33mwidth[31m=[32m"6"[31m
              [33mx[31m=[32m"9"[31m
              [33my[31m=[32m"2"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m MessageInput[2m > [22mError Handling[2m > [22mshould display file upload errors[90m 14[2mms[22m[31m[39m
[31m     → Unable to find an element with the title: Attach file.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
   [33m[2m✓[22m[39m MessageInput[2m > [22mError Handling[2m > [22mshould handle send message errors [33m348[2mms[22m[39m
[90mstdout[2m | tests/unit/lib/repositories/groupOrderRepository.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔑 add access controls to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/loyalty-lifecycle.integration.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔑 add access controls to secrets: https://dotenvx.com/ops

 [31m❯[39m tests/unit/lib/repositories/groupOrderRepository.test.ts [2m([22m[2m25 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[90m 261[2mms[22m[39m
[31m   [31m×[31m GroupOrderRepository[2m > [22mdelete[2m > [22mshould delete group order successfully[90m 48[2mms[22m[31m[39m
[31m     → this.client.from(...).delete(...).eq is not a function[39m
[31m   [31m×[31m GroupOrderRepository[2m > [22mdelete[2m > [22mshould throw error when delete fails[90m 36[2mms[22m[31m[39m
[31m     → expected [Function] to throw error including 'Failed to delete group order: Delete …' but got 'this.client.from(...).delete(...).eq …'[39m
 [31m❯[39m tests/unit/lib/services/saved-search.service.test.ts [2m([22m[2m22 tests[22m[2m | [22m[31m22 failed[39m[2m)[22m[33m 336[2mms[22m[39m
[31m   [31m×[31m SavedSearchService[2m > [22msaveSearch[2m > [22mshould save a search with validation[90m 37[2mms[22m[31m[39m
[31m     → expected "saveSearch" to be called with arguments: [ Array(1) ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m[39m
[31m   [31m×[31m SavedSearchService[2m > [22msaveSearch[2m > [22mshould validate search name length[90m 9[2mms[22m[31m[39m
[31m     → promise resolved "undefined" instead of rejecting[39m
[31m   [31m×[31m SavedSearchService[2m > [22msaveSearch[2m > [22mshould validate alert frequency values[90m 5[2mms[22m[31m[39m
[31m     → promise resolved "undefined" instead of rejecting[39m
[31m   [31m×[31m SavedSearchService[2m > [22msaveSearch[2m > [22mshould handle duplicate name errors[90m 9[2mms[22m[31m[39m
[31m     → promise resolved "undefined" instead of rejecting[39m
[31m   [31m×[31m SavedSearchService[2m > [22mgetSavedSearches[2m > [22mshould retrieve and enrich saved searches[90m 11[2mms[22m[31m[39m
[31m     → Target cannot be null or undefined.[39m
[31m   [31m×[31m SavedSearchService[2m > [22mgetSavedSearches[2m > [22mshould handle empty search list[90m 15[2mms[22m[31m[39m
[31m     → expected undefined to deeply equal [][39m
[31m   [31m×[31m SavedSearchService[2m > [22mupdateSavedSearch[2m > [22mshould update search with validation[90m 10[2mms[22m[31m[39m
[31m     → expected "updateSavedSearch" to be called with arguments: [ 'search-123', …(1) ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m[39m
[31m   [31m×[31m SavedSearchService[2m > [22mupdateSavedSearch[2m > [22mshould validate updates before applying[90m 30[2mms[22m[31m[39m
[31m     → promise resolved "undefined" instead of rejecting[39m
[31m   [31m×[31m SavedSearchService[2m > [22mupdateSavedSearch[2m > [22mshould handle non-existent search[90m 23[2mms[22m[31m[39m
[31m     → promise resolved "undefined" instead of rejecting[39m
[31m   [31m×[31m SavedSearchService[2m > [22mdeleteSavedSearch[2m > [22mshould delete a saved search[90m 28[2mms[22m[31m[39m
[31m     → expected "deleteSavedSearch" to be called with arguments: [ 'search-123' ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m[39m
[31m   [31m×[31m SavedSearchService[2m > [22mdeleteSavedSearch[2m > [22mshould handle deletion errors[90m 10[2mms[22m[31m[39m
[31m     → promise resolved "undefined" instead of rejecting[39m
[31m   [31m×[31m SavedSearchService[2m > [22mcheckForNewMatches[2m > [22mshould check for new matches and send notification if enabled[90m 9[2mms[22m[31m[39m
[31m     → Cannot read properties of undefined (reading 'mockResolvedValue')[39m
[31m   [31m×[31m SavedSearchService[2m > [22mcheckForNewMatches[2m > [22mshould skip notification if alerts are disabled[90m 16[2mms[22m[31m[39m
[31m     → service.checkForNewMatches is not a function[39m
[31m   [31m×[31m SavedSearchService[2m > [22mcheckForNewMatches[2m > [22mshould skip notification if no new matches[90m 17[2mms[22m[31m[39m
[31m     → service.checkForNewMatches is not a function[39m
[31m   [31m×[31m SavedSearchService[2m > [22mcheckForNewMatches[2m > [22mshould update last notification timestamp after sending[90m 14[2mms[22m[31m[39m
[31m     → Cannot read properties of undefined (reading 'mockResolvedValue')[39m
[31m   [31m×[31m SavedSearchService[2m > [22mprocessScheduledAlerts[2m > [22mshould process all alerts for a given frequency[90m 6[2mms[22m[31m[39m
[31m     → Cannot read properties of undefined (reading 'mockResolvedValue')[39m
[31m   [31m×[31m SavedSearchService[2m > [22mprocessScheduledAlerts[2m > [22mshould handle errors during batch processing[90m 20[2mms[22m[31m[39m
[31m     → Cannot read properties of undefined (reading 'mockResolvedValue')[39m
[31m   [31m×[31m SavedSearchService[2m > [22mprocessScheduledAlerts[2m > [22mshould respect rate limits when processing many alerts[90m 6[2mms[22m[31m[39m
[31m     → Cannot read properties of undefined (reading 'mockResolvedValue')[39m
[31m   [31m×[31m SavedSearchService[2m > [22mvalidateFilters[2m > [22mshould validate filter combinations[90m 11[2mms[22m[31m[39m
[31m     → expected [Function] to not throw an error but 'TypeError: service.validateFilters is…' was thrown[39m
[31m   [31m×[31m SavedSearchService[2m > [22mvalidateFilters[2m > [22mshould reject invalid price ranges[90m 17[2mms[22m[31m[39m
[31m     → expected [Function] to throw error including 'Maximum price must be greater than mi…' but got 'service.validateFilters is not a func…'[39m
[31m   [31m×[31m SavedSearchService[2m > [22mvalidateFilters[2m > [22mshould reject invalid delivery timeframes[90m 12[2mms[22m[31m[39m
[31m     → expected [Function] to throw error including 'Maximum delivery time must be greater…' but got 'service.validateFilters is not a func…'[39m
[31m   [31m×[31m SavedSearchService[2m > [22mvalidateFilters[2m > [22mshould validate rating ranges[90m 13[2mms[22m[31m[39m
[31m     → expected [Function] to throw error including 'Rating must be between 0 and 5' but got 'service.validateFilters is not a func…'[39m
 [31m❯[39m tests/integration/websocket/order-tracking-realtime.integration.test.ts [2m([22m[2m23 tests[22m[2m | [22m[31m7 failed[39m[2m)[22m[33m 20669[2mms[22m[39m
[31m   [31m×[31m Order Tracking WebSocket Integration[2m > [22mWebSocket Connection[2m > [22mshould establish WebSocket connection for order chat[90m 54[2mms[22m[31m[39m
[31m     → Invalid Chai property: toHaveReceivedConnectionParams[39m
[31m   [31m×[31m Order Tracking WebSocket Integration[2m > [22mWebSocket Connection[2m > [22mshould support multiple concurrent connections[90m 28[2mms[22m[31m[39m
[31m     → expected undefined to be 2 // Object.is equality[39m
[31m   [31m×[31m Order Tracking WebSocket Integration[2m > [22mError Handling and Recovery[2m > [22mshould handle malformed JSON messages[33m 5022[2mms[22m[31m[39m
[31m     → Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [31m×[31m Order Tracking WebSocket Integration[2m > [22mError Handling and Recovery[2m > [22mshould handle server errors gracefully[33m 5037[2mms[22m[31m[39m
[31m     → Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [31m×[31m Order Tracking WebSocket Integration[2m > [22mPerformance and Load Testing[2m > [22mshould handle multiple concurrent connections efficiently[90m 27[2mms[22m[31m[39m
[31m     → expected undefined to be 50 // Object.is equality[39m
[31m   [31m×[31m Order Tracking WebSocket Integration[2m > [22mSecurity and Authentication[2m > [22mshould require valid user authentication[33m 5016[2mms[22m[31m[39m
[31m     → Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m   [31m×[31m Order Tracking WebSocket Integration[2m > [22mSecurity and Authentication[2m > [22mshould validate order access permissions[33m 5003[2mms[22m[31m[39m
[31m     → Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[90mstdout[2m | tests/unit/components/features/tailors/TailorCard.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 👥 sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/hooks/useSavedSearches.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🛠️  run anywhere with `dotenvx run -- yourcommand`

 [31m❯[39m tests/unit/hooks/useSavedSearches.test.ts [2m([22m[2m16 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 1354[2mms[22m[39m
[31m   [31m×[31m useSavedSearches[2m > [22mCreate Saved Search[2m > [22mshould handle create errors[90m 112[2mms[22m[31m[39m
[31m     → expected "error" to be called with arguments: [ …(2) ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m[39m
[31m   [31m×[31m useSavedSearches[2m > [22mUpdate Saved Search[2m > [22mshould handle update errors[90m 85[2mms[22m[31m[39m
[31m     → expected "error" to be called with arguments: [ …(2) ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m[39m
[31m   [31m×[31m useSavedSearches[2m > [22mCheck Matches[2m > [22mshould check matches with since parameter[90m 103[2mms[22m[31m[39m
[31m     → expected "spy" to be called with arguments: [ Array(1) ][90m

Received: 

[1m  1st spy call:

[22m[2m  Array [[22m
[32m-   "/api/search/saved/search-1/check?since=2024-01-03T00:00:00.000Z",[90m
[31m+   "/api/search/saved",[90m
[2m  ][22m

[1m  2nd spy call:

[22m[2m  Array [[22m
[32m-   "/api/search/saved/search-1/check?since=2024-01-03T00:00:00.000Z",[90m
[31m+   "/api/search/saved/search-1/check?since=2024-01-03T00%3A00%3A00.000Z",[90m
[2m  ][22m
[31m[90m

Number of calls: [1m2[22m
[31m[39m
[90mstdout[2m | tests/unit/components/features/tailors/TailorCard.test.tsx[2m > [22m[2mTailorCard[2m > [22m[2mAction Buttons[2m > [22m[2mshould handle contact button click with WhatsApp
[22m[39mContact tailor: tailor-1

 [32m✓[39m tests/integration/loyalty-lifecycle.integration.test.ts [2m([22m[2m13 tests[22m[2m)[22m[90m 58[2mms[22m[39m
 [31m❯[39m tests/unit/components/features/tailors/TailorCard.test.tsx [2m([22m[2m34 tests[22m[2m | [22m[31m12 failed[39m[2m)[22m[33m 3191[2mms[22m[39m
[31m   [31m×[31m TailorCard[2m > [22mBasic Rendering[2m > [22mshould render placeholder when no profile photo[90m 115[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: Kente Designs Ltd

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[31m
  [33mclass[31m=[32m"text-sm text-blue-600 font-medium"[31m
[36m>[31m
  [0mKente Designs Ltd[0m
[36m</p>[31m

Ignored nodes: comments, script, style
[36m<h3[31m
  [33mclass[31m=[32m"font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"[31m
[36m>[31m
  [0mKente Designs Ltd[0m
[36m</h3>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow group cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-1"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"w-full h-48 bg-gradient-to-br from-blue-50 to-blue-100 rounded-t-lg flex items-center justify-center"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"text-center"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"w-16 h-16 mx-auto mb-2 bg-blue-200 rounded-full flex items-center justify-center"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-map-pin h-8 w-8 text-blue-600"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"10"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-blue-600 font-medium"[31m
            [36m>[31m
              [0mKente Designs Ltd[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"absolute top-2 right-2"[31m
        [36m>[31m
          [36m<button[31m
            [33mclass[31m=[32m"variant-ghost size-sm"[31m
            [33mdata-testid[31m=[32m"favorite-button-tailor-1"[31m
          [36m>[31m
            [0mFavorite [0m
            [0mKente Designs Ltd[0m
          [36m</button>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"absolute top-2 left-2"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 bg-green-600 text-white text-xs"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-circle-check-big h-3 w-3 mr-1"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"m9 11 3 3L22 4"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mVerified[0m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"p-4"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"mb-3"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"[31m
          [36m>[31m
            [0mKente Designs Ltd[0m
          [36m</h3>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-2 mt-1"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-1"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                [36m/>[31m
              [36m</svg>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm font-medium text-gray-900"[31m
              [36m>[31m
                [0m4.8[0m
              [36m</span>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm text-gray-500"[31m
              [36m>[31m
                [0m([0m
                [0m25[0m
                [0m)[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-xs text-green-600 border-green-200"[31m
            [36m>[31m
              [0mFast Response[0m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center gap-1 mb-3"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide...[39m
[31m   [31m×[31m TailorCard[2m > [22mBasic Rendering[2m > [22mshould display specializations with limit[90m 67[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: +1

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[31m
  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-xs text-gray-500"[31m
[36m>[31m
  [0m+[0m
  [0m1[0m
[36m</div>[31m

Ignored nodes: comments, script, style
[36m<span[31m
  [33mclass[31m=[32m"text-xs text-gray-600"[31m
[36m>[31m
  [0m+[0m
  [0m1[0m
[36m</span>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow group cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-1"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative"[31m
      [36m>[31m
        [36m<img[31m
          [33malt[31m=[32m"Kente Designs Ltd"[31m
          [33mclass[31m=[32m"w-full h-48 object-cover rounded-t-lg"[31m
          [33msrc[31m=[32m"https://example.com/profile.jpg"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"absolute top-2 right-2"[31m
        [36m>[31m
          [36m<button[31m
            [33mclass[31m=[32m"variant-ghost size-sm"[31m
            [33mdata-testid[31m=[32m"favorite-button-tailor-1"[31m
          [36m>[31m
            [0mFavorite [0m
            [0mKente Designs Ltd[0m
          [36m</button>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"absolute top-2 left-2"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 bg-green-600 text-white text-xs"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-circle-check-big h-3 w-3 mr-1"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"m9 11 3 3L22 4"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mVerified[0m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"p-4"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"mb-3"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"[31m
          [36m>[31m
            [0mKente Designs Ltd[0m
          [36m</h3>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-2 mt-1"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-1"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                [36m/>[31m
              [36m</svg>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm font-medium text-gray-900"[31m
              [36m>[31m
                [0m4.8[0m
              [36m</span>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm text-gray-500"[31m
              [36m>[31m
                [0m([0m
                [0m25[0m
                [0m)[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-xs text-green-600 border-green-200"[31m
            [36m>[31m
              [0mFast Response[0m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center gap-1 mb-3"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-map-pin h-4 w-4 text-gray-400"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[31m
            [36m/>[31m
            [36m<circle[31m
              [33mcx[31m=[32m"12"[31m
              [33mcy[31m=[32m"10"[31m
              [33mr[31m=[32m"3"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<span[31m
            [33mclass[31m=[32m"text-sm text-gray-600"[31m
          [36m>[31m
            [0mAccra[0m
          [36m</span>[31m
          [36m<span[31m
            [33mclass[31m=[32m"text-gray-400"[31m
          [36m>[31m
            [0m•[0m
          [36m</span>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-clock h-4 w-4 text-gray-400"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-li...[39m
[31m   [31m×[31m TailorCard[2m > [22mSelection State[2m > [22mshould apply selected styling when isSelected is true[90m 131[2mms[22m[31m[39m
[31m     → [2mexpect([22m[31mreceived[31m[2m).toHaveClass()[22m

[31mreceived[31m value must be an HTMLElement or an SVGElement.
[39m
[31m   [31m×[31m TailorCard[2m > [22mSelection State[2m > [22mshould not apply selected styling when isSelected is false[90m 63[2mms[22m[31m[39m
[31m     → [2mexpect([22m[31mreceived[31m[2m).not.toHaveClass()[22m

[31mreceived[31m value must be an HTMLElement or an SVGElement.
[39m
[31m   [31m×[31m TailorCard[2m > [22mAction Buttons[2m > [22mshould handle contact button click with WhatsApp[90m 58[2mms[22m[31m[39m
[31m     → expected "spy" to be called with arguments: [ StringContaining{…}, '_blank' ][90m

Received: 

[1m  1st spy call:

[22m[2m  Array [[22m
[32m-   StringContaining "https://wa.me/233501234567",[90m
[31m+   "/tailors/tailor-1",[90m
[2m    "_blank",[22m
[2m  ][22m
[31m[90m

Number of calls: [1m1[22m
[31m[39m
[31m   [31m×[31m TailorCard[2m > [22mAction Buttons[2m > [22mshould handle contact button click without WhatsApp[90m 100[2mms[22m[31m[39m
[31m     → expected "spy" to not be called at all, but actually been called 1 times[90m

Received: 

[1m  1st spy call:

[22m    Array [
      "/tailors/tailor-1",
      "_blank",
    ]
[31m[90m

Number of calls: [1m1[22m
[31m[39m
[31m   [31m×[31m TailorCard[2m > [22mHover Effects[2m > [22mshould show portfolio images on hover[33m 1102[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: +1

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[31m
  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-xs text-gray-500"[31m
[36m>[31m
  [0m+[0m
  [0m1[0m
[36m</div>[31m

Ignored nodes: comments, script, style
[36m<span[31m
  [33mclass[31m=[32m"text-xs text-gray-600"[31m
[36m>[31m
  [0m+[0m
  [0m1[0m
[36m</span>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow group cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-1"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative"[31m
      [36m>[31m
        [36m<img[31m
          [33malt[31m=[32m"Kente Designs Ltd"[31m
          [33mclass[31m=[32m"w-full h-48 object-cover rounded-t-lg"[31m
          [33msrc[31m=[32m"https://example.com/profile.jpg"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"absolute top-2 right-2"[31m
        [36m>[31m
          [36m<button[31m
            [33mclass[31m=[32m"variant-ghost size-sm"[31m
            [33mdata-testid[31m=[32m"favorite-button-tailor-1"[31m
          [36m>[31m
            [0mFavorite [0m
            [0mKente Designs Ltd[0m
          [36m</button>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"absolute top-2 left-2"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 bg-green-600 text-white text-xs"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-circle-check-big h-3 w-3 mr-1"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"m9 11 3 3L22 4"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mVerified[0m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"p-4"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"mb-3"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"[31m
          [36m>[31m
            [0mKente Designs Ltd[0m
          [36m</h3>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-2 mt-1"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-1"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                [36m/>[31m
              [36m</svg>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm font-medium text-gray-900"[31m
              [36m>[31m
                [0m4.8[0m
              [36m</span>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm text-gray-500"[31m
              [36m>[31m
                [0m([0m
                [0m25[0m
                [0m)[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-xs text-green-600 border-green-200"[31m
            [36m>[31m
              [0mFast Response[0m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center gap-1 mb-3"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-map-pin h-4 w-4 text-gray-400"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[31m
            [36m/>[31m
            [36m<circle[31m
              [33mcx[31m=[32m"12"[31m
              [33mcy[31m=[32m"10"[31m
              [33mr[31m=[32m"3"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<span[31m
            [33mclass[31m=[32m"text-sm text-gray-600"[31m
          [36m>[31m
            [0mAccra[0m
          [36m</span>[31m
          [36m<span[31m
            [33mclass[31m=[32m"text-gray-400"[31m
          [36m>[31m
            [0m•[0m
          [36m</span>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-clock h-4 w-4 text-gray-400"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-li...

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow group cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-1"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"relative"[31m
        [36m>[31m
          [36m<img[31m
            [33malt[31m=[32m"Kente Designs Ltd"[31m
            [33mclass[31m=[32m"w-full h-48 object-cover rounded-t-lg"[31m
            [33msrc[31m=[32m"https://example.com/profile.jpg"[31m
          [36m/>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute top-2 right-2"[31m
          [36m>[31m
            [36m<button[31m
              [33mclass[31m=[32m"variant-ghost size-sm"[31m
              [33mdata-testid[31m=[32m"favorite-button-tailor-1"[31m
            [36m>[31m
              [0mFavorite [0m
              [0mKente Designs Ltd[0m
            [36m</button>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute top-2 left-2"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 bg-green-600 text-white text-xs"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-circle-check-big h-3 w-3 mr-1"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"m9 11 3 3L22 4"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mVerified[0m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"mb-3"[31m
          [36m>[31m
            [36m<h3[31m
              [33mclass[31m=[32m"font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"[31m
            [36m>[31m
              [0mKente Designs Ltd[0m
            [36m</h3>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-2 mt-1"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center gap-1"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-sm font-medium text-gray-900"[31m
                [36m>[31m
                  [0m4.8[0m
                [36m</span>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-sm text-gray-500"[31m
                [36m>[31m
                  [0m([0m
                  [0m25[0m
                  [0m)[0m
                [36m</span>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-xs text-green-600 border-green-200"[31m
              [36m>[31m
                [0mFast Response[0m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-1 mb-3"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-map-pin h-4 w-4 text-gray-400"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[31m
              [36m/>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"12"[31m
                [33mcy[31m=[32m"10"[31m
                [33mr[31m=[32m"3"[31m
              [36m/>[31m
            [36m</svg>[31m
            [36m<span[31m
              [33mclass[31m=[32m"text-sm text-gray-600"[31m
            [36m>[31m
              [0mAccra[0m
            [36m</span>[31m
            [36m<span[31m
              [33mclass[31m=[32m"text-gray-400"[31m
            [36m>[31m
              [0m•[0m
            [36m</span>[31m
            [36m<svg[31m
              [33maria-hidden...[39m
[31m   [31m×[31m TailorCard[2m > [22mAccessibility[2m > [22mshould have proper ARIA attributes[90m 35[2mms[22m[31m[39m
[31m     → Found multiple elements with the role "button"

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<button[31m
  [33mclass[31m=[32m"variant-ghost size-sm"[31m
  [33mdata-testid[31m=[32m"favorite-button-tailor-1"[31m
[36m>[31m
  [0mFavorite [0m
  [0mKente Designs Ltd[0m
[36m</button>[31m

Ignored nodes: comments, script, style
[36m<button[31m
  [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md px-3 flex-1 h-8 text-xs"[31m
[36m>[31m
  [36m<svg[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mclass[31m=[32m"lucide lucide-external-link h-3 w-3 mr-1"[31m
    [33mfill[31m=[32m"none"[31m
    [33mheight[31m=[32m"24"[31m
    [33mstroke[31m=[32m"currentColor"[31m
    [33mstroke-linecap[31m=[32m"round"[31m
    [33mstroke-linejoin[31m=[32m"round"[31m
    [33mstroke-width[31m=[32m"2"[31m
    [33mviewBox[31m=[32m"0 0 24 24"[31m
    [33mwidth[31m=[32m"24"[31m
    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
  [36m>[31m
    [36m<path[31m
      [33md[31m=[32m"M15 3h6v6"[31m
    [36m/>[31m
    [36m<path[31m
      [33md[31m=[32m"M10 14 21 3"[31m
    [36m/>[31m
    [36m<path[31m
      [33md[31m=[32m"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"[31m
    [36m/>[31m
  [36m</svg>[31m
  [0mProfile[0m
[36m</button>[31m

Ignored nodes: comments, script, style
[36m<button[31m
  [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground rounded-md px-3 flex-1 h-8 text-xs"[31m
[36m>[31m
  [36m<svg[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mclass[31m=[32m"lucide lucide-message-circle h-3 w-3 mr-1"[31m
    [33mfill[31m=[32m"none"[31m
    [33mheight[31m=[32m"24"[31m
    [33mstroke[31m=[32m"currentColor"[31m
    [33mstroke-linecap[31m=[32m"round"[31m
    [33mstroke-linejoin[31m=[32m"round"[31m
    [33mstroke-width[31m=[32m"2"[31m
    [33mviewBox[31m=[32m"0 0 24 24"[31m
    [33mwidth[31m=[32m"24"[31m
    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
  [36m>[31m
    [36m<path[31m
      [33md[31m=[32m"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"[31m
    [36m/>[31m
  [36m</svg>[31m
  [0mContact[0m
[36m</button>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow group cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-1"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative"[31m
      [36m>[31m
        [36m<img[31m
          [33malt[31m=[32m"Kente Designs Ltd"[31m
          [33mclass[31m=[32m"w-full h-48 object-cover rounded-t-lg"[31m
          [33msrc[31m=[32m"https://example.com/profile.jpg"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"absolute top-2 right-2"[31m
        [36m>[31m
          [36m<button[31m
            [33mclass[31m=[32m"variant-ghost size-sm"[31m
            [33mdata-testid[31m=[32m"favorite-button-tailor-1"[31m
          [36m>[31m
            [0mFavorite [0m
            [0mKente Designs Ltd[0m
          [36m</button>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"absolute top-2 left-2"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 bg-green-600 text-white text-xs"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-circle-check-big h-3 w-3 mr-1"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"m9 11 3 3L22 4"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mVerified[0m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"p-4"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"mb-3"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"[31m
          [36m>[31m
            [0mKente Designs Ltd[0m
          [36m</h3>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-2 mt-1"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-1"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                [36m/>[31m
              [36m</svg>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm font-medium text-gray-900"[31m
              [36m>[31m
                [0m4.8[0m
              [36m</span>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm text-gray-500"[31m
              [36m>[31m
                [0m([0m
                [0m25[0m
                [0m)[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-xs text-green-600 border-green-200"[31m
            [36m>[31m
              [0mFast Response[0m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center gap-1 mb-3"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-map-pin h-4 w-4 text-gray-400"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[31m
            [36m/>[31m
            [36m<circle[31m
              [33mcx[31m=[32m"12"[31m
              [33mcy[31m=[32m"10"[31m
              [33mr[31m=[32m"3"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<span[31m
            [33mclass[31m=[32m"text-sm text-gray-600"[31m
          [36m>[31m
            [0mAccra[0m
          [36m</span>[31m
          [36m<span[31m
            [33mclass[31m=[32m"text-gray-400"[31m
          [36m>[31m
            [0m•[0m
          [36m</span>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-clock h-4 w-4 text-gray-400"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-li...[39m
[31m   [31m×[31m TailorCard[2m > [22mAccessibility[2m > [22mshould support keyboard navigation[90m 54[2mms[22m[31m[39m
[31m     → expected "spy" to be called 1 times, but got 0 times[39m
[31m   [31m×[31m TailorCard[2m > [22mError Handling[2m > [22mshould handle missing required fields gracefully[90m 20[2mms[22m[31m[39m
[31m     → expected [Function] to not throw an error but 'TypeError: Cannot read properties of …' was thrown[39m
[31m   [31m×[31m TailorCard[2m > [22mCustom Styling[2m > [22mshould apply custom className when provided[90m 40[2mms[22m[31m[39m
[31m     → [2mexpect([22m[31mreceived[31m[2m).toHaveClass()[22m

[31mreceived[31m value must be an HTMLElement or an SVGElement.
[39m
[31m   [31m×[31m TailorCard[2m > [22mCustom Styling[2m > [22mshould maintain default styling without custom className[90m 37[2mms[22m[31m[39m
[31m     → [2mexpect([22m[31mreceived[31m[2m).toHaveClass()[22m

[31mreceived[31m value must be an HTMLElement or an SVGElement.
[39m
[90mstdout[2m | tests/unit/components/features/tailors/TailorSearchResults.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🛠️  run anywhere with `dotenvx run -- yourcommand`

[90mstdout[2m | tests/unit/lib/services/notification.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 👥 sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/lib/services/twilio.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  suppress all logs with { quiet: true }

[90mstdout[2m | tests/unit/lib/services/twilio.service.test.ts[2m > [22m[2mTwilioService[2m > [22m[2msendSMS[2m > [22m[2mshould send SMS successfully
[22m[39mSMS sent successfully: SM123456789

[90mstderr[2m | tests/unit/lib/services/twilio.service.test.ts[2m > [22m[2mTwilioService[2m > [22m[2msendSMS[2m > [22m[2mshould throw error for invalid phone number
[22m[39mFailed to send SMS: Error: Invalid Ghana phone number: 123456
    at TwilioService.sendSMS [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\twilio.service.ts:191:15[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\twilio.service.test.ts:209:34
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

[90mstderr[2m | tests/unit/lib/services/twilio.service.test.ts[2m > [22m[2mTwilioService[2m > [22m[2msendSMS[2m > [22m[2mshould handle Twilio API errors
[22m[39mFailed to send SMS: Error: Twilio API Error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\twilio.service.test.ts:217:25
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5) {
  code: [33m21211[39m
}

[90mstdout[2m | tests/unit/lib/services/twilio.service.test.ts[2m > [22m[2mTwilioService[2m > [22m[2msendWhatsApp[2m > [22m[2mshould send WhatsApp message successfully
[22m[39mWhatsApp message sent successfully: SM987654321

[90mstdout[2m | tests/unit/lib/services/twilio.service.test.ts[2m > [22m[2mTwilioService[2m > [22m[2msendMessage[2m > [22m[2mshould send SMS by default
[22m[39mSMS sent successfully: SM111111111

[90mstdout[2m | tests/unit/lib/services/twilio.service.test.ts[2m > [22m[2mTwilioService[2m > [22m[2msendMessage[2m > [22m[2mshould send WhatsApp when specified
[22m[39mWhatsApp message sent successfully: SM222222222

[90mstderr[2m | tests/unit/lib/services/twilio.service.test.ts[2m > [22m[2mTwilioService[2m > [22m[2mgetMessageStatus[2m > [22m[2mshould return null for non-existent message
[22m[39mFailed to fetch message status for SID SM_NONEXISTENT: Error: Message not found
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\twilio.service.test.ts:356:25
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)

[90mstdout[2m | tests/unit/lib/services/twilio.service.test.ts[2m > [22m[2mTwilioService[2m > [22m[2msendOrderNotification[2m > [22m[2mshould send order notification with proper formatting
[22m[39mSMS sent successfully: SM333333333

[90mstdout[2m | tests/unit/lib/services/twilio.service.test.ts[2m > [22m[2mTwilioService[2m > [22m[2msendPaymentConfirmation[2m > [22m[2mshould send payment confirmation with amount formatting
[22m[39mSMS sent successfully: SM444444444

[90mstderr[2m | tests/unit/lib/services/twilio.service.test.ts[2m > [22m[2mTwilioService[2m > [22m[2mvalidateWebhookSignature[2m > [22m[2mshould handle validation errors gracefully
[22m[39mFailed to validate webhook signature: Error: Validation error
    at Object.<anonymous> [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\twilio.service.test.ts:478:15[90m)[39m
    at Object.mockCall (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+spy@2.1.9/node_modules/[4m@vitest/spy[24m/dist/index.js:61:17)
    at Object.spy [as validate] (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/tinyspy@3.0.2/node_modules/[4mtinyspy[24m/dist/index.js:45:80)
    at TwilioService.validateWebhookSignature [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\twilio.service.ts:374:35[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\twilio.service.test.ts:481:36
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

 [32m✓[39m tests/unit/lib/services/twilio.service.test.ts [2m([22m[2m20 tests[22m[2m)[22m[90m 170[2mms[22m[39m
[90mstdout[2m | tests/unit/components/features/orders/OrderProgressTimeline.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com

[90mstdout[2m | tests/unit/components/features/tailors/TailorSearchResults.test.tsx[2m > [22m[2mTailorSearchResults[2m > [22m[2mContact Actions[2m > [22m[2mshould handle WhatsApp contact action
[22m[39mContact tailor: 1

 [31m❯[39m tests/unit/components/features/tailors/TailorSearchResults.test.tsx [2m([22m[2m26 tests[22m[2m | [22m[31m8 failed[39m[2m)[22m[33m 4473[2mms[22m[39m
[31m   [31m×[31m TailorSearchResults[2m > [22mList View[2m > [22mshould display distance when user location is provided[90m 128[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: 2.5 km away. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow p-6 cursor-pointer transition-all hover:shadow-md"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-start gap-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex-shrink-0"[31m
          [36m>[31m
            [36m<img[31m
              [33malt[31m=[32m"Kente Tailors Ltd"[31m
              [33mclass[31m=[32m"w-16 h-16 rounded-full object-cover"[31m
              [33msrc[31m=[32m"https://example.com/profile1.jpg"[31m
            [36m/>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex-1 min-w-0"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-start justify-between mb-2"[31m
            [36m>[31m
              [36m<div>[31m
                [36m<h3[31m
                  [33mclass[31m=[32m"text-lg font-semibold text-gray-900 truncate"[31m
                [36m>[31m
                  [0mKente Tailors Ltd[0m
                [36m</h3>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center gap-4 mt-1"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex items-center gap-1"[31m
                  [36m>[31m
                    [36m<svg[31m
                      [33maria-hidden[31m=[32m"true"[31m
                      [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[31m
                      [33mfill[31m=[32m"none"[31m
                      [33mheight[31m=[32m"24"[31m
                      [33mstroke[31m=[32m"currentColor"[31m
                      [33mstroke-linecap[31m=[32m"round"[31m
                      [33mstroke-linejoin[31m=[32m"round"[31m
                      [33mstroke-width[31m=[32m"2"[31m
                      [33mviewBox[31m=[32m"0 0 24 24"[31m
                      [33mwidth[31m=[32m"24"[31m
                      [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                    [36m>[31m
                      [36m<path[31m
                        [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                      [36m/>[31m
                    [36m</svg>[31m
                    [36m<span[31m
                      [33mclass[31m=[32m"text-sm text-gray-600"[31m
                    [36m>[31m
                      [0m4.8[0m
                      [0m ([0m
                      [0m25[0m
                      [0m reviews)[0m
                    [36m</span>[31m
                  [36m</div>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex items-center gap-1"[31m
                  [36m>[31m
                    [36m<svg[31m
                      [33maria-hidden[31m=[32m"true"[31m
                      [33mclass[31m=[32m"lucide lucide-clock h-4 w-4 text-gray-400"[31m
                      [33mfill[31m=[32m"none"[31m
                      [33mheight[31m=[32m"24"[31m
                      [33mstroke[31m=[32m"currentColor"[31m
                      [33mstroke-linecap[31m=[32m"round"[31m
                      [33mstroke-linejoin[31m=[32m"round"[31m
                      [33mstroke-width[31m=[32m"2"[31m
                      [33mviewBox[31m=[32m"0 0 24 24"[31m
                      [33mwidth[31m=[32m"24"[31m
                      [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                    [36m>[31m
                      [36m<path[31m
                        [33md[31m=[32m"M12 6v6l4 2"[31m
                      [36m/>[31m
                      [36m<circle[31m
                        [33mcx[31m=[32m"12"[31m
                        [33mcy[31m=[32m"12"[31m
                        [33mr[31m=[32m"10"[31m
                      [36m/>[31m
                    [36m</svg>[31m
                    [36m<span[31m
                      [33mclass[31m=[32m"text-sm text-gray-600"[31m
                    [36m>[31m
                      [0mResponds in [0m
                      [0m2[0m
                      [0mh[0m
                    [36m</span>[31m
                  [36m</div>[31m
                [36m</div>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-secondary/80 bg-green-50 text-green-700"[31m
              [36m>[31m
                [0m✓ Verified[0m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-1 mb-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-map-pin h-4 w-4 text-gray-400"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"10"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm text-gray-600"[31m
              [36m>[31m
                [0mAccra[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex flex-wrap gap-2 mb-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-...[39m
[31m   [31m×[31m TailorSearchResults[2m > [22mList View[2m > [22mshould handle tailor selection[90m 169[2mms[22m[31m[39m
[31m     → [2mexpect([22m[31mreceived[31m[2m).toBeInTheDocument()[22m

[31mreceived[31m value must be an HTMLElement or an SVGElement.
[39m
[31m   [31m×[31m TailorSearchResults[2m > [22mGrid View[2m > [22mshould pass showDistance prop to TailorCard components[90m 42[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: Distance: 2.5km. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[31m
      [36m>[31m
        [36m<div[31m
          [33mdata-testid[31m=[32m"tailor-card-1"[31m
        [36m>[31m
          [36m<div>[31m
            [0mKente Tailors Ltd[0m
          [36m</div>[31m
          [36m<div>[31m
            [0mDistance: [0m
            [0mkm[0m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mdata-testid[31m=[32m"tailor-card-2"[31m
        [36m>[31m
          [36m<div>[31m
            [0mAdinkra Designs[0m
          [36m</div>[31m
          [36m<div>[31m
            [0mDistance: [0m
            [0mkm[0m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
   [33m[2m✓[22m[39m TailorSearchResults[2m > [22mLoading States[2m > [22mshould show loading skeletons in list view [33m340[2mms[22m[39m
[31m   [31m×[31m TailorSearchResults[2m > [22mContact Actions[2m > [22mshould handle WhatsApp contact action[90m 78[2mms[22m[31m[39m
[31m     → expected "spy" to be called with arguments: [ StringContaining{…}, '_blank' ][90m

Received: 

[1m  1st spy call:

[22m[2m  Array [[22m
[32m-   StringContaining "https://wa.me/233501234567",[90m
[31m+   "/tailors/1",[90m
[2m    "_blank",[22m
[2m  ][22m
[31m[90m

Number of calls: [1m1[22m
[31m[39m
[31m   [31m×[31m TailorSearchResults[2m > [22mAccessibility[2m > [22mshould have proper ARIA labels and roles[90m 228[2mms[22m[31m[39m
[31m     → Unable to find an accessible element with the role "article"

Here are the accessible roles:

  img:

  Name "Kente Tailors Ltd":
  [36m<img[31m
    [33malt[31m=[32m"Kente Tailors Ltd"[31m
    [33mclass[31m=[32m"w-16 h-16 rounded-full object-cover"[31m
    [33msrc[31m=[32m"https://example.com/profile1.jpg"[31m
  [36m/>[31m

  Name "Adinkra Designs":
  [36m<img[31m
    [33malt[31m=[32m"Adinkra Designs"[31m
    [33mclass[31m=[32m"w-16 h-16 rounded-full object-cover"[31m
    [33msrc[31m=[32m"https://example.com/profile2.jpg"[31m
  [36m/>[31m

  --------------------------------------------------
  heading:

  Name "Kente Tailors Ltd":
  [36m<h3[31m
    [33mclass[31m=[32m"text-lg font-semibold text-gray-900 truncate"[31m
  [36m/>[31m

  Name "Adinkra Designs":
  [36m<h3[31m
    [33mclass[31m=[32m"text-lg font-semibold text-gray-900 truncate"[31m
  [36m/>[31m

  --------------------------------------------------
  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-gray-600 line-clamp-2 mb-3"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-gray-600 line-clamp-2 mb-3"[31m
  [36m/>[31m

  --------------------------------------------------
  button:

  Name "View Profile":
  [36m<button[31m
    [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-8 rounded-md px-3 text-xs min-w-[100px]"[31m
  [36m/>[31m

  Name "Contact":
  [36m<button[31m
    [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs min-w-[100px]"[31m
  [36m/>[31m

  Name "Favorite Kente Tailors Ltd":
  [36m<button[31m
    [33mdata-testid[31m=[32m"favorite-1"[31m
  [36m/>[31m

  Name "View Profile":
  [36m<button[31m
    [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-8 rounded-md px-3 text-xs min-w-[100px]"[31m
  [36m/>[31m

  Name "Contact":
  [36m<button[31m
    [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs min-w-[100px]"[31m
  [36m/>[31m

  Name "Favorite Adinkra Designs":
  [36m<button[31m
    [33mdata-testid[31m=[32m"favorite-2"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow p-6 cursor-pointer transition-all hover:shadow-md"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-start gap-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex-shrink-0"[31m
          [36m>[31m
            [36m<img[31m
              [33malt[31m=[32m"Kente Tailors Ltd"[31m
              [33mclass[31m=[32m"w-16 h-16 rounded-full object-cover"[31m
              [33msrc[31m=[32m"https://example.com/profile1.jpg"[31m
            [36m/>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex-1 min-w-0"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-start justify-between mb-2"[31m
            [36m>[31m
              [36m<div>[31m
                [36m<h3[31m
                  [33mclass[31m=[32m"text-lg font-semibold text-gray-900 truncate"[31m
                [36m>[31m
                  [0mKente Tailors Ltd[0m
                [36m</h3>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center gap-4 mt-1"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex items-center gap-1"[31m
                  [36m>[31m
                    [36m<svg[31m
                      [33maria-hidden[31m=[32m"true"[31m
                      [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[31m
                      [33mfill[31m=[32m"none"[31m
                      [33mheight[31m=[32m"24"[31m
                      [33mstroke[31m=[32m"currentColor"[31m
                      [33mstroke-linecap[31m=[32m"round"[31m
                      [33mstroke-linejoin[31m=[32m"round"[31m
                      [33mstroke-width[31m=[32m"2"[31m
                      [33mviewBox[31m=[32m"0 0 24 24"[31m
                      [33mwidth[31m=[32m"24"[31m
                      [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                    [36m>[31m
                      [36m<path[31m
                        [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                      [36m/>[31m
                    [36m</svg>[31m
                    [36m<span[31m
                      [33mclass[31m=[32m"text-sm text-gray-600"[31m
                    [36m>[31m
                      [0m4.8[0m
                      [0m ([0m
                      [0m25[0m
                      [0m reviews)[0m
                    [36m</span>[31m
                  [36m</div>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex items-center gap-1"[31m
                  [36m>[31m
                    [36m<svg[31m
                      [33maria-hidden[31m=[32m"true"[31m
                      [33mclass[31m=[32m"lucide lucide-clock h-4 w-4 text-gray-400"[31m
                      [33mfill[31m=[32m"none"[31m
                      [33mheight[31m=[32m"24"[31m
                      [33mstroke[31m=[32m"currentColor"[31m
                      [33mstroke-linecap[31m=[32m"round"[31m
                      [33mstroke-linejoin[31m=[32m"round"[31m
                      [33mstroke-width[31m=[32m"2"[31m
                      [33mviewBox[31m=[32m"0 0 24 24"[31m
                      [33mwidth[31m=[32m"24"[31m
                      [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                    [36m>[31m
                      [36m<path[31m
                        [33md[31m=[32m"M12 6v6l4 2"[31m
                      [36m/>[31m
                      [36m<circle[31m
                        [33mcx[31m=[32m"12"[31m
                        [33mcy[31m=[32m"12"[31m
                        [33mr[31m=[32m"10"[31m
                      [36m/>[31m
                    [36m</svg>[31m
                    [36m<span[31m
                      [33mclass[31m=[32m"text-sm text-gray-600"[31m
                    [36m>[31m
                      [0mResponds in [0m
                      [0m2[0m
                      [0mh[0m
                    [36m</span>[31m
                  [36m</div>[31m
                [36m</div>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-secondary/80 bg-green-50 text-green-700"[31m
              [36m>[31m
                [0m✓ Verified[0m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-1 mb-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-map-pin h-4 w-4 text-gray-400"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"10"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm text-gray-600"[31m
              [36m>[31m
                [0mAccra[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex flex-wrap gap-2 mb-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-...[39m
[31m   [31m×[31m TailorSearchResults[2m > [22mAccessibility[2m > [22mshould support keyboard navigation[90m 198[2mms[22m[31m[39m
[31m     → Unable to find an accessible element with the role "article"

Here are the accessible roles:

  img:

  Name "Kente Tailors Ltd":
  [36m<img[31m
    [33malt[31m=[32m"Kente Tailors Ltd"[31m
    [33mclass[31m=[32m"w-16 h-16 rounded-full object-cover"[31m
    [33msrc[31m=[32m"https://example.com/profile1.jpg"[31m
  [36m/>[31m

  Name "Adinkra Designs":
  [36m<img[31m
    [33malt[31m=[32m"Adinkra Designs"[31m
    [33mclass[31m=[32m"w-16 h-16 rounded-full object-cover"[31m
    [33msrc[31m=[32m"https://example.com/profile2.jpg"[31m
  [36m/>[31m

  --------------------------------------------------
  heading:

  Name "Kente Tailors Ltd":
  [36m<h3[31m
    [33mclass[31m=[32m"text-lg font-semibold text-gray-900 truncate"[31m
  [36m/>[31m

  Name "Adinkra Designs":
  [36m<h3[31m
    [33mclass[31m=[32m"text-lg font-semibold text-gray-900 truncate"[31m
  [36m/>[31m

  --------------------------------------------------
  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-gray-600 line-clamp-2 mb-3"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-gray-600 line-clamp-2 mb-3"[31m
  [36m/>[31m

  --------------------------------------------------
  button:

  Name "View Profile":
  [36m<button[31m
    [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-8 rounded-md px-3 text-xs min-w-[100px]"[31m
  [36m/>[31m

  Name "Contact":
  [36m<button[31m
    [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs min-w-[100px]"[31m
  [36m/>[31m

  Name "Favorite Kente Tailors Ltd":
  [36m<button[31m
    [33mdata-testid[31m=[32m"favorite-1"[31m
  [36m/>[31m

  Name "View Profile":
  [36m<button[31m
    [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-8 rounded-md px-3 text-xs min-w-[100px]"[31m
  [36m/>[31m

  Name "Contact":
  [36m<button[31m
    [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs min-w-[100px]"[31m
  [36m/>[31m

  Name "Favorite Adinkra Designs":
  [36m<button[31m
    [33mdata-testid[31m=[32m"favorite-2"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow p-6 cursor-pointer transition-all hover:shadow-md"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-start gap-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex-shrink-0"[31m
          [36m>[31m
            [36m<img[31m
              [33malt[31m=[32m"Kente Tailors Ltd"[31m
              [33mclass[31m=[32m"w-16 h-16 rounded-full object-cover"[31m
              [33msrc[31m=[32m"https://example.com/profile1.jpg"[31m
            [36m/>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex-1 min-w-0"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-start justify-between mb-2"[31m
            [36m>[31m
              [36m<div>[31m
                [36m<h3[31m
                  [33mclass[31m=[32m"text-lg font-semibold text-gray-900 truncate"[31m
                [36m>[31m
                  [0mKente Tailors Ltd[0m
                [36m</h3>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center gap-4 mt-1"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex items-center gap-1"[31m
                  [36m>[31m
                    [36m<svg[31m
                      [33maria-hidden[31m=[32m"true"[31m
                      [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[31m
                      [33mfill[31m=[32m"none"[31m
                      [33mheight[31m=[32m"24"[31m
                      [33mstroke[31m=[32m"currentColor"[31m
                      [33mstroke-linecap[31m=[32m"round"[31m
                      [33mstroke-linejoin[31m=[32m"round"[31m
                      [33mstroke-width[31m=[32m"2"[31m
                      [33mviewBox[31m=[32m"0 0 24 24"[31m
                      [33mwidth[31m=[32m"24"[31m
                      [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                    [36m>[31m
                      [36m<path[31m
                        [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                      [36m/>[31m
                    [36m</svg>[31m
                    [36m<span[31m
                      [33mclass[31m=[32m"text-sm text-gray-600"[31m
                    [36m>[31m
                      [0m4.8[0m
                      [0m ([0m
                      [0m25[0m
                      [0m reviews)[0m
                    [36m</span>[31m
                  [36m</div>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex items-center gap-1"[31m
                  [36m>[31m
                    [36m<svg[31m
                      [33maria-hidden[31m=[32m"true"[31m
                      [33mclass[31m=[32m"lucide lucide-clock h-4 w-4 text-gray-400"[31m
                      [33mfill[31m=[32m"none"[31m
                      [33mheight[31m=[32m"24"[31m
                      [33mstroke[31m=[32m"currentColor"[31m
                      [33mstroke-linecap[31m=[32m"round"[31m
                      [33mstroke-linejoin[31m=[32m"round"[31m
                      [33mstroke-width[31m=[32m"2"[31m
                      [33mviewBox[31m=[32m"0 0 24 24"[31m
                      [33mwidth[31m=[32m"24"[31m
                      [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                    [36m>[31m
                      [36m<path[31m
                        [33md[31m=[32m"M12 6v6l4 2"[31m
                      [36m/>[31m
                      [36m<circle[31m
                        [33mcx[31m=[32m"12"[31m
                        [33mcy[31m=[32m"12"[31m
                        [33mr[31m=[32m"10"[31m
                      [36m/>[31m
                    [36m</svg>[31m
                    [36m<span[31m
                      [33mclass[31m=[32m"text-sm text-gray-600"[31m
                    [36m>[31m
                      [0mResponds in [0m
                      [0m2[0m
                      [0mh[0m
                    [36m</span>[31m
                  [36m</div>[31m
                [36m</div>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-secondary/80 bg-green-50 text-green-700"[31m
              [36m>[31m
                [0m✓ Verified[0m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-1 mb-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-map-pin h-4 w-4 text-gray-400"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"10"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm text-gray-600"[31m
              [36m>[31m
                [0mAccra[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex flex-wrap gap-2 mb-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-...[39m
[31m   [31m×[31m TailorSearchResults[2m > [22mError Handling[2m > [22mshould handle missing tailor data gracefully[90m 65[2mms[22m[31m[39m
[31m     → Unable to find an accessible element with the role "main"

Here are the accessible roles:

  img:

  Name "":
  [36m<img[31m
    [33mclass[31m=[32m"w-16 h-16 rounded-full object-cover"[31m
    [33msrc[31m=[32m"https://example.com/profile1.jpg"[31m
  [36m/>[31m

  --------------------------------------------------
  heading:

  Name "":
  [36m<h3[31m
    [33mclass[31m=[32m"text-lg font-semibold text-gray-900 truncate"[31m
  [36m/>[31m

  --------------------------------------------------
  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-gray-600 line-clamp-2 mb-3"[31m
  [36m/>[31m

  --------------------------------------------------
  button:

  Name "View Profile":
  [36m<button[31m
    [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-8 rounded-md px-3 text-xs min-w-[100px]"[31m
  [36m/>[31m

  Name "Contact":
  [36m<button[31m
    [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs min-w-[100px]"[31m
  [36m/>[31m

  Name "Favorite":
  [36m<button[31m
    [33mdata-testid[31m=[32m"favorite-1"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow p-6 cursor-pointer transition-all hover:shadow-md"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-start gap-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex-shrink-0"[31m
          [36m>[31m
            [36m<img[31m
              [33mclass[31m=[32m"w-16 h-16 rounded-full object-cover"[31m
              [33msrc[31m=[32m"https://example.com/profile1.jpg"[31m
            [36m/>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex-1 min-w-0"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-start justify-between mb-2"[31m
            [36m>[31m
              [36m<div>[31m
                [36m<h3[31m
                  [33mclass[31m=[32m"text-lg font-semibold text-gray-900 truncate"[31m
                [36m/>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center gap-4 mt-1"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex items-center gap-1"[31m
                  [36m>[31m
                    [36m<svg[31m
                      [33maria-hidden[31m=[32m"true"[31m
                      [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[31m
                      [33mfill[31m=[32m"none"[31m
                      [33mheight[31m=[32m"24"[31m
                      [33mstroke[31m=[32m"currentColor"[31m
                      [33mstroke-linecap[31m=[32m"round"[31m
                      [33mstroke-linejoin[31m=[32m"round"[31m
                      [33mstroke-width[31m=[32m"2"[31m
                      [33mviewBox[31m=[32m"0 0 24 24"[31m
                      [33mwidth[31m=[32m"24"[31m
                      [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                    [36m>[31m
                      [36m<path[31m
                        [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                      [36m/>[31m
                    [36m</svg>[31m
                    [36m<span[31m
                      [33mclass[31m=[32m"text-sm text-gray-600"[31m
                    [36m>[31m
                      [0m4.8[0m
                      [0m ([0m
                      [0m25[0m
                      [0m reviews)[0m
                    [36m</span>[31m
                  [36m</div>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex items-center gap-1"[31m
                  [36m>[31m
                    [36m<svg[31m
                      [33maria-hidden[31m=[32m"true"[31m
                      [33mclass[31m=[32m"lucide lucide-clock h-4 w-4 text-gray-400"[31m
                      [33mfill[31m=[32m"none"[31m
                      [33mheight[31m=[32m"24"[31m
                      [33mstroke[31m=[32m"currentColor"[31m
                      [33mstroke-linecap[31m=[32m"round"[31m
                      [33mstroke-linejoin[31m=[32m"round"[31m
                      [33mstroke-width[31m=[32m"2"[31m
                      [33mviewBox[31m=[32m"0 0 24 24"[31m
                      [33mwidth[31m=[32m"24"[31m
                      [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                    [36m>[31m
                      [36m<path[31m
                        [33md[31m=[32m"M12 6v6l4 2"[31m
                      [36m/>[31m
                      [36m<circle[31m
                        [33mcx[31m=[32m"12"[31m
                        [33mcy[31m=[32m"12"[31m
                        [33mr[31m=[32m"10"[31m
                      [36m/>[31m
                    [36m</svg>[31m
                    [36m<span[31m
                      [33mclass[31m=[32m"text-sm text-gray-600"[31m
                    [36m>[31m
                      [0mResponds in [0m
                      [0m2[0m
                      [0mh[0m
                    [36m</span>[31m
                  [36m</div>[31m
                [36m</div>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-secondary/80 bg-green-50 text-green-700"[31m
              [36m>[31m
                [0m✓ Verified[0m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-1 mb-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-map-pin h-4 w-4 text-gray-400"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"10"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm text-gray-600"[31m
              [36m>[31m
                [0mAccra[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-gray-600 line-clamp-2 mb-3"[31m
            [36m>[31m
              [0mExpert in traditional Ghanaian wear[0m
            [36m</p>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-4 text-sm text-gray-500"[31m
            [36m>[31m
              [36m<span>[31m
                [0m150[0m
                [0m orders completed[0m
              [36m</span>[31m
              [36m<span>[31m
                [0m95[0m
                [0m% on-time delivery[0m
              [36m</span>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex flex-col gap-2 ml-4"[31m
          [36m>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-8 rounded-md px-3 text-xs min-w-[100px]"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-external-link h-4 w-4 mr-1"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M15 3h6v6"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M10 14 21 3"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mView Profile[0m
            [36m</button>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs min-w-[100px]"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-message-circle h-4 w-4 mr-1"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mContact[0m
            [36m</button>[31m
            [36m<button[31m
              [33mdata-testid[31m=[32m"favorite-1"[31m
            [36m>[31m
              [0mFavorite [0m
            [36m</button>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m TailorSearchResults[2m > [22mPerformance[2m > [22mshould render large lists efficiently[33m 2125[2mms[22m[31m[39m
[31m     → expected 2035.0323000000008 to be less than 100[39m
[90mstdout[2m | tests/integration/group-orders/group-order-api.integration.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 prevent committing .env to code: https://dotenvx.com/precommit

[90mstdout[2m | tests/unit/components/features/orders/PhotoModal.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 👥 sync secrets across teammates & machines: https://dotenvx.com/ops

 [31m❯[39m tests/integration/group-orders/group-order-api.integration.test.ts [2m([22m[2m15 tests[22m[2m | [22m[33m15 skipped[39m[2m)[22m[90m 114[2mms[22m[39m
 [31m❯[39m tests/unit/lib/services/notification.service.test.ts [2m([22m[2m25 tests[22m[2m | [22m[31m25 failed[39m[2m)[22m[90m 62[2mms[22m[39m
[31m   [31m×[31m NotificationService[2m > [22mInitialization[2m > [22mshould initialize successfully with supported APIs[90m 27[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mInitialization[2m > [22mshould fail initialization without service worker support[90m 2[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mInitialization[2m > [22mshould fail initialization without push manager support[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mInitialization[2m > [22mshould handle service worker registration failure[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mPermission Management[2m > [22mshould request notification permission[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mPermission Management[2m > [22mshould return current permission status[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mPermission Management[2m > [22mshould handle denied permission[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mPermission Management[2m > [22mshould return denied for unsupported browsers[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mPush Subscription[2m > [22mshould create push subscription successfully[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mPush Subscription[2m > [22mshould fail subscription without permission[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mPush Subscription[2m > [22mshould handle subscription creation failure[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mPush Subscription[2m > [22mshould unsubscribe successfully[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mPush Subscription[2m > [22mshould handle unsubscribe with no existing subscription[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mLocal Notifications[2m > [22mshould send local notification successfully[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mLocal Notifications[2m > [22mshould fail notification without permission[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mLocal Notifications[2m > [22mshould include correct actions for milestone notifications[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mLocal Notifications[2m > [22mshould send test notification successfully[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mPreferences Management[2m > [22mshould update notification preferences successfully[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mPreferences Management[2m > [22mshould handle preferences update failure[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mPreferences Management[2m > [22mshould register device successfully[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mUtility Functions[2m > [22mshould convert VAPID key to Uint8Array[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mUtility Functions[2m > [22mshould detect platform correctly[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mUtility Functions[2m > [22mshould detect iOS platform[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mError Handling[2m > [22mshould handle network errors gracefully[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[31m   [31m×[31m NotificationService[2m > [22mError Handling[2m > [22mshould handle service worker registration errors[90m 1[2mms[22m[31m[39m
[31m     → NotificationService.getInstance is not a function[39m
[90mstdout[2m | tests/unit/api/orders/milestone-approve.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 prevent committing .env to code: https://dotenvx.com/precommit

 [32m✓[39m tests/unit/components/features/orders/OrderProgressTimeline.test.tsx [2m([22m[2m30 tests[22m[2m)[22m[33m 2748[2mms[22m[39m
   [33m[2m✓[22m[39m OrderProgressTimeline[2m > [22mBasic Rendering[2m > [22mshould render order progress timeline [33m312[2mms[22m[39m
 [31m❯[39m tests/unit/components/features/orders/PhotoModal.test.tsx [2m([22m[2m36 tests[22m[2m | [22m[31m36 failed[39m[2m)[22m[90m 204[2mms[22m[39m
[31m   [31m×[31m PhotoModal[2m > [22mBasic Rendering[2m > [22mshould render modal when open[90m 74[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mBasic Rendering[2m > [22mshould not render modal when closed[90m 3[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mBasic Rendering[2m > [22mshould display photo with correct src[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mBasic Rendering[2m > [22mshould show photo notes when available[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mBasic Rendering[2m > [22mshould not show notes section when notes are empty[90m 3[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mNavigation Controls[2m > [22mshould show navigation buttons when hasPrevious and hasNext are true[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mNavigation Controls[2m > [22mshould disable previous button when hasPrevious is false[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mNavigation Controls[2m > [22mshould disable next button when hasNext is false[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mNavigation Controls[2m > [22mshould call onPrevious when previous button is clicked[90m 7[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mNavigation Controls[2m > [22mshould call onNext when next button is clicked[90m 3[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mKeyboard Navigation[2m > [22mshould navigate to previous photo with left arrow key[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mKeyboard Navigation[2m > [22mshould navigate to next photo with right arrow key[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mKeyboard Navigation[2m > [22mshould close modal with escape key[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mKeyboard Navigation[2m > [22mshould not navigate when hasPrevious is false and left arrow is pressed[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mKeyboard Navigation[2m > [22mshould not navigate when hasNext is false and right arrow is pressed[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mZoom Controls[2m > [22mshould display initial zoom level as 100%[90m 13[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mZoom Controls[2m > [22mshould zoom in when zoom in button is clicked[90m 3[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mZoom Controls[2m > [22mshould zoom out when zoom out button is clicked[90m 3[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mZoom Controls[2m > [22mshould reset zoom when reset button is clicked[90m 3[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mZoom Controls[2m > [22mshould disable zoom out button at minimum zoom[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mZoom Controls[2m > [22mshould support keyboard zoom controls[90m 3[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mDownload Functionality[2m > [22mshould not show download button when allowDownload is false[90m 3[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mDownload Functionality[2m > [22mshould show download button when allowDownload is true[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mDownload Functionality[2m > [22mshould trigger download when download button is clicked[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mDownload Functionality[2m > [22mshould handle download errors gracefully[90m 3[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mImage Loading States[2m > [22mshould show loading spinner initially[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mImage Loading States[2m > [22mshould hide loading spinner when image loads[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mImage Loading States[2m > [22mshould show error state when image fails to load[90m 15[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mMouse Interactions[2m > [22mshould enable dragging when zoomed in[90m 6[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mMouse Interactions[2m > [22mshould show default cursor when not zoomed[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mAccessibility[2m > [22mshould have proper ARIA attributes[90m 4[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mAccessibility[2m > [22mshould have descriptive alt text for image[90m 3[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mAccessibility[2m > [22mshould have proper button titles for screen readers[90m 3[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mBody Scroll Lock[2m > [22mshould prevent body scroll when modal is open[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mBody Scroll Lock[2m > [22mshould restore body scroll when modal is closed[90m 4[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m PhotoModal[2m > [22mPhoto Changes[2m > [22mshould reset zoom and position when photo changes[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[90mstderr[2m | tests/unit/api/orders/milestone-approve.test.ts[2m > [22m[2m/api/orders/[id]/milestone/approve[2m > [22m[2mPOST /api/orders/[id]/milestone/approve[2m > [22m[2mshould approve fitting milestone for customer
[22m[39mError in milestone approval: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/milestone-approve.test.ts[2m > [22m[2m/api/orders/[id]/milestone/approve[2m > [22m[2mPOST /api/orders/[id]/milestone/approve[2m > [22m[2mshould approve final milestone for delivery
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Error in milestone approval: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/milestone-approve.test.ts[2m > [22m[2m/api/orders/[id]/milestone/approve[2m > [22m[2mPOST /api/orders/[id]/milestone/approve[2m > [22m[2mshould reject unauthorized users
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Error in milestone approval: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/milestone-approve.test.ts[2m > [22m[2m/api/orders/[id]/milestone/approve[2m > [22m[2mPOST /api/orders/[id]/milestone/approve[2m > [22m[2mshould reject invalid stage transitions
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Error in milestone approval: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/milestone-approve.test.ts[2m > [22m[2m/api/orders/[id]/milestone/approve[2m > [22m[2mPOST /api/orders/[id]/milestone/approve[2m > [22m[2mshould reject insufficient permissions
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Error in milestone approval: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/milestone-approve.test.ts[2m > [22m[2m/api/orders/[id]/milestone/approve[2m > [22m[2mPOST /api/orders/[id]/milestone/approve[2m > [22m[2mshould handle invalid request data
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Error in milestone approval: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/milestone-approve.test.ts[2m > [22m[2m/api/orders/[id]/milestone/approve[2m > [22m[2mPOST /api/orders/[id]/milestone/approve[2m > [22m[2mshould handle escrow service failures
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Error in milestone approval: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/milestone-approve.test.ts[2m > [22m[2m/api/orders/[id]/milestone/approve[2m > [22m[2mGET /api/orders/[id]/milestone/approve[2m > [22m[2mshould return milestone approval information
[22m[39mError getting milestone approval info: ReferenceError: createServerComponentClient is not defined
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\orders\[id]\milestone\approve\route.ts:214:22[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\orders\milestone-approve.test.ts:353:30
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

[90mstderr[2m | tests/unit/api/orders/milestone-approve.test.ts[2m > [22m[2m/api/orders/[id]/milestone/approve[2m > [22m[2mGET /api/orders/[id]/milestone/approve[2m > [22m[2mshould return empty actions for unauthorized users
[22m[39mError getting milestone approval info: ReferenceError: createServerComponentClient is not defined
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\orders\[id]\milestone\approve\route.ts:214:22[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\orders\milestone-approve.test.ts:395:30
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

 [31m❯[39m tests/unit/api/orders/milestone-approve.test.ts [2m([22m[2m9 tests[22m[2m | [22m[31m9 failed[39m[2m)[22m[90m 280[2mms[22m[39m
[31m   [31m×[31m /api/orders/[id]/milestone/approve[2m > [22mPOST /api/orders/[id]/milestone/approve[2m > [22mshould approve fitting milestone for customer[90m 226[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/milestone/approve[2m > [22mPOST /api/orders/[id]/milestone/approve[2m > [22mshould approve final milestone for delivery[90m 6[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/milestone/approve[2m > [22mPOST /api/orders/[id]/milestone/approve[2m > [22mshould reject unauthorized users[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 401 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/milestone/approve[2m > [22mPOST /api/orders/[id]/milestone/approve[2m > [22mshould reject invalid stage transitions[90m 7[2mms[22m[31m[39m
[31m     → expected 500 to be 400 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/milestone/approve[2m > [22mPOST /api/orders/[id]/milestone/approve[2m > [22mshould reject insufficient permissions[90m 6[2mms[22m[31m[39m
[31m     → expected 500 to be 403 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/milestone/approve[2m > [22mPOST /api/orders/[id]/milestone/approve[2m > [22mshould handle invalid request data[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 400 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/milestone/approve[2m > [22mPOST /api/orders/[id]/milestone/approve[2m > [22mshould handle escrow service failures[90m 10[2mms[22m[31m[39m
[31m     → expected 'Internal server error' to be 'Failed to approve milestone' // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/milestone/approve[2m > [22mGET /api/orders/[id]/milestone/approve[2m > [22mshould return milestone approval information[90m 6[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/milestone/approve[2m > [22mGET /api/orders/[id]/milestone/approve[2m > [22mshould return empty actions for unauthorized users[90m 4[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[90mstdout[2m | tests/unit/api/admin/disputes/resolve.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com

[90mstdout[2m | tests/unit/components/features/tailors/SavedSearches.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 prevent building .env in docker: https://dotenvx.com/prebuild

[90mstderr[2m | tests/unit/api/admin/disputes/resolve.test.ts[2m > [22m[2mDispute Resolution API[2m > [22m[2mshould resolve dispute with full refund
[22m[39mError resolving dispute: Error: [vitest] No "createClient" export is defined on the "@/lib/supabase/server" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:389:22)
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\admin\disputes\[id]\resolve\route.ts:23:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\admin\disputes\resolve.test.ts:131:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15) {
  codeFrame: [32m'vi\x1B[33m.\x1B[39m\x1B[34mmock\x1B[39m(\x1B[35mimport\x1B[39m(\x1B[32m"@/lib/supabase/server"\x1B[39m)\x1B[33m,\x1B[39m \x1B[35masync\x1B[39m (importOriginal) \x1B[33m=>\x1B[39m {\n'[39m +
    [32m'  \x1B[35mconst\x1B[39m actual \x1B[33m=\x1B[39m \x1B[35mawait\x1B[39m \x1B[34mimportOriginal\x1B[39m()\n'[39m +
    [32m'  \x1B[35mreturn\x1B[39m {\n'[39m +
    [32m'    \x1B[33m...\x1B[39mactual\x1B[33m,\x1B[39m\n'[39m +
    [32m'    \x1B[90m// your mocked methods\x1B[39m\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

[90mstderr[2m | tests/unit/api/admin/disputes/resolve.test.ts[2m > [22m[2mDispute Resolution API[2m > [22m[2mshould resolve dispute with partial refund
[22m[39mError resolving dispute: Error: [vitest] No "createClient" export is defined on the "@/lib/supabase/server" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:389:22)
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\admin\disputes\[id]\resolve\route.ts:23:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\admin\disputes\resolve.test.ts:207:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15) {
  codeFrame: [32m'vi\x1B[33m.\x1B[39m\x1B[34mmock\x1B[39m(\x1B[35mimport\x1B[39m(\x1B[32m"@/lib/supabase/server"\x1B[39m)\x1B[33m,\x1B[39m \x1B[35masync\x1B[39m (importOriginal) \x1B[33m=>\x1B[39m {\n'[39m +
    [32m'  \x1B[35mconst\x1B[39m actual \x1B[33m=\x1B[39m \x1B[35mawait\x1B[39m \x1B[34mimportOriginal\x1B[39m()\n'[39m +
    [32m'  \x1B[35mreturn\x1B[39m {\n'[39m +
    [32m'    \x1B[33m...\x1B[39mactual\x1B[33m,\x1B[39m\n'[39m +
    [32m'    \x1B[90m// your mocked methods\x1B[39m\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

[90mstderr[2m | tests/unit/api/admin/disputes/resolve.test.ts[2m > [22m[2mDispute Resolution API[2m > [22m[2mshould resolve dispute with order completion
[22m[39mError resolving dispute: Error: [vitest] No "createClient" export is defined on the "@/lib/supabase/server" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:389:22)
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\admin\disputes\[id]\resolve\route.ts:23:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\admin\disputes\resolve.test.ts:273:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15) {
  codeFrame: [32m'vi\x1B[33m.\x1B[39m\x1B[34mmock\x1B[39m(\x1B[35mimport\x1B[39m(\x1B[32m"@/lib/supabase/server"\x1B[39m)\x1B[33m,\x1B[39m \x1B[35masync\x1B[39m (importOriginal) \x1B[33m=>\x1B[39m {\n'[39m +
    [32m'  \x1B[35mconst\x1B[39m actual \x1B[33m=\x1B[39m \x1B[35mawait\x1B[39m \x1B[34mimportOriginal\x1B[39m()\n'[39m +
    [32m'  \x1B[35mreturn\x1B[39m {\n'[39m +
    [32m'    \x1B[33m...\x1B[39mactual\x1B[33m,\x1B[39m\n'[39m +
    [32m'    \x1B[90m// your mocked methods\x1B[39m\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

[90mstderr[2m | tests/unit/api/admin/disputes/resolve.test.ts[2m > [22m[2mDispute Resolution API[2m > [22m[2mshould return 401 for unauthenticated user
[22m[39mError resolving dispute: Error: [vitest] No "createClient" export is defined on the "@/lib/supabase/server" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:389:22)
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\admin\disputes\[id]\resolve\route.ts:23:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\admin\disputes\resolve.test.ts:294:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15) {
  codeFrame: [32m'vi\x1B[33m.\x1B[39m\x1B[34mmock\x1B[39m(\x1B[35mimport\x1B[39m(\x1B[32m"@/lib/supabase/server"\x1B[39m)\x1B[33m,\x1B[39m \x1B[35masync\x1B[39m (importOriginal) \x1B[33m=>\x1B[39m {\n'[39m +
    [32m'  \x1B[35mconst\x1B[39m actual \x1B[33m=\x1B[39m \x1B[35mawait\x1B[39m \x1B[34mimportOriginal\x1B[39m()\n'[39m +
    [32m'  \x1B[35mreturn\x1B[39m {\n'[39m +
    [32m'    \x1B[33m...\x1B[39mactual\x1B[33m,\x1B[39m\n'[39m +
    [32m'    \x1B[90m// your mocked methods\x1B[39m\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

[90mstderr[2m | tests/unit/api/admin/disputes/resolve.test.ts[2m > [22m[2mDispute Resolution API[2m > [22m[2mshould return 403 for non-admin user
[22m[39mError resolving dispute: Error: [vitest] No "createClient" export is defined on the "@/lib/supabase/server" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:389:22)
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\admin\disputes\[id]\resolve\route.ts:23:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\admin\disputes\resolve.test.ts:329:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15) {
  codeFrame: [32m'vi\x1B[33m.\x1B[39m\x1B[34mmock\x1B[39m(\x1B[35mimport\x1B[39m(\x1B[32m"@/lib/supabase/server"\x1B[39m)\x1B[33m,\x1B[39m \x1B[35masync\x1B[39m (importOriginal) \x1B[33m=>\x1B[39m {\n'[39m +
    [32m'  \x1B[35mconst\x1B[39m actual \x1B[33m=\x1B[39m \x1B[35mawait\x1B[39m \x1B[34mimportOriginal\x1B[39m()\n'[39m +
    [32m'  \x1B[35mreturn\x1B[39m {\n'[39m +
    [32m'    \x1B[33m...\x1B[39mactual\x1B[33m,\x1B[39m\n'[39m +
    [32m'    \x1B[90m// your mocked methods\x1B[39m\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

[90mstderr[2m | tests/unit/api/admin/disputes/resolve.test.ts[2m > [22m[2mDispute Resolution API[2m > [22m[2mshould return 400 for invalid refund amount
[22m[39mError resolving dispute: Error: [vitest] No "createClient" export is defined on the "@/lib/supabase/server" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:389:22)
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\admin\disputes\[id]\resolve\route.ts:23:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\admin\disputes\resolve.test.ts:375:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15) {
  codeFrame: [32m'vi\x1B[33m.\x1B[39m\x1B[34mmock\x1B[39m(\x1B[35mimport\x1B[39m(\x1B[32m"@/lib/supabase/server"\x1B[39m)\x1B[33m,\x1B[39m \x1B[35masync\x1B[39m (importOriginal) \x1B[33m=>\x1B[39m {\n'[39m +
    [32m'  \x1B[35mconst\x1B[39m actual \x1B[33m=\x1B[39m \x1B[35mawait\x1B[39m \x1B[34mimportOriginal\x1B[39m()\n'[39m +
    [32m'  \x1B[35mreturn\x1B[39m {\n'[39m +
    [32m'    \x1B[33m...\x1B[39mactual\x1B[33m,\x1B[39m\n'[39m +
    [32m'    \x1B[90m// your mocked methods\x1B[39m\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

[90mstderr[2m | tests/unit/api/admin/disputes/resolve.test.ts[2m > [22m[2mDispute Resolution API[2m > [22m[2mshould return 404 for non-existent dispute
[22m[39mError resolving dispute: Error: [vitest] No "createClient" export is defined on the "@/lib/supabase/server" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:389:22)
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\admin\disputes\[id]\resolve\route.ts:23:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\admin\disputes\resolve.test.ts:422:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15) {
  codeFrame: [32m'vi\x1B[33m.\x1B[39m\x1B[34mmock\x1B[39m(\x1B[35mimport\x1B[39m(\x1B[32m"@/lib/supabase/server"\x1B[39m)\x1B[33m,\x1B[39m \x1B[35masync\x1B[39m (importOriginal) \x1B[33m=>\x1B[39m {\n'[39m +
    [32m'  \x1B[35mconst\x1B[39m actual \x1B[33m=\x1B[39m \x1B[35mawait\x1B[39m \x1B[34mimportOriginal\x1B[39m()\n'[39m +
    [32m'  \x1B[35mreturn\x1B[39m {\n'[39m +
    [32m'    \x1B[33m...\x1B[39mactual\x1B[33m,\x1B[39m\n'[39m +
    [32m'    \x1B[90m// your mocked methods\x1B[39m\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

[90mstderr[2m | tests/unit/api/admin/disputes/resolve.test.ts[2m > [22m[2mDispute Resolution API[2m > [22m[2mshould return 409 for already resolved dispute
[22m[39mError resolving dispute: Error: [vitest] No "createClient" export is defined on the "@/lib/supabase/server" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:389:22)
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\admin\disputes\[id]\resolve\route.ts:23:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\admin\disputes\resolve.test.ts:473:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15) {
  codeFrame: [32m'vi\x1B[33m.\x1B[39m\x1B[34mmock\x1B[39m(\x1B[35mimport\x1B[39m(\x1B[32m"@/lib/supabase/server"\x1B[39m)\x1B[33m,\x1B[39m \x1B[35masync\x1B[39m (importOriginal) \x1B[33m=>\x1B[39m {\n'[39m +
    [32m'  \x1B[35mconst\x1B[39m actual \x1B[33m=\x1B[39m \x1B[35mawait\x1B[39m \x1B[34mimportOriginal\x1B[39m()\n'[39m +
    [32m'  \x1B[35mreturn\x1B[39m {\n'[39m +
    [32m'    \x1B[33m...\x1B[39mactual\x1B[33m,\x1B[39m\n'[39m +
    [32m'    \x1B[90m// your mocked methods\x1B[39m\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

 [31m❯[39m tests/unit/api/admin/disputes/resolve.test.ts [2m([22m[2m8 tests[22m[2m | [22m[31m8 failed[39m[2m)[22m[90m 145[2mms[22m[39m
[31m   [31m×[31m Dispute Resolution API[2m > [22mshould resolve dispute with full refund[90m 71[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m Dispute Resolution API[2m > [22mshould resolve dispute with partial refund[90m 7[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m Dispute Resolution API[2m > [22mshould resolve dispute with order completion[90m 4[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m Dispute Resolution API[2m > [22mshould return 401 for unauthenticated user[90m 4[2mms[22m[31m[39m
[31m     → expected 500 to be 401 // Object.is equality[39m
[31m   [31m×[31m Dispute Resolution API[2m > [22mshould return 403 for non-admin user[90m 10[2mms[22m[31m[39m
[31m     → expected 500 to be 403 // Object.is equality[39m
[31m   [31m×[31m Dispute Resolution API[2m > [22mshould return 400 for invalid refund amount[90m 4[2mms[22m[31m[39m
[31m     → expected 500 to be 400 // Object.is equality[39m
[31m   [31m×[31m Dispute Resolution API[2m > [22mshould return 404 for non-existent dispute[90m 19[2mms[22m[31m[39m
[31m     → expected 500 to be 404 // Object.is equality[39m
[31m   [31m×[31m Dispute Resolution API[2m > [22mshould return 409 for already resolved dispute[90m 16[2mms[22m[31m[39m
[31m     → expected 500 to be 409 // Object.is equality[39m
[90mstdout[2m | tests/unit/components/features/tailors/SaveSearchDialog.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🛠️  run anywhere with `dotenvx run -- yourcommand`

[90mstdout[2m | tests/unit/api/cron/auto-approve-milestones.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  suppress all logs with { quiet: true }

[90mstderr[2m | tests/unit/components/features/tailors/SavedSearches.test.tsx[2m > [22m[2mSavedSearches[2m > [22m[2mDelete Action[2m > [22m[2mshould open delete confirmation dialog when delete button is clicked
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | tests/unit/components/features/tailors/SavedSearches.test.tsx[2m > [22m[2mSavedSearches[2m > [22m[2mDelete Action[2m > [22m[2mshould delete search when confirmed
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | tests/unit/components/features/tailors/SavedSearches.test.tsx[2m > [22m[2mSavedSearches[2m > [22m[2mDelete Action[2m > [22m[2mshould close dialog when cancel is clicked
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | tests/unit/components/features/tailors/SavedSearches.test.tsx[2m > [22m[2mSavedSearches[2m > [22m[2mDelete Action[2m > [22m[2mshould handle delete errors
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 [31m❯[39m tests/unit/components/features/tailors/SavedSearches.test.tsx [2m([22m[2m21 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 2154[2mms[22m[39m
[31m   [31m×[31m SavedSearches[2m > [22mSaved Searches List[2m > [22mshould render filter summary[90m 127[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: /2 fabrics • 1 styles • 7-14 days/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-4"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4 hover:shadow-md transition-shadow"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-start justify-between gap-4"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-1 min-w-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center gap-2 mb-2"[31m
              [36m>[31m
                [36m<h3[31m
                  [33mclass[31m=[32m"font-semibold text-gray-900 truncate"[31m
                [36m>[31m
                  [0mWedding Tailors in Accra[0m
                [36m</h3>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 flex items-center gap-1 text-xs"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-bell h-3 w-3"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M10.268 21a2 2 0 0 0 3.464 0"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [0mWeekly[0m
                [36m</div>[31m
              [36m</div>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-gray-600 mb-3 truncate"[31m
              [36m>[31m
                [0m"wedding" • Accra • ★ 4+ • 2 occasions[0m
              [36m</p>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center gap-4 text-xs text-gray-500"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"flex items-center gap-1"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-calendar h-3 w-3"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M8 2v4"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M16 2v4"[31m
                    [36m/>[31m
                    [36m<rect[31m
                      [33mheight[31m=[32m"18"[31m
                      [33mrx[31m=[32m"2"[31m
                      [33mwidth[31m=[32m"18"[31m
                      [33mx[31m=[32m"3"[31m
                      [33my[31m=[32m"4"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M3 10h18"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [0mCreated [0m
                  [0m2 days ago[0m
                [36m</span>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"flex items-center gap-1"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-clock h-3 w-3"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M12 6v6l4 2"[31m
                    [36m/>[31m
                    [36m<circle[31m
                      [33mcx[31m=[32m"12"[31m
                      [33mcy[31m=[32m"12"[31m
                      [33mr[31m=[32m"10"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [0mNotified [0m
                  [0m2 days ago[0m
                [36m</span>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-1 flex-shrink-0"[31m
            [36m>[31m
              [36m<button[31m
                [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs"[31m
                [33mtitle[31m=[32m"Load search"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-search h-4 w-4"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
    ...[39m
[31m   [31m×[31m SavedSearches[2m > [22mSaved Searches List[2m > [22mshould show creation and notification timestamps[90m 95[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: /Created 2 days ago/

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<span[31m
  [33mclass[31m=[32m"flex items-center gap-1"[31m
[36m>[31m
  [36m<svg[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mclass[31m=[32m"lucide lucide-calendar h-3 w-3"[31m
    [33mfill[31m=[32m"none"[31m
    [33mheight[31m=[32m"24"[31m
    [33mstroke[31m=[32m"currentColor"[31m
    [33mstroke-linecap[31m=[32m"round"[31m
    [33mstroke-linejoin[31m=[32m"round"[31m
    [33mstroke-width[31m=[32m"2"[31m
    [33mviewBox[31m=[32m"0 0 24 24"[31m
    [33mwidth[31m=[32m"24"[31m
    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
  [36m>[31m
    [36m<path[31m
      [33md[31m=[32m"M8 2v4"[31m
    [36m/>[31m
    [36m<path[31m
      [33md[31m=[32m"M16 2v4"[31m
    [36m/>[31m
    [36m<rect[31m
      [33mheight[31m=[32m"18"[31m
      [33mrx[31m=[32m"2"[31m
      [33mwidth[31m=[32m"18"[31m
      [33mx[31m=[32m"3"[31m
      [33my[31m=[32m"4"[31m
    [36m/>[31m
    [36m<path[31m
      [33md[31m=[32m"M3 10h18"[31m
    [36m/>[31m
  [36m</svg>[31m
  [0mCreated [0m
  [0m2 days ago[0m
[36m</span>[31m

Ignored nodes: comments, script, style
[36m<span[31m
  [33mclass[31m=[32m"flex items-center gap-1"[31m
[36m>[31m
  [36m<svg[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mclass[31m=[32m"lucide lucide-calendar h-3 w-3"[31m
    [33mfill[31m=[32m"none"[31m
    [33mheight[31m=[32m"24"[31m
    [33mstroke[31m=[32m"currentColor"[31m
    [33mstroke-linecap[31m=[32m"round"[31m
    [33mstroke-linejoin[31m=[32m"round"[31m
    [33mstroke-width[31m=[32m"2"[31m
    [33mviewBox[31m=[32m"0 0 24 24"[31m
    [33mwidth[31m=[32m"24"[31m
    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
  [36m>[31m
    [36m<path[31m
      [33md[31m=[32m"M8 2v4"[31m
    [36m/>[31m
    [36m<path[31m
      [33md[31m=[32m"M16 2v4"[31m
    [36m/>[31m
    [36m<rect[31m
      [33mheight[31m=[32m"18"[31m
      [33mrx[31m=[32m"2"[31m
      [33mwidth[31m=[32m"18"[31m
      [33mx[31m=[32m"3"[31m
      [33my[31m=[32m"4"[31m
    [36m/>[31m
    [36m<path[31m
      [33md[31m=[32m"M3 10h18"[31m
    [36m/>[31m
  [36m</svg>[31m
  [0mCreated [0m
  [0m2 days ago[0m
[36m</span>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-4"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4 hover:shadow-md transition-shadow"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-start justify-between gap-4"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-1 min-w-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center gap-2 mb-2"[31m
              [36m>[31m
                [36m<h3[31m
                  [33mclass[31m=[32m"font-semibold text-gray-900 truncate"[31m
                [36m>[31m
                  [0mWedding Tailors in Accra[0m
                [36m</h3>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 flex items-center gap-1 text-xs"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-bell h-3 w-3"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M10.268 21a2 2 0 0 0 3.464 0"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [0mWeekly[0m
                [36m</div>[31m
              [36m</div>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-gray-600 mb-3 truncate"[31m
              [36m>[31m
                [0m"wedding" • Accra • ★ 4+ • 2 occasions[0m
              [36m</p>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center gap-4 text-xs text-gray-500"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"flex items-center gap-1"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-calendar h-3 w-3"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M8 2v4"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M16 2v4"[31m
                    [36m/>[31m
                    [36m<rect[31m
                      [33mheight[31m=[32m"18"[31m
                      [33mrx[31m=[32m"2"[31m
                      [33mwidth[31m=[32m"18"[31m
                      [33mx[31m=[32m"3"[31m
                      [33my[31m=[32m"4"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M3 10h18"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [0mCreated [0m
                  [0m2 days ago[0m
                [36m</span>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"flex items-center gap-1"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-clock h-3 w-3"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M12 6v6l4 2"[31m
                    [36m/>[31m
                    [36m<circle[31m
                      [33mcx[31m=[32m"12"[31m
                      [33mcy[31m=[32m"12"[31m
                      [33mr[31m=[32m"10"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [0mNotified [0m
                  [0m2 days ago[0m
                [36m</span>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-1 flex-shrink-0"[31m
            [36m>[31m
              [36m<button[31m
                [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs"[31m
                [33mtitle[31m=[32m"Load search"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-search h-4 w-4"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
    ...[39m
[31m   [31m×[31m SavedSearches[2m > [22mDelete Action[2m > [22mshould close dialog when cancel is clicked[90m 146[2mms[22m[31m[39m
[31m     → [2mexpect([22m[31melement[31m[2m).not.toBeInTheDocument()[22m

[31mexpected document not to contain element, found <h2
  class="text-lg font-semibold leading-none tracking-tight"
  id="radix-«r1b»"
>
  Delete Saved Search?
</h2> instead[31m[39m
[90mstdout[2m | tests/unit/api/cron/auto-approve-milestones.test.ts[2m > [22m[2m/api/cron/auto-approve-milestones[2m > [22m[2mAuthentication[2m > [22m[2maccepts valid authorization token
[22m[39mStarting auto-approval cron job...

[90mstdout[2m | tests/unit/api/cron/auto-approve-milestones.test.ts[2m > [22m[2m/api/cron/auto-approve-milestones[2m > [22m[2mAuto-approval processing[2m > [22m[2mprocesses no milestones when none are overdue
[22m[39mStarting auto-approval cron job...

[90mstdout[2m | tests/unit/api/cron/auto-approve-milestones.test.ts[2m > [22m[2m/api/cron/auto-approve-milestones[2m > [22m[2mAuto-approval processing[2m > [22m[2msuccessfully auto-approves overdue milestones
[22m[39mStarting auto-approval cron job...

[90mstdout[2m | tests/unit/api/cron/auto-approve-milestones.test.ts[2m > [22m[2m/api/cron/auto-approve-milestones[2m > [22m[2mAuto-approval processing[2m > [22m[2mhandles database errors gracefully
[22m[39mStarting auto-approval cron job...

[90mstdout[2m | tests/unit/api/cron/auto-approve-milestones.test.ts[2m > [22m[2m/api/cron/auto-approve-milestones[2m > [22m[2mAuto-approval processing[2m > [22m[2mcontinues processing other milestones when one fails
[22m[39mStarting auto-approval cron job...

[90mstdout[2m | tests/unit/api/cron/auto-approve-milestones.test.ts[2m > [22m[2m/api/cron/auto-approve-milestones[2m > [22m[2mAuto-approval processing[2m > [22m[2mhandles escrow service failures gracefully
[22m[39mStarting auto-approval cron job...

[90mstdout[2m | tests/unit/api/cron/auto-approve-milestones.test.ts[2m > [22m[2m/api/cron/auto-approve-milestones[2m > [22m[2mAuto-approval processing[2m > [22m[2mprocesses multiple milestones in correct order
[22m[39mStarting auto-approval cron job...

[90mstdout[2m | tests/unit/api/cron/auto-approve-milestones.test.ts[2m > [22m[2m/api/cron/auto-approve-milestones[2m > [22m[2mPOST endpoint (development only)[2m > [22m[2mallows POST requests in development
[22m[39mStarting auto-approval cron job...

 [31m❯[39m tests/unit/api/cron/auto-approve-milestones.test.ts [2m([22m[2m12 tests[22m[2m | [22m[31m8 failed[39m[2m)[22m[90m 133[2mms[22m[39m
[31m   [31m×[31m /api/cron/auto-approve-milestones[2m > [22mAuthentication[2m > [22maccepts valid authorization token[90m 71[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/cron/auto-approve-milestones[2m > [22mAuto-approval processing[2m > [22mprocesses no milestones when none are overdue[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/cron/auto-approve-milestones[2m > [22mAuto-approval processing[2m > [22msuccessfully auto-approves overdue milestones[90m 4[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/cron/auto-approve-milestones[2m > [22mAuto-approval processing[2m > [22mhandles database errors gracefully[90m 4[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/cron/auto-approve-milestones[2m > [22mAuto-approval processing[2m > [22mcontinues processing other milestones when one fails[90m 4[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/cron/auto-approve-milestones[2m > [22mAuto-approval processing[2m > [22mhandles escrow service failures gracefully[90m 4[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/cron/auto-approve-milestones[2m > [22mAuto-approval processing[2m > [22mprocesses multiple milestones in correct order[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/cron/auto-approve-milestones[2m > [22mPOST endpoint (development only)[2m > [22mallows POST requests in development[90m 4[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[90mstdout[2m | tests/unit/api/milestones/approve.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔑 add access controls to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/lib/utils/order-progress.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  load multiple .env files with { path: ['.env.local', '.env'] }

[90mstdout[2m | tests/integration/reorder-workflow.integration.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 📡 add observability to secrets: https://dotenvx.com/ops

 [32m✓[39m tests/unit/lib/utils/order-progress.test.ts [2m([22m[2m28 tests[22m[2m)[22m[90m 102[2mms[22m[39m
 [31m❯[39m tests/unit/api/milestones/approve.test.ts [2m([22m[2m13 tests[22m[2m | [22m[31m7 failed[39m[2m)[22m[90m 218[2mms[22m[39m
[31m   [31m×[31m /api/milestones/[id]/approve[2m > [22mGET /api/milestones/[id]/approve[2m > [22mreturns milestone approval status for authorized user[90m 102[2mms[22m[31m[39m
[31m     → expected 403 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/milestones/[id]/approve[2m > [22mPOST /api/milestones/[id]/approve[2m > [22msuccessfully approves milestone[90m 11[2mms[22m[31m[39m
[31m     → expected 403 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/milestones/[id]/approve[2m > [22mPOST /api/milestones/[id]/approve[2m > [22msuccessfully rejects milestone[90m 5[2mms[22m[31m[39m
[31m     → expected 403 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/milestones/[id]/approve[2m > [22mPOST /api/milestones/[id]/approve[2m > [22mreturns 409 for already reviewed milestone[90m 5[2mms[22m[31m[39m
[31m     → expected 403 to be 409 // Object.is equality[39m
[31m   [31m×[31m /api/milestones/[id]/approve[2m > [22mPOST /api/milestones/[id]/approve[2m > [22mreturns 409 for milestone past auto-approval deadline[90m 11[2mms[22m[31m[39m
[31m     → expected 403 to be 409 // Object.is equality[39m
[31m   [31m×[31m /api/milestones/[id]/approve[2m > [22mPOST /api/milestones/[id]/approve[2m > [22mhandles escrow service failure gracefully[90m 4[2mms[22m[31m[39m
[31m     → expected 429 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/milestones/[id]/approve[2m > [22mPOST /api/milestones/[id]/approve[2m > [22mhandles database update errors[90m 5[2mms[22m[31m[39m
[31m     → expected 429 to be 500 // Object.is equality[39m
 [32m✓[39m tests/integration/reorder-workflow.integration.test.ts [2m([22m[2m11 tests[22m[2m)[22m[90m 71[2mms[22m[39m
 [31m❯[39m tests/unit/components/features/tailors/SaveSearchDialog.test.tsx [2m([22m[2m19 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 5975[2mms[22m[39m
[31m   [31m×[31m SaveSearchDialog[2m > [22mRendering[2m > [22mshould render dialog when open[33m 558[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: Save Search

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<h2[31m
  [33mclass[31m=[32m"text-lg font-semibold leading-none tracking-tight flex items-center gap-2"[31m
  [33mid[31m=[32m"radix-«r1»"[31m
[36m>[31m
  [36m<svg[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mclass[31m=[32m"lucide lucide-heart h-5 w-5 text-red-500"[31m
    [33mfill[31m=[32m"none"[31m
    [33mheight[31m=[32m"24"[31m
    [33mstroke[31m=[32m"currentColor"[31m
    [33mstroke-linecap[31m=[32m"round"[31m
    [33mstroke-linejoin[31m=[32m"round"[31m
    [33mstroke-width[31m=[32m"2"[31m
    [33mviewBox[31m=[32m"0 0 24 24"[31m
    [33mwidth[31m=[32m"24"[31m
    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
  [36m>[31m
    [36m<path[31m
      [33md[31m=[32m"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"[31m
    [36m/>[31m
  [36m</svg>[31m
  [0mSave Search[0m
[36m</h2>[31m

Ignored nodes: comments, script, style
[36m<button[31m
  [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2"[31m
  [33mdisabled[31m=[32m""[31m
[36m>[31m
  [36m<svg[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mclass[31m=[32m"lucide lucide-heart h-4 w-4 mr-2"[31m
    [33mfill[31m=[32m"none"[31m
    [33mheight[31m=[32m"24"[31m
    [33mstroke[31m=[32m"currentColor"[31m
    [33mstroke-linecap[31m=[32m"round"[31m
    [33mstroke-linejoin[31m=[32m"round"[31m
    [33mstroke-width[31m=[32m"2"[31m
    [33mviewBox[31m=[32m"0 0 24 24"[31m
    [33mwidth[31m=[32m"24"[31m
    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
  [36m>[31m
    [36m<path[31m
      [33md[31m=[32m"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"[31m
    [36m/>[31m
  [36m</svg>[31m
  [0mSave Search[0m
[36m</button>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body[31m
  [33mdata-scroll-locked[31m=[32m"1"[31m
  [33mstyle[31m=[32m"pointer-events: none;"[31m
[36m>[31m
  [36m<span[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mdata-aria-hidden[31m=[32m"true"[31m
    [33mdata-radix-focus-guard[31m=[32m""[31m
    [33mstyle[31m=[32m"opacity: 0; position: fixed; pointer-events: none; outline-color: none; outline-style: none; outline-width: initial;"[31m
    [33mtabindex[31m=[32m"0"[31m
  [36m/>[31m
  [36m<div[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mdata-aria-hidden[31m=[32m"true"[31m
  [36m/>[31m
  [36m<div[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mclass[31m=[32m"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"[31m
    [33mdata-aria-hidden[31m=[32m"true"[31m
    [33mdata-state[31m=[32m"open"[31m
    [33mstyle[31m=[32m"pointer-events: auto;"[31m
  [36m/>[31m
  [36m<div[31m
    [33maria-describedby[31m=[32m"radix-«r2»"[31m
    [33maria-labelledby[31m=[32m"radix-«r1»"[31m
    [33mclass[31m=[32m"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg sm:max-w-md"[31m
    [33mdata-state[31m=[32m"open"[31m
    [33mid[31m=[32m"radix-«r0»"[31m
    [33mrole[31m=[32m"dialog"[31m
    [33mstyle[31m=[32m"pointer-events: auto;"[31m
    [33mtabindex[31m=[32m"-1"[31m
  [36m>[31m
    [36m<div[31m
      [33mclass[31m=[32m"flex flex-col space-y-1.5 text-center sm:text-left"[31m
    [36m>[31m
      [36m<h2[31m
        [33mclass[31m=[32m"text-lg font-semibold leading-none tracking-tight flex items-center gap-2"[31m
        [33mid[31m=[32m"radix-«r1»"[31m
      [36m>[31m
        [36m<svg[31m
          [33maria-hidden[31m=[32m"true"[31m
          [33mclass[31m=[32m"lucide lucide-heart h-5 w-5 text-red-500"[31m
          [33mfill[31m=[32m"none"[31m
          [33mheight[31m=[32m"24"[31m
          [33mstroke[31m=[32m"currentColor"[31m
          [33mstroke-linecap[31m=[32m"round"[31m
          [33mstroke-linejoin[31m=[32m"round"[31m
          [33mstroke-width[31m=[32m"2"[31m
          [33mviewBox[31m=[32m"0 0 24 24"[31m
          [33mwidth[31m=[32m"24"[31m
          [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
        [36m>[31m
          [36m<path[31m
            [33md[31m=[32m"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"[31m
          [36m/>[31m
        [36m</svg>[31m
        [0mSave Search[0m
      [36m</h2>[31m
      [36m<p[31m
        [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
        [33mid[31m=[32m"radix-«r2»"[31m
      [36m>[31m
        [0mSave your search criteria and get notified when new matching tailors join the platform.[0m
      [36m</p>[31m
    [36m</div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4 py-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-2"[31m
      [36m>[31m
        [36m<label[31m
          [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
          [33mfor[31m=[32m"name"[31m
        [36m>[31m
          [0mSearch Name [0m
          [36m<span[31m
            [33mclass[31m=[32m"text-red-500"[31m
          [36m>[31m
            [0m*[0m
          [36m</span>[31m
        [36m</label>[31m
        [36m<input[31m
          [33mclass[31m=[32m"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"[31m
          [33mid[31m=[32m"name"[31m
          [33mmaxlength[31m=[32m"100"[31m
          [33mplaceholder[31m=[32m"e.g., Wedding Tailors in Accra"[31m
          [33mvalue[31m=[32m""[31m
        [36m/>[31m
        [36m<p[31m
          [33mclass[31m=[32m"text-xs text-gray-600"[31m
        [36m>[31m
          [0mGive your search a memorable name[0m
        [36m</p>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-center justify-between p-3 bg-gray-50 rounded-lg"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center gap-3"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-bell h-5 w-5 text-blue-600"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M10.268 21a2 2 0 0 0 3.464 0"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"font-medium text-sm"[31m
            [36m>[31m
              [0mEnable Alerts[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-xs text-gray-600"[31m
            [36m>[31m
              [0mGet notified about new matching tailors[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<button[31m
          [33maria-checked[31m=[32m"true"[31m
          [33mclass[31m=[32m"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground...[39m
[31m   [31m×[31m SaveSearchDialog[2m > [22mForm Interactions[2m > [22mshould change alert frequency when option is selected[33m 321[2mms[22m[31m[39m
[31m     → resizeObserver.observe is not a function[39m
   [33m[2m✓[22m[39m SaveSearchDialog[2m > [22mSave Functionality[2m > [22mshould save search with valid data [33m363[2mms[22m[39m
[31m   [31m×[31m SaveSearchDialog[2m > [22mSave Functionality[2m > [22mshould show alert when name is empty[33m 1228[2mms[22m[31m[39m
[31m     → expected "get" to be called with arguments: [ Array(1) ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body[31m
    [33mdata-scroll-locked[31m=[32m"1"[31m
    [33mstyle[31m=[32m"pointer-events: none;"[31m
  [36m>[31m
    [36m<span[31m
      [33maria-hidden[31m=[32m"true"[31m
      [33mdata-aria-hidden[31m=[32m"true"[31m
      [33mdata-radix-focus-guard[31m=[32m""[31m
      [33mstyle[31m=[32m"opacity: 0; position: fixed; pointer-events: none; outline-color: none; outline-style: none; outline-width: initial;"[31m
      [33mtabindex[31m=[32m"0"[31m
    [36m/>[31m
    [36m<div[31m
      [33maria-hidden[31m=[32m"true"[31m
      [33mdata-aria-hidden[31m=[32m"true"[31m
    [36m/>[31m
    [36m<div[31m
      [33maria-hidden[31m=[32m"true"[31m
      [33mclass[31m=[32m"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"[31m
      [33mdata-aria-hidden[31m=[32m"true"[31m
      [33mdata-state[31m=[32m"open"[31m
      [33mstyle[31m=[32m"pointer-events: auto;"[31m
    [36m/>[31m
    [36m<div[31m
      [33maria-describedby[31m=[32m"radix-«r27»"[31m
      [33maria-labelledby[31m=[32m"radix-«r26»"[31m
      [33mclass[31m=[32m"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg sm:max-w-md"[31m
      [33mdata-state[31m=[32m"open"[31m
      [33mid[31m=[32m"radix-«r25»"[31m
      [33mrole[31m=[32m"dialog"[31m
      [33mstyle[31m=[32m"pointer-events: auto;"[31m
      [33mtabindex[31m=[32m"-1"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex flex-col space-y-1.5 text-center sm:text-left"[31m
      [36m>[31m
        [36m<h2[31m
          [33mclass[31m=[32m"text-lg font-semibold leading-none tracking-tight flex items-center gap-2"[31m
          [33mid[31m=[32m"radix-«r26»"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-heart h-5 w-5 text-red-500"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"[31m
            [36m/>[31m
          [36m</svg>[31m
          [0mSave Search[0m
        [36m</h2>[31m
        [36m<p[31m
          [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
          [33mid[31m=[32m"radix-«r27»"[31m
        [36m>[31m
          [0mSave your search criteria and get notified when new matching tailors join the platform.[0m
        [36m</p>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-4 py-4"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-2"[31m
        [36m>[31m
          [36m<label[31m
            [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
            [33mfor[31m=[32m"name"[31m
          [36m>[31m
            [0mSearch Name [0m
            [36m<span[31m
              [33mclass[31m=[32m"text-red-500"[31m
            [36m>[31m
              [0m*[0m
            [36m</span>[31m
          [36m</label>[31m
          [36m<input[31m
            [33mclass[31m=[32m"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"[31m
            [33mid[31m=[32m"name"[31m
            [33mmaxlength[31m=[32m"100"[31m
            [33mplaceholder[31m=[32m"e.g., Wedding Tailors in Accra"[31m
            [33mvalue[31m=[32m""[31m
          [36m/>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-xs text-gray-600"[31m
          [36m>[31m
            [0mGive your search a memorable name[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center justify-between p-3 bg-gray-50 rounded-lg"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-3"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-bell h-5 w-5 text-blue-600"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M10.268 21a2 2 0 0 0 3.464 0"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"[31m
              [36m/>[31m
            [36m</svg>[31m
            [36m<div>[31m
              [36m<p[31m
                [33mclass[31m=[32m"font-medium text-sm"[31m
              [36m>[31m
                [0mEnable Alerts[0m
              [36m</p>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-xs text-gray-600"[31m
              [36m>[31m
                [0mGet notified about new matching tailors[0m
              [36m</p>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<button[31m
            [33maria-checked[31m=[32m"true"[31m
            [33mcl...[39m
   [33m[2m✓[22m[39m SaveSearchDialog[2m > [22mSave Functionality[2m > [22mshould show loading state while saving [33m301[2mms[22m[39m
   [33m[2m✓[22m[39m SaveSearchDialog[2m > [22mSave Functionality[2m > [22mshould handle save errors [33m354[2mms[22m[39m
   [33m[2m✓[22m[39m SaveSearchDialog[2m > [22mSave Functionality[2m > [22mshould reset form after successful save [33m439[2mms[22m[39m
   [33m[2m✓[22m[39m SaveSearchDialog[2m > [22mSave Functionality[2m > [22mshould save with alerts disabled [33m477[2mms[22m[39m
   [33m[2m✓[22m[39m SaveSearchDialog[2m > [22mCancel Functionality[2m > [22mshould disable cancel button while saving [33m361[2mms[22m[39m
[90mstdout[2m | tests/unit/components/features/orders/MessageList.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  write to custom object with { processEnv: myObject }

[90mstdout[2m | tests/unit/api/milestones/photo-upload.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  override existing env vars with { override: true }

[90mstdout[2m | tests/performance/recommendation-algorithm.perf.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  load multiple .env files with { path: ['.env.local', '.env'] }

[90mstdout[2m | tests/performance/recommendation-algorithm.perf.test.ts[2m > [22m[2mRecommendation Algorithm Performance Tests[2m > [22m[2mGarment Recommendation Performance[2m > [22m[2mshould calculate garment recommendations in <10ms for small dataset (10 orders)
[22m[39mSmall dataset (10 orders): 6.57ms

[90mstdout[2m | tests/performance/recommendation-algorithm.perf.test.ts[2m > [22m[2mRecommendation Algorithm Performance Tests[2m > [22m[2mGarment Recommendation Performance[2m > [22m[2mshould calculate garment recommendations in <50ms for medium dataset (100 orders)
[22m[39mMedium dataset (100 orders): 0.06ms

[90mstdout[2m | tests/performance/recommendation-algorithm.perf.test.ts[2m > [22m[2mRecommendation Algorithm Performance Tests[2m > [22m[2mGarment Recommendation Performance[2m > [22m[2mshould calculate garment recommendations in <200ms for large dataset (1000 orders)
[22m[39mLarge dataset (1000 orders): 0.03ms

[90mstdout[2m | tests/performance/recommendation-algorithm.perf.test.ts[2m > [22m[2mRecommendation Algorithm Performance Tests[2m > [22m[2mGarment Recommendation Performance[2m > [22m[2mshould maintain consistent performance with repeated calculations
[22m[39mAverage: 0.003ms, Min: 0.002ms, Max: 0.014ms

[90mstdout[2m | tests/performance/recommendation-algorithm.perf.test.ts[2m > [22m[2mRecommendation Algorithm Performance Tests[2m > [22m[2mTailor Recommendation Performance[2m > [22m[2mshould rank tailors in <20ms for 20 tailors
[22m[39mTailor ranking (20 tailors): 0.42ms

[90mstdout[2m | tests/performance/recommendation-algorithm.perf.test.ts[2m > [22m[2mRecommendation Algorithm Performance Tests[2m > [22m[2mTailor Recommendation Performance[2m > [22m[2mshould handle large tailor dataset (100 tailors) in <100ms
[22m[39mTailor ranking (100 tailors): 0.64ms

[90mstdout[2m | tests/performance/recommendation-algorithm.perf.test.ts[2m > [22m[2mRecommendation Algorithm Performance Tests[2m > [22m[2mFabric Recommendation Performance[2m > [22m[2mshould calculate fabric scores in <15ms for typical dataset
[22m[39mFabric scoring (6 fabrics): 0.31ms

[90mstdout[2m | tests/performance/recommendation-algorithm.perf.test.ts[2m > [22m[2mRecommendation Algorithm Performance Tests[2m > [22m[2mFull Recommendation Pipeline Performance[2m > [22m[2mshould generate complete recommendations in <100ms for typical user
[22m[39mFull recommendation pipeline: 0.58ms
  - Garments: 5, Tailors: 3, Fabrics: 3

[90mstdout[2m | tests/performance/recommendation-algorithm.perf.test.ts[2m > [22m[2mRecommendation Algorithm Performance Tests[2m > [22m[2mFull Recommendation Pipeline Performance[2m > [22m[2mshould handle power user dataset (500 orders) in <500ms
[22m[39mPower user pipeline (500 orders): 0.59ms

[90mstdout[2m | tests/performance/recommendation-algorithm.perf.test.ts[2m > [22m[2mRecommendation Algorithm Performance Tests[2m > [22m[2mMemory Performance[2m > [22m[2mshould not cause memory issues with large datasets
[22m[39mMemory increase: 0.85MB

 [32m✓[39m tests/performance/recommendation-algorithm.perf.test.ts [2m([22m[2m12 tests[22m[2m)[22m[90m 48[2mms[22m[39m
[90mstdout[2m | tests/unit/api/disputes/evidence-upload.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  enable debug logging with { debug: true }

[90mstdout[2m | tests/unit/lib/repositories/tailor-search.repository.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔑 add access controls to secrets: https://dotenvx.com/ops

 [31m❯[39m tests/unit/api/milestones/photo-upload.test.ts [2m([22m[2m13 tests[22m[2m | [22m[31m13 failed[39m[2m)[22m[90m 299[2mms[22m[39m
[31m   [31m×[31m Milestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould handle successful photo upload[90m 62[2mms[22m[31m[39m
[31m     → Cannot find module '@/lib/services/storage.service'
Require stack:
- C:\dev\sew4mi-marketplace\sew4mi\apps\web\tests\unit\api\milestones\photo-upload.test.ts[39m
[31m   [31m×[31m Milestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould reject invalid milestone ID format[90m 19[2mms[22m[31m[39m
[31m     → Cannot find module '@/lib/services/storage.service'
Require stack:
- C:\dev\sew4mi-marketplace\sew4mi\apps\web\tests\unit\api\milestones\photo-upload.test.ts[39m
[31m   [31m×[31m Milestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould reject requests without authentication[90m 18[2mms[22m[31m[39m
[31m     → Cannot find module '@/lib/services/storage.service'
Require stack:
- C:\dev\sew4mi-marketplace\sew4mi\apps\web\tests\unit\api\milestones\photo-upload.test.ts[39m
[31m   [31m×[31m Milestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould validate request body schema[90m 16[2mms[22m[31m[39m
[31m     → Cannot find module '@/lib/services/storage.service'
Require stack:
- C:\dev\sew4mi-marketplace\sew4mi\apps\web\tests\unit\api\milestones\photo-upload.test.ts[39m
[31m   [31m×[31m Milestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould reject unsupported image formats[90m 17[2mms[22m[31m[39m
[31m     → Cannot find module '@/lib/services/storage.service'
Require stack:
- C:\dev\sew4mi-marketplace\sew4mi\apps\web\tests\unit\api\milestones\photo-upload.test.ts[39m
[31m   [31m×[31m Milestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould handle invalid base64 image data[90m 28[2mms[22m[31m[39m
[31m     → Cannot find module '@/lib/services/storage.service'
Require stack:
- C:\dev\sew4mi-marketplace\sew4mi\apps\web\tests\unit\api\milestones\photo-upload.test.ts[39m
[31m   [31m×[31m Milestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould handle oversized images[90m 16[2mms[22m[31m[39m
[31m     → Cannot find module '@/lib/services/storage.service'
Require stack:
- C:\dev\sew4mi-marketplace\sew4mi\apps\web\tests\unit\api\milestones\photo-upload.test.ts[39m
[31m   [31m×[31m Milestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould handle storage upload failure[90m 16[2mms[22m[31m[39m
[31m     → Cannot find module '@/lib/services/storage.service'
Require stack:
- C:\dev\sew4mi-marketplace\sew4mi\apps\web\tests\unit\api\milestones\photo-upload.test.ts[39m
[31m   [31m×[31m Milestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould enforce rate limiting[90m 20[2mms[22m[31m[39m
[31m     → Cannot find module '@/lib/services/storage.service'
Require stack:
- C:\dev\sew4mi-marketplace\sew4mi\apps\web\tests\unit\api\milestones\photo-upload.test.ts[39m
[31m   [31m×[31m Milestone Photo Upload API[2m > [22mGET /api/milestones/[id]/photos/upload[2m > [22mshould return upload configuration[90m 16[2mms[22m[31m[39m
[31m     → Cannot find module '@/lib/services/storage.service'
Require stack:
- C:\dev\sew4mi-marketplace\sew4mi\apps\web\tests\unit\api\milestones\photo-upload.test.ts[39m
[31m   [31m×[31m Milestone Photo Upload API[2m > [22mGET /api/milestones/[id]/photos/upload[2m > [22mshould reject invalid milestone ID in GET request[90m 21[2mms[22m[31m[39m
[31m     → Cannot find module '@/lib/services/storage.service'
Require stack:
- C:\dev\sew4mi-marketplace\sew4mi\apps\web\tests\unit\api\milestones\photo-upload.test.ts[39m
[31m   [31m×[31m Milestone Photo Upload API[2m > [22mError Handling[2m > [22mshould handle internal server errors gracefully[90m 24[2mms[22m[31m[39m
[31m     → Cannot find module '@/lib/services/storage.service'
Require stack:
- C:\dev\sew4mi-marketplace\sew4mi\apps\web\tests\unit\api\milestones\photo-upload.test.ts[39m
[31m   [31m×[31m Milestone Photo Upload API[2m > [22mError Handling[2m > [22mshould handle malformed JSON in request body[90m 19[2mms[22m[31m[39m
[31m     → Cannot find module '@/lib/services/storage.service'
Require stack:
- C:\dev\sew4mi-marketplace\sew4mi\apps\web\tests\unit\api\milestones\photo-upload.test.ts[39m
[90mstdout[2m | tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔄 add secrets lifecycle management: https://dotenvx.com/ops

 [31m❯[39m tests/unit/api/disputes/evidence-upload.test.ts [2m([22m[2m0 test[22m[2m)[22m
 [31m❯[39m tests/unit/lib/repositories/tailor-search.repository.test.ts [2m([22m[2m12 tests[22m[2m | [22m[31m12 failed[39m[2m)[22m[90m 146[2mms[22m[39m
[31m   [31m×[31m TailorSearchRepository[2m > [22msearchTailors[2m > [22mshould handle basic search without filters[90m 41[2mms[22m[31m[39m
[31m     → `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[31m   [31m×[31m TailorSearchRepository[2m > [22msearchTailors[2m > [22mshould apply occasion filters correctly[90m 3[2mms[22m[31m[39m
[31m     → `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[31m   [31m×[31m TailorSearchRepository[2m > [22msearchTailors[2m > [22mshould apply multiple filter combinations[90m 3[2mms[22m[31m[39m
[31m     → `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[31m   [31m×[31m TailorSearchRepository[2m > [22msearchTailors[2m > [22mshould handle pagination correctly[90m 2[2mms[22m[31m[39m
[31m     → `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[31m   [31m×[31m TailorSearchRepository[2m > [22msearchTailors[2m > [22mshould handle sorting options[90m 3[2mms[22m[31m[39m
[31m     → `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[31m   [31m×[31m TailorSearchRepository[2m > [22msearchTailors[2m > [22mshould handle search query with text[90m 20[2mms[22m[31m[39m
[31m     → `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[31m   [31m×[31m TailorSearchRepository[2m > [22msearchTailors[2m > [22mshould handle errors gracefully[90m 50[2mms[22m[31m[39m
[31m     → expected [Function] to throw error including 'Database error' but got '`cookies` was called outside a reques…'[39m
[31m   [31m×[31m TailorSearchRepository[2m > [22msearchTailors[2m > [22mPerformance Tests[2m > [22mshould handle large result sets efficiently[90m 8[2mms[22m[31m[39m
[31m     → `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[31m   [31m×[31m TailorSearchRepository[2m > [22msearchTailors[2m > [22mPerformance Tests[2m > [22mshould optimize queries with multiple array filters[90m 4[2mms[22m[31m[39m
[31m     → `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[31m   [31m×[31m TailorSearchRepository[2m > [22msearchTailors[2m > [22mPerformance Tests[2m > [22mshould efficiently handle combined text and filter search[90m 3[2mms[22m[31m[39m
[31m     → `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[31m   [31m×[31m TailorSearchRepository[2m > [22mgetTailorById[2m > [22mshould fetch a single tailor by ID[90m 2[2mms[22m[31m[39m
[31m     → repository.getTailorById is not a function[39m
[31m   [31m×[31m TailorSearchRepository[2m > [22mgetTailorById[2m > [22mshould handle non-existent tailor[90m 2[2mms[22m[31m[39m
[31m     → repository.getTailorById is not a function[39m
 [31m❯[39m tests/unit/components/features/orders/MessageList.test.tsx [2m([22m[2m25 tests[22m[2m | [22m[31m23 failed[39m[2m)[22m[90m 268[2mms[22m[39m
[31m   [31m×[31m MessageList[2m > [22mRendering[2m > [22mshould render messages[90m 67[2mms[22m[31m[39m
[31m     → Invalid time value[39m
[31m   [31m×[31m MessageList[2m > [22mRendering[2m > [22mshould show connection status when disconnected[90m 4[2mms[22m[31m[39m
[31m     → Invalid time value[39m
[31m   [31m×[31m MessageList[2m > [22mMessage Grouping[2m > [22mshould group messages by date[90m 4[2mms[22m[31m[39m
[31m     → Invalid time value[39m
[31m   [31m×[31m MessageList[2m > [22mMessage Grouping[2m > [22mshould show "Today" for today's messages[90m 4[2mms[22m[31m[39m
[31m     → Invalid time value[39m
[31m   [31m×[31m MessageList[2m > [22mMessage Grouping[2m > [22mshould show avatars for message groups[90m 4[2mms[22m[31m[39m
[31m     → Invalid time value[39m
[31m   [31m×[31m MessageList[2m > [22mMessage Types[2m > [22mshould render text messages correctly[90m 8[2mms[22m[31m[39m
[31m     → Invalid time value[39m
[31m   [31m×[31m MessageList[2m > [22mMessage Types[2m > [22mshould render image messages[90m 4[2mms[22m[31m[39m
[31m     → Invalid time value[39m
[31m   [31m×[31m MessageList[2m > [22mMessage Types[2m > [22mshould handle image load error[90m 4[2mms[22m[31m[39m
[31m     → Invalid time value[39m
[31m   [31m×[31m MessageList[2m > [22mMessage Types[2m > [22mshould render document messages[90m 14[2mms[22m[31m[39m
[31m     → Invalid time value[39m
[31m   [31m×[31m MessageList[2m > [22mMessage Types[2m > [22mshould handle document download[90m 20[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MessageList[2m > [22mMessage Types[2m > [22mshould render voice messages[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MessageList[2m > [22mMessage Types[2m > [22mshould handle voice message play toggle[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MessageList[2m > [22mMessage Status[2m > [22mshould show read status for own messages[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MessageList[2m > [22mMessage Status[2m > [22mshould show unread status for own messages[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MessageList[2m > [22mTyping Indicators[2m > [22mshould show typing indicator[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MessageList[2m > [22mTyping Indicators[2m > [22mshould show multiple users typing[90m 1[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MessageList[2m > [22mTyping Indicators[2m > [22mshould not show typing indicator when no users typing[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MessageList[2m > [22mMessage Styling[2m > [22mshould apply correct styling for own messages[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MessageList[2m > [22mMessage Styling[2m > [22mshould apply correct styling for other messages[90m 4[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MessageList[2m > [22mTimestamps[2m > [22mshould show timestamps for messages[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MessageList[2m > [22mTimestamps[2m > [22mshould format different date formats correctly[90m 2[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MessageList[2m > [22mAccessibility[2m > [22mshould have proper ARIA attributes[90m 1[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[31m   [31m×[31m MessageList[2m > [22mAccessibility[2m > [22mshould support keyboard navigation[90m 1[2mms[22m[31m[39m
[31m     → Target container is not a DOM element.[39m
[90mstdout[2m | tests/unit/components/features/milestones/PhotoUpload.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 prevent committing .env to code: https://dotenvx.com/precommit

[90mstderr[2m | tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx[2m > [22m[2mMilestonePhotoGallery[2m > [22m[2mInteractivity[2m > [22m[2mshould open modal when photo is clicked and interactive=true
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx[2m > [22m[2mMilestonePhotoGallery[2m > [22m[2mInteractivity[2m > [22m[2mshould call onPhotoSelect callback when photo is selected
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx[2m > [22m[2mMilestonePhotoGallery[2m > [22m[2mPhoto Modal[2m > [22m[2mshould navigate between photos using modal controls
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx[2m > [22m[2mMilestonePhotoGallery[2m > [22m[2mPhoto Modal[2m > [22m[2mshould close modal when close button is clicked
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx[2m > [22m[2mMilestonePhotoGallery[2m > [22m[2mPhoto Modal[2m > [22m[2mshould close modal when escape key is pressed
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 [31m❯[39m tests/unit/components/features/milestones/PhotoUpload.test.tsx [2m([22m[2m15 tests[22m[2m | [22m[31m13 failed[39m[2m)[22m[33m 657[2mms[22m[39m
[31m   [31m×[31m PhotoUpload Component[2m > [22mRendering[2m > [22mshould render disabled state[90m 50[2mms[22m[31m[39m
[31m     → [2mexpect([22m[31melement[31m[2m).toHaveClass([22m[32m[32m"opacity-50 cursor-not-allowed"[32m[31m[2m)[22m

Expected the element to have class:
[32m  opacity-50 cursor-not-allowed[31m
Received:
[31m[31m[39m
[31m   [31m×[31m PhotoUpload Component[2m > [22mFile Selection[2m > [22mshould handle file selection via file input[90m 113[2mms[22m[31m[39m
[31m     → Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m PhotoUpload Component[2m > [22mFile Selection[2m > [22mshould handle drag and drop file selection[90m 64[2mms[22m[31m[39m
[31m     → [2mexpect([22m[31melement[31m[2m).toHaveClass([22m[32m[32m"border-primary"[32m[31m[2m)[22m

Expected the element to have class:
[32m  border-primary[31m
Received:
[31m[31m[39m
[31m   [31m×[31m PhotoUpload Component[2m > [22mFile Selection[2m > [22mshould validate file type[90m 32[2mms[22m[31m[39m
[31m     → Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m PhotoUpload Component[2m > [22mFile Selection[2m > [22mshould validate file size[90m 61[2mms[22m[31m[39m
[31m     → Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m PhotoUpload Component[2m > [22mUpload Process[2m > [22mshould handle successful upload[90m 41[2mms[22m[31m[39m
[31m     → Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m PhotoUpload Component[2m > [22mUpload Process[2m > [22mshould handle upload error[90m 25[2mms[22m[31m[39m
[31m     → Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m PhotoUpload Component[2m > [22mUpload Process[2m > [22mshould show upload progress[90m 20[2mms[22m[31m[39m
[31m     → Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m PhotoUpload Component[2m > [22mNotes Input[2m > [22mshould handle notes input[90m 19[2mms[22m[31m[39m
[31m     → Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m PhotoUpload Component[2m > [22mNotes Input[2m > [22mshould enforce character limit for notes[90m 20[2mms[22m[31m[39m
[31m     → Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m PhotoUpload Component[2m > [22mClear Functionality[2m > [22mshould clear selected file[90m 26[2mms[22m[31m[39m
[31m     → Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m PhotoUpload Component[2m > [22mAccessibility[2m > [22mshould have proper ARIA labels and roles[90m 26[2mms[22m[31m[39m
[31m     → Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m PhotoUpload Component[2m > [22mAccessibility[2m > [22mshould handle keyboard navigation[90m 12[2mms[22m[31m[39m
[31m     → [2mexpect([22m[31melement[31m[2m).toHaveClass([22m[32m[32m"cursor-pointer"[32m[31m[2m)[22m

Expected the element to have class:
[32m  cursor-pointer[31m
Received:
[31m[31m[39m
[90mstderr[2m | tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx[2m > [22m[2mMilestonePhotoGallery[2m > [22m[2mAccessibility[2m > [22m[2mshould support keyboard navigation in modal
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstdout[2m | tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx[2m > [22m[2mMilestonePhotoGallery[2m > [22m[2mLoading States[2m > [22m[2mshould handle image loading states
[22m[39mPhoto loaded successfully: milestone-1

[90mstderr[2m | tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx[2m > [22m[2mMilestonePhotoGallery[2m > [22m[2mLoading States[2m > [22m[2mshould handle image loading states
[22m[39mImage failed to load: {
  src: [32m'https://example.com/cutting.jpg'[39m,
  photoUrl: [32m'https://example.com/cutting.jpg'[39m,
  milestoneName: [32m'Cutting Started'[39m,
  naturalWidth: [33m0[39m,
  naturalHeight: [33m0[39m
}

 [31m❯[39m tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx [2m([22m[2m21 tests[22m[2m | [22m[31m5 failed[39m[2m)[22m[33m 3520[2mms[22m[39m
[31m   [31m×[31m MilestonePhotoGallery[2m > [22mInteractivity[2m > [22mshould open modal when photo is clicked and interactive=true[33m 1336[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: Beautiful kente fabric selected. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body[31m
  [33mdata-scroll-locked[31m=[32m"1"[31m
  [33mstyle[31m=[32m"pointer-events: none;"[31m
[36m>[31m
  [36m<span[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mdata-aria-hidden[31m=[32m"true"[31m
    [33mdata-radix-focus-guard[31m=[32m""[31m
    [33mstyle[31m=[32m"opacity: 0; position: fixed; pointer-events: none; outline-color: none; outline-style: none; outline-width: initial;"[31m
    [33mtabindex[31m=[32m"0"[31m
  [36m/>[31m
  [36m<div[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mdata-aria-hidden[31m=[32m"true"[31m
  [36m>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto"[31m
        [33mstyle[31m=[32m"max-height: 400px;"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[31m
          [33mdata-photo-container[31m=[32m"true"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[31m
          [36m/>[31m
          [36m<img[31m
            [33malt[31m=[32m"Fabric Selected photo"[31m
            [33mclass[31m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[31m
            [33msrc[31m=[32m"https://example.com/fabric.jpg"[31m
          [36m/>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute bottom-0 left-0 right-0 p-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center justify-between"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-lg"[31m
                  [36m>[31m
                    [0m🧵[0m
                  [36m</span>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"text-white"[31m
                  [36m>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-sm font-medium truncate"[31m
                    [36m>[31m
                      [0mFabric Selected[0m
                    [36m</p>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-xs opacity-75"[31m
                    [36m>[31m
                      [0m1/15/2024[0m
                    [36m</p>[31m
                  [36m</div>[31m
                [36m</div>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 text-xs"[31m
                [36m>[31m
                  [0mAPPROVED[0m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-zoom-in h-8 w-8 text-white"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"11"[31m
                [33mcy[31m=[32m"11"[31m
                [33mr[31m=[32m"8"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"21"[31m
                [33mx2[31m=[32m"16.65"[31m
                [33my1[31m=[32m"21"[31m
                [33my2[31m=[32m"16.65"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"11"[31m
                [33mx2[31m=[32m"11"[31m
                [33my1[31m=[32m"8"[31m
                [33my2[31m=[32m"14"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"8"[31m
                [33mx2[31m=[32m"14"[31m
                [33my1[31m=[32m"11"[31m
                [33my2[31m=[32m"11"[31m
              [36m/>[31m
            [36m</svg>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[31m
          [33mdata-photo-container[31m=[32m"true"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[31m
          [36m/>[31m
          [36m<img[31m
            [33malt[31m=[32m"Cutting Started photo"[31m
            [33mclass[31m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[31m
            [33msrc[31m=[32m"https://example.com/cutting.jpg"[31m
          [36m/>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute bottom-0 left-0 right-0 p-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center justify-between"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-lg"[31m
                  [36m>[31m
                    [0m✂️[0m
                  [36m</span>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"text-white"[31m
                  [36m>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-sm font-medium truncate"[31m
                    [36m>[31m
 ...

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body[31m
    [33mdata-scroll-locked[31m=[32m"1"[31m
    [33mstyle[31m=[32m"pointer-events: none;"[31m
  [36m>[31m
    [36m<span[31m
      [33maria-hidden[31m=[32m"true"[31m
      [33mdata-aria-hidden[31m=[32m"true"[31m
      [33mdata-radix-focus-guard[31m=[32m""[31m
      [33mstyle[31m=[32m"opacity: 0; position: fixed; pointer-events: none; outline-color: none; outline-style: none; outline-width: initial;"[31m
      [33mtabindex[31m=[32m"0"[31m
    [36m/>[31m
    [36m<div[31m
      [33maria-hidden[31m=[32m"true"[31m
      [33mdata-aria-hidden[31m=[32m"true"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-4"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto"[31m
          [33mstyle[31m=[32m"max-height: 400px;"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[31m
            [33mdata-photo-container[31m=[32m"true"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[31m
            [36m/>[31m
            [36m<img[31m
              [33malt[31m=[32m"Fabric Selected photo"[31m
              [33mclass[31m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[31m
              [33msrc[31m=[32m"https://example.com/fabric.jpg"[31m
            [36m/>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute bottom-0 left-0 right-0 p-3"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center justify-between"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex items-center gap-2"[31m
                  [36m>[31m
                    [36m<span[31m
                      [33mclass[31m=[32m"text-lg"[31m
                    [36m>[31m
                      [0m🧵[0m
                    [36m</span>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"text-white"[31m
                    [36m>[31m
                      [36m<p[31m
                        [33mclass[31m=[32m"text-sm font-medium truncate"[31m
                      [36m>[31m
                        [0mFabric Selected[0m
                      [36m</p>[31m
                      [36m<p[31m
                        [33mclass[31m=[32m"text-xs opacity-75"[31m
                      [36m>[31m
                        [0m1/15/2024[0m
                      [36m</p>[31m
                    [36m</div>[31m
                  [36m</div>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 text-xs"[31m
                  [36m>[31m
                    [0mAPPROVED[0m
                  [36m</div>[31m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-zoom-in h-8 w-8 text-white"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"11"[31m
                  [33mcy[31m=[32m"11"[31m
                  [33mr[31m=[32m"8"[31m
                [36m/>[31m
                [36m<line[31m
                  [33mx1[31m=[32m"21"[31m
                  [33mx2[31m=[32m"16.65"[31m
                  [33my1[31m=[32m"21"[31m
                  [33my2[31m=[32m"16.65"[31m
                [36m/>[31m
                [36m<line[31m
                  [33mx1[31m=[32m"11"[31m
                  [33mx2[31m=[32m"11"[31m
                  [33my1[31m=[32m"8"[31m
                  [33my2[31m=[32m"14"[31m
                [36m/>[31m
                [36m<line[31m
                  [33mx1[31m=[32m"8"[31m
                  [33mx2[31m=[32m"14"[31m
                  [33my1[31m=[32m"11"[31m
                  [33my2[31m=[32m"11"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[31m
            [33mdata-photo-container[31m=[32m"true"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[31m
            [36m/>[31m
            [36m<img[31m
              [33malt[31m=[32m"Cutting Started photo"[31m
              [33mclass[31m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[31m
              [33msrc[31m=[32m"https://example.com/cutting.jpg"[31m
            [36m/>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute bottom-0 left-0 right-0 p-3"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center justify-between"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex items-center gap-2"[31m
                  [36m>[31m
                    [36m<span[31m
                      [33mclass[31m=[32m"text-lg"[31m
                    [36m>[31m
          ...[39m
[31m   [31m×[31m MilestonePhotoGallery[2m > [22mPhoto Modal[2m > [22mshould navigate between photos using modal controls[33m 429[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: Precise cutting in progress. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body[31m
  [33mdata-scroll-locked[31m=[32m"1"[31m
  [33mstyle[31m=[32m"pointer-events: none;"[31m
[36m>[31m
  [36m<span[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mdata-aria-hidden[31m=[32m"true"[31m
    [33mdata-radix-focus-guard[31m=[32m""[31m
    [33mstyle[31m=[32m"opacity: 0; position: fixed; pointer-events: none; outline-color: none; outline-style: none; outline-width: initial;"[31m
    [33mtabindex[31m=[32m"0"[31m
  [36m/>[31m
  [36m<div[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mdata-aria-hidden[31m=[32m"true"[31m
  [36m>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto"[31m
        [33mstyle[31m=[32m"max-height: 400px;"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[31m
          [33mdata-photo-container[31m=[32m"true"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[31m
          [36m/>[31m
          [36m<img[31m
            [33malt[31m=[32m"Fabric Selected photo"[31m
            [33mclass[31m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[31m
            [33msrc[31m=[32m"https://example.com/fabric.jpg"[31m
          [36m/>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute bottom-0 left-0 right-0 p-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center justify-between"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-lg"[31m
                  [36m>[31m
                    [0m🧵[0m
                  [36m</span>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"text-white"[31m
                  [36m>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-sm font-medium truncate"[31m
                    [36m>[31m
                      [0mFabric Selected[0m
                    [36m</p>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-xs opacity-75"[31m
                    [36m>[31m
                      [0m1/15/2024[0m
                    [36m</p>[31m
                  [36m</div>[31m
                [36m</div>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 text-xs"[31m
                [36m>[31m
                  [0mAPPROVED[0m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-zoom-in h-8 w-8 text-white"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"11"[31m
                [33mcy[31m=[32m"11"[31m
                [33mr[31m=[32m"8"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"21"[31m
                [33mx2[31m=[32m"16.65"[31m
                [33my1[31m=[32m"21"[31m
                [33my2[31m=[32m"16.65"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"11"[31m
                [33mx2[31m=[32m"11"[31m
                [33my1[31m=[32m"8"[31m
                [33my2[31m=[32m"14"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"8"[31m
                [33mx2[31m=[32m"14"[31m
                [33my1[31m=[32m"11"[31m
                [33my2[31m=[32m"11"[31m
              [36m/>[31m
            [36m</svg>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[31m
          [33mdata-photo-container[31m=[32m"true"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[31m
          [36m/>[31m
          [36m<img[31m
            [33malt[31m=[32m"Cutting Started photo"[31m
            [33mclass[31m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[31m
            [33msrc[31m=[32m"https://example.com/cutting.jpg"[31m
          [36m/>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute bottom-0 left-0 right-0 p-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center justify-between"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-lg"[31m
                  [36m>[31m
                    [0m✂️[0m
                  [36m</span>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"text-white"[31m
                  [36m>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-sm font-medium truncate"[31m
                    [36m>[31m
 ...[39m
[31m   [31m×[31m MilestonePhotoGallery[2m > [22mPhoto Modal[2m > [22mshould close modal when close button is clicked[90m 245[2mms[22m[31m[39m
[31m     → Unable to find a label with the text of: Close

Ignored nodes: comments, script, style
[36m<body[31m
  [33mdata-scroll-locked[31m=[32m"1"[31m
  [33mstyle[31m=[32m"pointer-events: none;"[31m
[36m>[31m
  [36m<span[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mdata-aria-hidden[31m=[32m"true"[31m
    [33mdata-radix-focus-guard[31m=[32m""[31m
    [33mstyle[31m=[32m"opacity: 0; position: fixed; pointer-events: none; outline-color: none; outline-style: none; outline-width: initial;"[31m
    [33mtabindex[31m=[32m"0"[31m
  [36m/>[31m
  [36m<div[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mdata-aria-hidden[31m=[32m"true"[31m
  [36m>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto"[31m
        [33mstyle[31m=[32m"max-height: 400px;"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[31m
          [33mdata-photo-container[31m=[32m"true"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[31m
          [36m/>[31m
          [36m<img[31m
            [33malt[31m=[32m"Fabric Selected photo"[31m
            [33mclass[31m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[31m
            [33msrc[31m=[32m"https://example.com/fabric.jpg"[31m
          [36m/>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute bottom-0 left-0 right-0 p-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center justify-between"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-lg"[31m
                  [36m>[31m
                    [0m🧵[0m
                  [36m</span>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"text-white"[31m
                  [36m>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-sm font-medium truncate"[31m
                    [36m>[31m
                      [0mFabric Selected[0m
                    [36m</p>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-xs opacity-75"[31m
                    [36m>[31m
                      [0m1/15/2024[0m
                    [36m</p>[31m
                  [36m</div>[31m
                [36m</div>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 text-xs"[31m
                [36m>[31m
                  [0mAPPROVED[0m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-zoom-in h-8 w-8 text-white"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"11"[31m
                [33mcy[31m=[32m"11"[31m
                [33mr[31m=[32m"8"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"21"[31m
                [33mx2[31m=[32m"16.65"[31m
                [33my1[31m=[32m"21"[31m
                [33my2[31m=[32m"16.65"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"11"[31m
                [33mx2[31m=[32m"11"[31m
                [33my1[31m=[32m"8"[31m
                [33my2[31m=[32m"14"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"8"[31m
                [33mx2[31m=[32m"14"[31m
                [33my1[31m=[32m"11"[31m
                [33my2[31m=[32m"11"[31m
              [36m/>[31m
            [36m</svg>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[31m
          [33mdata-photo-container[31m=[32m"true"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[31m
          [36m/>[31m
          [36m<img[31m
            [33malt[31m=[32m"Cutting Started photo"[31m
            [33mclass[31m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[31m
            [33msrc[31m=[32m"https://example.com/cutting.jpg"[31m
          [36m/>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute bottom-0 left-0 right-0 p-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center justify-between"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-lg"[31m
                  [36m>[31m
                    [0m✂️[0m
                  [36m</span>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"text-white"[31m
                  [36m>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-sm font-medium truncate"[31m
                    [36m>[31m
 ...[39m
[31m   [31m×[31m MilestonePhotoGallery[2m > [22mAccessibility[2m > [22mshould support keyboard navigation in modal[90m 265[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: Precise cutting in progress. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body[31m
  [33mdata-scroll-locked[31m=[32m"1"[31m
  [33mstyle[31m=[32m"pointer-events: none;"[31m
[36m>[31m
  [36m<span[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mdata-aria-hidden[31m=[32m"true"[31m
    [33mdata-radix-focus-guard[31m=[32m""[31m
    [33mstyle[31m=[32m"opacity: 0; position: fixed; pointer-events: none; outline-color: none; outline-style: none; outline-width: initial;"[31m
    [33mtabindex[31m=[32m"0"[31m
  [36m/>[31m
  [36m<div[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mdata-aria-hidden[31m=[32m"true"[31m
  [36m>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto"[31m
        [33mstyle[31m=[32m"max-height: 400px;"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[31m
          [33mdata-photo-container[31m=[32m"true"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[31m
          [36m/>[31m
          [36m<img[31m
            [33malt[31m=[32m"Fabric Selected photo"[31m
            [33mclass[31m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[31m
            [33msrc[31m=[32m"https://example.com/fabric.jpg"[31m
          [36m/>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute bottom-0 left-0 right-0 p-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center justify-between"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-lg"[31m
                  [36m>[31m
                    [0m🧵[0m
                  [36m</span>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"text-white"[31m
                  [36m>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-sm font-medium truncate"[31m
                    [36m>[31m
                      [0mFabric Selected[0m
                    [36m</p>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-xs opacity-75"[31m
                    [36m>[31m
                      [0m1/15/2024[0m
                    [36m</p>[31m
                  [36m</div>[31m
                [36m</div>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 text-xs"[31m
                [36m>[31m
                  [0mAPPROVED[0m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-zoom-in h-8 w-8 text-white"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"11"[31m
                [33mcy[31m=[32m"11"[31m
                [33mr[31m=[32m"8"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"21"[31m
                [33mx2[31m=[32m"16.65"[31m
                [33my1[31m=[32m"21"[31m
                [33my2[31m=[32m"16.65"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"11"[31m
                [33mx2[31m=[32m"11"[31m
                [33my1[31m=[32m"8"[31m
                [33my2[31m=[32m"14"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"8"[31m
                [33mx2[31m=[32m"14"[31m
                [33my1[31m=[32m"11"[31m
                [33my2[31m=[32m"11"[31m
              [36m/>[31m
            [36m</svg>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[31m
          [33mdata-photo-container[31m=[32m"true"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[31m
          [36m/>[31m
          [36m<img[31m
            [33malt[31m=[32m"Cutting Started photo"[31m
            [33mclass[31m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[31m
            [33msrc[31m=[32m"https://example.com/cutting.jpg"[31m
          [36m/>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute bottom-0 left-0 right-0 p-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center justify-between"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-lg"[31m
                  [36m>[31m
                    [0m✂️[0m
                  [36m</span>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"text-white"[31m
                  [36m>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-sm font-medium truncate"[31m
                    [36m>[31m
 ...[39m
[31m   [31m×[31m MilestonePhotoGallery[2m > [22mCustom Props[2m > [22mshould respect maxHeight prop[90m 42[2mms[22m[31m[39m
[31m     → Found multiple elements with the role "img"

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<img[31m
  [33malt[31m=[32m"Fabric Selected photo"[31m
  [33mclass[31m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[31m
  [33msrc[31m=[32m"https://example.com/fabric.jpg"[31m
[36m/>[31m

Ignored nodes: comments, script, style
[36m<img[31m
  [33malt[31m=[32m"Cutting Started photo"[31m
  [33mclass[31m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[31m
  [33msrc[31m=[32m"https://example.com/cutting.jpg"[31m
[36m/>[31m

Ignored nodes: comments, script, style
[36m<img[31m
  [33malt[31m=[32m"Fitting Ready photo"[31m
  [33mclass[31m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[31m
  [33msrc[31m=[32m"https://example.com/fitting.jpg"[31m
[36m/>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto"[31m
        [33mstyle[31m=[32m"max-height: 300px;"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[31m
          [33mdata-photo-container[31m=[32m"true"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[31m
          [36m/>[31m
          [36m<img[31m
            [33malt[31m=[32m"Fabric Selected photo"[31m
            [33mclass[31m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[31m
            [33msrc[31m=[32m"https://example.com/fabric.jpg"[31m
          [36m/>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute bottom-0 left-0 right-0 p-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center justify-between"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-lg"[31m
                  [36m>[31m
                    [0m🧵[0m
                  [36m</span>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"text-white"[31m
                  [36m>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-sm font-medium truncate"[31m
                    [36m>[31m
                      [0mFabric Selected[0m
                    [36m</p>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-xs opacity-75"[31m
                    [36m>[31m
                      [0m1/15/2024[0m
                    [36m</p>[31m
                  [36m</div>[31m
                [36m</div>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 text-xs"[31m
                [36m>[31m
                  [0mAPPROVED[0m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-zoom-in h-8 w-8 text-white"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"11"[31m
                [33mcy[31m=[32m"11"[31m
                [33mr[31m=[32m"8"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"21"[31m
                [33mx2[31m=[32m"16.65"[31m
                [33my1[31m=[32m"21"[31m
                [33my2[31m=[32m"16.65"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"11"[31m
                [33mx2[31m=[32m"11"[31m
                [33my1[31m=[32m"8"[31m
                [33my2[31m=[32m"14"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"8"[31m
                [33mx2[31m=[32m"14"[31m
                [33my1[31m=[32m"11"[31m
                [33my2[31m=[32m"11"[31m
              [36m/>[31m
            [36m</svg>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[31m
          [33mdata-photo-container[31m=[32m"true"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[31m
          [36m/>[31m
          [36m<img[31m
            [33malt[31m=[32m"Cutting Started photo"[31m
            [33mclass[31m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[31m
            [33msrc[31m=[32m"https://example.com/cutting.jpg"[31m
          [36m/>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute bottom-0 left-0 right-0 p-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center justify-between"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-lg"[31m
                  [36m>[31m
                    [0m✂️[0m
                  [36m</span>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"text-white"[31m
                  [36m>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-sm font-medium truncate"[31m
                    [36m>[31m
                      [0mCutting Started[0m
                    [36m</p>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-xs opacity-75"[31m
                    [36m>[31m
                      [0m1/16/2024[0m
                    [36m</p>[31m
                  [36m</div>[31m
                [36m</div>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[31m
                [36m>[31m
                  [0mPENDING[0m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-zoom-in h-8 w-8 text-white"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"11"[31m
                [33mcy[31m=[32m"11"[31m
                [33mr[31m=[32m"8"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"21"[31m
                [33mx2[31m=[32m"16.65"[31m
                [33my1[31m=[32m"21"[31m
                [33my2[31m=[32m"16.65"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"11"[31m
                [33mx2[31m=[32m"11"[31m
                [33my1[31m=[32m"8"[31m
                [33my2[31m=[32m"14"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"8"[31m
                [33mx2[31m=[32m"14"[31m
                [33my1[31m=[32m"11"[31m
                [33my2[31m=[32m"11"[31m
              [36m/>[31m
            [36m</svg>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[31m
          [33mdata-photo-container[31m=[32m"true"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[31m
          [36m/>[31m
          [36m<img[31m
            [33malt[31m=[32m"Fitting Ready photo"[31m
            [33mclass[31m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[31m
            [33msrc[31m=[32m"https://example.com/fitting.jpg"[31m
          [36m/>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute bottom-0 left-0 right-0 p-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center justify-between"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-lg"[31m
                  [36m>[31m
                    [0m👔[0m
                  [36m</span>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"text-white"[31m
                  [36m>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-sm font-medium truncate"[31m
                    [36m>[31m
                      [0mFitting Ready[0m
                    [36m</p>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-xs opacity-75"[31m
                    [36m>[31m
                      [0m1/20/2024[0m
                    [36m</p>[31m
                  [36m</div>[31m
                [36m</div>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[31m
                [36m>[31m
                  [0mREJECTED[0m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-zoom-in h-8 w-8 text-white"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"11"[31m
                [33mcy[31m=[32m"11"[31m
                [33mr[31m=[32m"8"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"21"[31m
                [33mx2[31m=[32m"16.65"[31m
                [33my1[31m=[32m"21"[31m
                [33my2[31m=[32m"16.65"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"11"[31m
                [33mx2[31m=[32m"11"[31m
                [33my1[31m=[32m"8"[31m
                [33my2[31m=[32m"14"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"8"[31m
                [33mx2[31m=[32m"14"[31m
                [33my1[31m=[32m"11"[31m
                [33my2[31m=[32m"11"[31m
              [36m/>[31m
            [36m</svg>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90mstdout[2m | tests/unit/components/features/milestones/TailorMilestoneSubmission.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  specify custom .env file path with { path: '/custom/path/.env' }

[90mstdout[2m | tests/unit/components/features/orders/OrderChat.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  load multiple .env files with { path: ['.env.local', '.env'] }

[90mstdout[2m | tests/unit/components/features/orders/FamilyProfileSelector.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🗂️ backup and recover secrets: https://dotenvx.com/ops

 [31m❯[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx [2m([22m[2m18 tests[22m[2m | [22m[31m18 failed[39m[2m)[22m[90m 166[2mms[22m[39m
[31m   [31m×[31m FamilyProfileSelector[2m > [22mrenders the header and search functionality[90m 75[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector[2m > [22mdisplays all profiles with correct information[90m 5[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector[2m > [22mshows measurement completeness correctly[90m 4[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector[2m > [22mindicates outdated measurements[90m 4[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector[2m > [22mhandles profile selection[90m 4[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector[2m > [22mshows selected profile with visual indicator[90m 3[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector[2m > [22mfilters profiles by search query[90m 6[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector[2m > [22mshows quick actions when enabled[90m 6[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector[2m > [22mhandles edit profile action[90m 5[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector[2m > [22mhandles copy measurements action[90m 9[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector[2m > [22mshows add new profile option[90m 4[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector[2m > [22mhandles create new profile action[90m 3[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector[2m > [22mshows empty state when no profiles match filters[90m 3[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector[2m > [22mdisplays age information when available[90m 5[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector[2m > [22mshows gender badges[90m 5[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector[2m > [22mapplies custom className[90m 6[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector - Search and Filter[2m > [22mfilters by relationship type[90m 6[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[31m   [31m×[31m FamilyProfileSelector - Quick Selection[2m > [22mshows quick selection for multiple profiles[90m 6[2mms[22m[31m[39m
[31m     → useAccessibilityContext must be used within AccessibilityProvider[39m
[90mstdout[2m | tests/unit/lib/services/group-order.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🛠️  run anywhere with `dotenvx run -- yourcommand`

[90mstdout[2m | tests/unit/middleware/roles.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  load multiple .env files with { path: ['.env.local', '.env'] }

 [31m❯[39m tests/unit/lib/services/group-order.service.test.ts [2m([22m[2m0 test[22m[2m)[22m
 [31m❯[39m tests/unit/middleware/roles.test.ts [2m([22m[2m13 tests[22m[2m | [22m[31m13 failed[39m[2m)[22m[90m 77[2mms[22m[39m
[31m   [31m×[31m Role-based Middleware[2m > [22mPublic routes[2m > [22mshould allow access to public routes without authentication[90m 41[2mms[22m[31m[39m
[31m     → request.headers must be an instance of Headers[39m
[31m   [31m×[31m Role-based Middleware[2m > [22mAuthentication required routes[2m > [22mshould redirect unauthenticated users to login[90m 2[2mms[22m[31m[39m
[31m     → request.headers must be an instance of Headers[39m
[31m   [31m×[31m Role-based Middleware[2m > [22mAuthentication required routes[2m > [22mshould redirect unauthenticated users to login with redirect parameter[90m 2[2mms[22m[31m[39m
[31m     → request.headers must be an instance of Headers[39m
[31m   [31m×[31m Role-based Middleware[2m > [22mRole-based access control[2m > [22mshould allow customer access to customer routes[90m 2[2mms[22m[31m[39m
[31m     → request.headers must be an instance of Headers[39m
[31m   [31m×[31m Role-based Middleware[2m > [22mRole-based access control[2m > [22mshould block customer access to admin routes[90m 2[2mms[22m[31m[39m
[31m     → request.headers must be an instance of Headers[39m
[31m   [31m×[31m Role-based Middleware[2m > [22mRole-based access control[2m > [22mshould allow tailor access to tailor routes[90m 5[2mms[22m[31m[39m
[31m     → request.headers must be an instance of Headers[39m
[31m   [31m×[31m Role-based Middleware[2m > [22mRole-based access control[2m > [22mshould block tailor access to customer routes[90m 3[2mms[22m[31m[39m
[31m     → request.headers must be an instance of Headers[39m
[31m   [31m×[31m Role-based Middleware[2m > [22mRole-based access control[2m > [22mshould allow admin access to all routes[90m 3[2mms[22m[31m[39m
[31m     → request.headers must be an instance of Headers[39m
[31m   [31m×[31m Role-based Middleware[2m > [22mAuth route redirects[2m > [22mshould redirect authenticated users away from auth routes to appropriate dashboard[90m 2[2mms[22m[31m[39m
[31m     → request.headers must be an instance of Headers[39m
[31m   [31m×[31m Role-based Middleware[2m > [22mAuth route redirects[2m > [22mshould redirect admin to admin dashboard from auth routes[90m 2[2mms[22m[31m[39m
[31m     → request.headers must be an instance of Headers[39m
[31m   [31m×[31m Role-based Middleware[2m > [22mError handling[2m > [22mshould handle database errors gracefully[90m 2[2mms[22m[31m[39m
[31m     → request.headers must be an instance of Headers[39m
[31m   [31m×[31m Role-based Middleware[2m > [22mError handling[2m > [22mshould use metadata role as fallback[90m 3[2mms[22m[31m[39m
[31m     → request.headers must be an instance of Headers[39m
[31m   [31m×[31m Role-based Middleware[2m > [22mUnauthorized page parameters[2m > [22mshould include role information in unauthorized redirect[90m 2[2mms[22m[31m[39m
[31m     → request.headers must be an instance of Headers[39m
[90mstdout[2m | tests/unit/lib/repositories/payment.repository.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  override existing env vars with { override: true }

 [31m❯[39m tests/unit/lib/repositories/payment.repository.test.ts [2m([22m[2m0 test[22m[2m)[22m
[90mstdout[2m | tests/unit/api/orders/messages.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🗂️ backup and recover secrets: https://dotenvx.com/ops

[90mstderr[2m | tests/unit/api/orders/messages.test.ts[2m > [22m[2m/api/orders/[id]/messages[2m > [22m[2mGET /api/orders/[id]/messages[2m > [22m[2mshould return messages for authorized customer
[22m[39mMessages fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/messages.test.ts[2m > [22m[2m/api/orders/[id]/messages[2m > [22m[2mGET /api/orders/[id]/messages[2m > [22m[2mshould mark unread messages as read for current user
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Messages fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/messages.test.ts[2m > [22m[2m/api/orders/[id]/messages[2m > [22m[2mGET /api/orders/[id]/messages[2m > [22m[2mshould return 401 when user is not authenticated
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Messages fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/messages.test.ts[2m > [22m[2m/api/orders/[id]/messages[2m > [22m[2mGET /api/orders/[id]/messages[2m > [22m[2mshould return 403 when user is not authorized to access order
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Messages fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/messages.test.ts[2m > [22m[2m/api/orders/[id]/messages[2m > [22m[2mPOST /api/orders/[id]/messages[2m > [22m[2mshould create new message from customer
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Message send error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/messages.test.ts[2m > [22m[2m/api/orders/[id]/messages[2m > [22m[2mPOST /api/orders/[id]/messages[2m > [22m[2mshould create message with media URL
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Message send error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/messages.test.ts[2m > [22m[2m/api/orders/[id]/messages[2m > [22m[2mPOST /api/orders/[id]/messages[2m > [22m[2mshould return 400 for invalid message data
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Message send error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/messages.test.ts[2m > [22m[2m/api/orders/[id]/messages[2m > [22m[2mPOST /api/orders/[id]/messages[2m > [22m[2mshould return 500 when message creation fails
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Message send error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/messages.test.ts[2m > [22m[2m/api/orders/[id]/messages[2m > [22m[2mPOST /api/orders/[id]/messages[2m > [22m[2mshould set correct sender information for tailor user
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Message send error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

 [31m❯[39m tests/unit/api/orders/messages.test.ts [2m([22m[2m9 tests[22m[2m | [22m[31m9 failed[39m[2m)[22m[90m 204[2mms[22m[39m
[31m   [31m×[31m /api/orders/[id]/messages[2m > [22mGET /api/orders/[id]/messages[2m > [22mshould return messages for authorized customer[90m 147[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/messages[2m > [22mGET /api/orders/[id]/messages[2m > [22mshould mark unread messages as read for current user[90m 6[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/messages[2m > [22mGET /api/orders/[id]/messages[2m > [22mshould return 401 when user is not authenticated[90m 4[2mms[22m[31m[39m
[31m     → expected 500 to be 401 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/messages[2m > [22mGET /api/orders/[id]/messages[2m > [22mshould return 403 when user is not authorized to access order[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 403 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/messages[2m > [22mPOST /api/orders/[id]/messages[2m > [22mshould create new message from customer[90m 6[2mms[22m[31m[39m
[31m     → expected 500 to be 201 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/messages[2m > [22mPOST /api/orders/[id]/messages[2m > [22mshould create message with media URL[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 201 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/messages[2m > [22mPOST /api/orders/[id]/messages[2m > [22mshould return 400 for invalid message data[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 400 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/messages[2m > [22mPOST /api/orders/[id]/messages[2m > [22mshould return 500 when message creation fails[90m 15[2mms[22m[31m[39m
[31m     → expected [ 'Internal server error' ] to include 'Failed to send message'[39m
[31m   [31m×[31m /api/orders/[id]/messages[2m > [22mPOST /api/orders/[id]/messages[2m > [22mshould set correct sender information for tailor user[90m 6[2mms[22m[31m[39m
[31m     → expected 500 to be 201 // Object.is equality[39m
[90mstderr[2m | tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22m[2mOrderChat[2m > [22m[2mRendering[2m > [22m[2mshould render chat header with tailor info
[22m[39mRangeError: Invalid time value
    at Module.format (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/date-fns@4.1.0/node_modules/[4mdate-fns[24m/format.js:350:11)
    at formatDateHeader [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:85:12[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:429:27
    at Array.forEach (<anonymous>)
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:428:14
    at updateMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6621:19)
    at Object.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23182:18)
    at Object.process.env.NODE_ENV.exports.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react@19.1.0\node_modules\[4mreact[24m\cjs\react.development.js:1209:34)
    at MessageList [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:414:33[90m)[39m
    at Object.react-stack-bottom-frame (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23863:20)
An error occurred in the <MessageList> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


[90mstderr[2m | tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22m[2mOrderChat[2m > [22m[2mRendering[2m > [22m[2mshould show collapsed state when isCollapsed is true
[22m[39mAn update to OrderChat inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OrderChat inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OrderChat inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22m[2mOrderChat[2m > [22m[2mRendering[2m > [22m[2mshould show loading state initially
[22m[39mAn update to OrderChat inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OrderChat inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OrderChat inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22m[2mOrderChat[2m > [22m[2mRendering[2m > [22m[2mshould load and display messages
[22m[39mRangeError: Invalid time value
    at Module.format (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/date-fns@4.1.0/node_modules/[4mdate-fns[24m/format.js:350:11)
    at formatDateHeader [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:85:12[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:429:27
    at Array.forEach (<anonymous>)
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:428:14
    at updateMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6621:19)
    at Object.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23182:18)
    at Object.process.env.NODE_ENV.exports.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react@19.1.0\node_modules\[4mreact[24m\cjs\react.development.js:1209:34)
    at MessageList [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:414:33[90m)[39m
    at Object.react-stack-bottom-frame (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23863:20)
An error occurred in the <MessageList> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


[90mstderr[2m | tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22m[2mOrderChat[2m > [22m[2mMessage Loading[2m > [22m[2mshould handle loading error gracefully
[22m[39mFailed to load messages: Error: Network error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\components\features\orders\OrderChat.test.tsx:121:47
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22m[2mOrderChat[2m > [22m[2mMessage Loading[2m > [22m[2mshould mark messages as read when chat loads
[22m[39mRangeError: Invalid time value
    at Module.format (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/date-fns@4.1.0/node_modules/[4mdate-fns[24m/format.js:350:11)
    at formatDateHeader [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:85:12[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:429:27
    at Array.forEach (<anonymous>)
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:428:14
    at updateMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6621:19)
    at Object.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23182:18)
    at Object.process.env.NODE_ENV.exports.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react@19.1.0\node_modules\[4mreact[24m\cjs\react.development.js:1209:34)
    at MessageList [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:414:33[90m)[39m
    at Object.react-stack-bottom-frame (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23863:20)
An error occurred in the <MessageList> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


[90mstderr[2m | tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22m[2mOrderChat[2m > [22m[2mWebSocket Connection[2m > [22m[2mshould establish WebSocket connection
[22m[39mRangeError: Invalid time value
    at Module.format (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/date-fns@4.1.0/node_modules/[4mdate-fns[24m/format.js:350:11)
    at formatDateHeader [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:85:12[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:429:27
    at Array.forEach (<anonymous>)
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:428:14
    at updateMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6621:19)
    at Object.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23182:18)
    at Object.process.env.NODE_ENV.exports.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react@19.1.0\node_modules\[4mreact[24m\cjs\react.development.js:1209:34)
    at MessageList [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:414:33[90m)[39m
    at Object.react-stack-bottom-frame (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23863:20)
An error occurred in the <MessageList> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


[90mstderr[2m | tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22m[2mOrderChat[2m > [22m[2mWebSocket Connection[2m > [22m[2mshould handle WebSocket message events
[22m[39mRangeError: Invalid time value
    at Module.format (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/date-fns@4.1.0/node_modules/[4mdate-fns[24m/format.js:350:11)
    at formatDateHeader [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:85:12[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:429:27
    at Array.forEach (<anonymous>)
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:428:14
    at updateMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6621:19)
    at Object.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23182:18)
    at Object.process.env.NODE_ENV.exports.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react@19.1.0\node_modules\[4mreact[24m\cjs\react.development.js:1209:34)
    at MessageList [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:414:33[90m)[39m
    at Object.react-stack-bottom-frame (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23863:20)
An error occurred in the <MessageList> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


[90mstdout[2m | tests/unit/api/admin/disputes/analytics.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com

 [31m❯[39m tests/unit/components/features/milestones/TailorMilestoneSubmission.test.tsx [2m([22m[2m20 tests[22m[2m | [22m[31m7 failed[39m[2m)[22m[33m 9772[2mms[22m[39m
[31m   [31m×[31m TailorMilestoneSubmission Component[2m > [22mvalidates required photos before submission[33m 1166[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: Please upload at least 2 photos. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
      [36m>[31m
        [36m<h3[31m
          [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-3"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"p-2 rounded-full text-white bg-orange-500"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-camera h-5 w-5"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"13"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</div>[31m
            [36m<div>[31m
              [36m<h2[31m
                [33mclass[31m=[32m"text-lg font-semibold"[31m
              [36m>[31m
                [0mFabric Cutting in Progress[0m
              [36m</h2>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mDocument the fabric cutting process[0m
              [36m</p>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-2"[31m
          [36m/>[31m
        [36m</h3>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-2"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex justify-between text-sm text-muted-foreground"[31m
          [36m>[31m
            [36m<span>[31m
              [0mMilestone Progress[0m
            [36m</span>[31m
            [36m<span>[31m
              [0m0[0m
              [0m%[0m
            [36m</span>[31m
          [36m</div>[31m
          [36m<div[31m
            [33maria-valuemax[31m=[32m"100"[31m
            [33maria-valuemin[31m=[32m"0"[31m
            [33mclass[31m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[31m
            [33mdata-max[31m=[32m"100"[31m
            [33mdata-state[31m=[32m"indeterminate"[31m
            [33mrole[31m=[32m"progressbar"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"h-full w-full flex-1 bg-primary transition-all"[31m
              [33mdata-max[31m=[32m"100"[31m
              [33mdata-state[31m=[32m"indeterminate"[31m
              [33mstyle[31m=[32m"transform: translateX(-100%);"[31m
            [36m/>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"p-6 pt-0 space-y-6"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-4"[31m
        [36m>[31m
          [36m<div>[31m
            [36m<h3[31m
              [33mclass[31m=[32m"font-medium mb-2"[31m
            [36m>[31m
              [0mInstructions[0m
            [36m</h3>[31m
            [36m<ul[31m
              [33mclass[31m=[32m"space-y-1 text-sm text-muted-foreground"[31m
            [36m>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mTake clear photos of the cutting process[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mShow fabric laid out with pattern pieces[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mEnsure all pieces are cut accurately[0m
                [36m</span>[31m
              [36m</li>[31m
            [36m</ul>[31m
          [36m</div>[31m
          [36m<div>[31m
            [36m<h3[31m
              [33mclass[31m=[32m"font-medium mb-2"[31m
            [36m>[31m
              [0mPhoto Requirements[0m
            [36m</h3>[31m
            [36m<ul[31m
              [33mclass[31m=[32m"space-y-1 text-sm text-muted-foreground"[31m
            [36m>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mClear photo of fabric layout with patterns[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mCut pieces arranged and labeled[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mAny special cutting techniques used[0m
                [36m</span>[31m
              [36m</li>[31m
            [36m</ul>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
            [36m>[31m
              [0mPhotos ([0m
              [0m2[0m
              [0m required)[0m
              [36m<span[31m
                [33mclass[31m=[32m"text-red-500"[31m
              [36m>[31m
                [0m*[0m
              [36m</span>[31m
            [36m</label>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"photo-upload"[31m
            [36m>[31m
              [36m<input[31m
                [33maccept[31m=[32m"image/*"[31m
                [33mdata-testid[31m=[32m"photo-input"[31m
                [33mmultiple[31m=[32m""[31m
                [33mtype[31m=[32m"file"[31m
              [36m/>[31m
              [36m<div>[31m
                [0mMax photos: [0m
                [0m4[0m
              [36m</div>[31m
            [36m</div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
            [36m>[31m
              [0mUpload [0m
              [0m2[0m
              [0m to [0m
              [0m4[0m
              [0m photos. Max 5MB per photo. JPEG, PNG, or WebP format.[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
              [33mfor[31m=[32m"notes"[31m
            [36m>[31m
              [0mProgress Notes[0m
              [36m<span[31m
                [33mclass[31m=[32m"text-red-500"[31m
              [36m>[31m
                [0m*[0m
              [36m</span>[31m
            [36m</label>[31m
            [36m<textarea[31m
              [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[100px]"[31m
              [33mid[31m=[32m"notes"[31m
              [33mplaceholder[31m=[32m"Describe your progress, any challenges, and next steps..."[31m
            [36m>[31m
              [0mSome progress notes[0m
            [36m</textarea>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
            [36m>[31m
              [0mProvide detailed notes about your progress and any relevant information for the customer.[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"[31m
            [33mrole[31m=[32m"alert"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-circle-alert h-4 w-4"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"12"[31m
                [33mcy[31m=[32m"12"[31m
                [33mr[31m=[32m"10"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"12"[31m
                [33mx2[31m=[32m"12"[31m
                [33my1[31m=[32m"8"[31m
                [33my2[31m=[32m"12"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"12"[31m
                [33mx2[31m=[32m"12.01"[31m
                [33my1[31m=[32m"16"[31m
                [33my2[31m=[32m"16"[31m
              [36m/>[31m
            [36m</svg>[31m
            [36m<div[31m
              [33mclass[31m=[32m"text-sm [&_p]:leading-relaxed"[31m
            [36m>[31m
              [36m<ul[31m
                [33mclass[31m=[32m"space-y-1"[31m
              [36m>[31m
                [36m<li>[31m
                  [0m• [0m
                  [0mPlease upload at least 2 photos[0m
                [36m</li>[31m
              [36m</ul>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<button[31m
            [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8 w-full"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-camera h-4 w-4 mr-2"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
              [36m/>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"12"[31m
                [33mcy[31m=[32m"13"[31m
                [33mr[31m=[32m"3"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mSubmit Milestone[0m
          [36m</button>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m TailorMilestoneSubmission Component[2m > [22mvalidates required notes before submission[90m 157[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: Please add notes describing your progress. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
      [36m>[31m
        [36m<h3[31m
          [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-3"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"p-2 rounded-full text-white bg-orange-500"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-camera h-5 w-5"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"13"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</div>[31m
            [36m<div>[31m
              [36m<h2[31m
                [33mclass[31m=[32m"text-lg font-semibold"[31m
              [36m>[31m
                [0mFabric Cutting in Progress[0m
              [36m</h2>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mDocument the fabric cutting process[0m
              [36m</p>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-2"[31m
          [36m/>[31m
        [36m</h3>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-2"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex justify-between text-sm text-muted-foreground"[31m
          [36m>[31m
            [36m<span>[31m
              [0mMilestone Progress[0m
            [36m</span>[31m
            [36m<span>[31m
              [0m0[0m
              [0m%[0m
            [36m</span>[31m
          [36m</div>[31m
          [36m<div[31m
            [33maria-valuemax[31m=[32m"100"[31m
            [33maria-valuemin[31m=[32m"0"[31m
            [33mclass[31m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[31m
            [33mdata-max[31m=[32m"100"[31m
            [33mdata-state[31m=[32m"indeterminate"[31m
            [33mrole[31m=[32m"progressbar"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"h-full w-full flex-1 bg-primary transition-all"[31m
              [33mdata-max[31m=[32m"100"[31m
              [33mdata-state[31m=[32m"indeterminate"[31m
              [33mstyle[31m=[32m"transform: translateX(-100%);"[31m
            [36m/>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"p-6 pt-0 space-y-6"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-4"[31m
        [36m>[31m
          [36m<div>[31m
            [36m<h3[31m
              [33mclass[31m=[32m"font-medium mb-2"[31m
            [36m>[31m
              [0mInstructions[0m
            [36m</h3>[31m
            [36m<ul[31m
              [33mclass[31m=[32m"space-y-1 text-sm text-muted-foreground"[31m
            [36m>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mTake clear photos of the cutting process[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mShow fabric laid out with pattern pieces[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mEnsure all pieces are cut accurately[0m
                [36m</span>[31m
              [36m</li>[31m
            [36m</ul>[31m
          [36m</div>[31m
          [36m<div>[31m
            [36m<h3[31m
              [33mclass[31m=[32m"font-medium mb-2"[31m
            [36m>[31m
              [0mPhoto Requirements[0m
            [36m</h3>[31m
            [36m<ul[31m
              [33mclass[31m=[32m"space-y-1 text-sm text-muted-foreground"[31m
            [36m>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mClear photo of fabric layout with patterns[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mCut pieces arranged and labeled[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mAny special cutting techniques used[0m
                [36m</span>[31m
              [36m</li>[31m
            [36m</ul>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
            [36m>[31m
              [0mPhotos ([0m
              [0m2[0m
              [0m required)[0m
              [36m<span[31m
                [33mclass[31m=[32m"text-red-500"[31m
              [36m>[31m
                [0m*[0m
              [36m</span>[31m
            [36m</label>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"photo-upload"[31m
            [36m>[31m
              [36m<input[31m
                [33maccept[31m=[32m"image/*"[31m
                [33mdata-testid[31m=[32m"photo-input"[31m
                [33mmultiple[31m=[32m""[31m
                [33mtype[31m=[32m"file"[31m
              [36m/>[31m
              [36m<div>[31m
                [0mMax photos: [0m
                [0m4[0m
              [36m</div>[31m
            [36m</div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
            [36m>[31m
              [0mUpload [0m
              [0m2[0m
              [0m to [0m
              [0m4[0m
              [0m photos. Max 5MB per photo. JPEG, PNG, or WebP format.[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
              [33mfor[31m=[32m"notes"[31m
            [36m>[31m
              [0mProgress Notes[0m
              [36m<span[31m
                [33mclass[31m=[32m"text-red-500"[31m
              [36m>[31m
                [0m*[0m
              [36m</span>[31m
            [36m</label>[31m
            [36m<textarea[31m
              [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[100px]"[31m
              [33mid[31m=[32m"notes"[31m
              [33mplaceholder[31m=[32m"Describe your progress, any challenges, and next steps..."[31m
            [36m/>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
            [36m>[31m
              [0mProvide detailed notes about your progress and any relevant information for the customer.[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"[31m
            [33mrole[31m=[32m"alert"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-circle-alert h-4 w-4"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"12"[31m
                [33mcy[31m=[32m"12"[31m
                [33mr[31m=[32m"10"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"12"[31m
                [33mx2[31m=[32m"12"[31m
                [33my1[31m=[32m"8"[31m
                [33my2[31m=[32m"12"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"12"[31m
                [33mx2[31m=[32m"12.01"[31m
                [33my1[31m=[32m"16"[31m
                [33my2[31m=[32m"16"[31m
              [36m/>[31m
            [36m</svg>[31m
            [36m<div[31m
              [33mclass[31m=[32m"text-sm [&_p]:leading-relaxed"[31m
            [36m>[31m
              [36m<ul[31m
                [33mclass[31m=[32m"space-y-1"[31m
              [36m>[31m
                [36m<li>[31m
                  [0m• [0m
                  [0mPlease upload at least 2 photos[0m
                [36m</li>[31m
                [36m<li>[31m
                  [0m• [0m
                  [0mPlease add notes describing your progress[0m
                [36m</li>[31m
                [36m<li>[31m
                  [0m• [0m
                  [0mPlease provide more detailed notes (at least 10 characters)[0m
                [36m</li>[31m
              [36m</ul>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<button[31m
            [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8 w-full"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-camera h-4 w-4 mr-2"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
              [36m/>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"12"[31m
                [33mcy[31m=[32m"13"[31m
                [33mr[31m=[32m"3"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mSubmit Milestone[0m
          [36m</button>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m TailorMilestoneSubmission Component[2m > [22mvalidates minimum notes length[33m 351[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: Please provide more detailed notes (at least 10 characters). This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
      [36m>[31m
        [36m<h3[31m
          [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-3"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"p-2 rounded-full text-white bg-orange-500"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-camera h-5 w-5"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"13"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</div>[31m
            [36m<div>[31m
              [36m<h2[31m
                [33mclass[31m=[32m"text-lg font-semibold"[31m
              [36m>[31m
                [0mFabric Cutting in Progress[0m
              [36m</h2>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mDocument the fabric cutting process[0m
              [36m</p>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-2"[31m
          [36m/>[31m
        [36m</h3>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-2"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex justify-between text-sm text-muted-foreground"[31m
          [36m>[31m
            [36m<span>[31m
              [0mMilestone Progress[0m
            [36m</span>[31m
            [36m<span>[31m
              [0m0[0m
              [0m%[0m
            [36m</span>[31m
          [36m</div>[31m
          [36m<div[31m
            [33maria-valuemax[31m=[32m"100"[31m
            [33maria-valuemin[31m=[32m"0"[31m
            [33mclass[31m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[31m
            [33mdata-max[31m=[32m"100"[31m
            [33mdata-state[31m=[32m"indeterminate"[31m
            [33mrole[31m=[32m"progressbar"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"h-full w-full flex-1 bg-primary transition-all"[31m
              [33mdata-max[31m=[32m"100"[31m
              [33mdata-state[31m=[32m"indeterminate"[31m
              [33mstyle[31m=[32m"transform: translateX(-100%);"[31m
            [36m/>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"p-6 pt-0 space-y-6"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-4"[31m
        [36m>[31m
          [36m<div>[31m
            [36m<h3[31m
              [33mclass[31m=[32m"font-medium mb-2"[31m
            [36m>[31m
              [0mInstructions[0m
            [36m</h3>[31m
            [36m<ul[31m
              [33mclass[31m=[32m"space-y-1 text-sm text-muted-foreground"[31m
            [36m>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mTake clear photos of the cutting process[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mShow fabric laid out with pattern pieces[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mEnsure all pieces are cut accurately[0m
                [36m</span>[31m
              [36m</li>[31m
            [36m</ul>[31m
          [36m</div>[31m
          [36m<div>[31m
            [36m<h3[31m
              [33mclass[31m=[32m"font-medium mb-2"[31m
            [36m>[31m
              [0mPhoto Requirements[0m
            [36m</h3>[31m
            [36m<ul[31m
              [33mclass[31m=[32m"space-y-1 text-sm text-muted-foreground"[31m
            [36m>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mClear photo of fabric layout with patterns[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mCut pieces arranged and labeled[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mAny special cutting techniques used[0m
                [36m</span>[31m
              [36m</li>[31m
            [36m</ul>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
            [36m>[31m
              [0mPhotos ([0m
              [0m2[0m
              [0m required)[0m
              [36m<span[31m
                [33mclass[31m=[32m"text-red-500"[31m
              [36m>[31m
                [0m*[0m
              [36m</span>[31m
            [36m</label>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"photo-upload"[31m
            [36m>[31m
              [36m<input[31m
                [33maccept[31m=[32m"image/*"[31m
                [33mdata-testid[31m=[32m"photo-input"[31m
                [33mmultiple[31m=[32m""[31m
                [33mtype[31m=[32m"file"[31m
              [36m/>[31m
              [36m<div>[31m
                [0mMax photos: [0m
                [0m4[0m
              [36m</div>[31m
            [36m</div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
            [36m>[31m
              [0mUpload [0m
              [0m2[0m
              [0m to [0m
              [0m4[0m
              [0m photos. Max 5MB per photo. JPEG, PNG, or WebP format.[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
              [33mfor[31m=[32m"notes"[31m
            [36m>[31m
              [0mProgress Notes[0m
              [36m<span[31m
                [33mclass[31m=[32m"text-red-500"[31m
              [36m>[31m
                [0m*[0m
              [36m</span>[31m
            [36m</label>[31m
            [36m<textarea[31m
              [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[100px]"[31m
              [33mid[31m=[32m"notes"[31m
              [33mplaceholder[31m=[32m"Describe your progress, any challenges, and next steps..."[31m
            [36m>[31m
              [0mShort[0m
            [36m</textarea>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
            [36m>[31m
              [0mProvide detailed notes about your progress and any relevant information for the customer.[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"[31m
            [33mrole[31m=[32m"alert"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-circle-alert h-4 w-4"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"12"[31m
                [33mcy[31m=[32m"12"[31m
                [33mr[31m=[32m"10"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"12"[31m
                [33mx2[31m=[32m"12"[31m
                [33my1[31m=[32m"8"[31m
                [33my2[31m=[32m"12"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"12"[31m
                [33mx2[31m=[32m"12.01"[31m
                [33my1[31m=[32m"16"[31m
                [33my2[31m=[32m"16"[31m
              [36m/>[31m
            [36m</svg>[31m
            [36m<div[31m
              [33mclass[31m=[32m"text-sm [&_p]:leading-relaxed"[31m
            [36m>[31m
              [36m<ul[31m
                [33mclass[31m=[32m"space-y-1"[31m
              [36m>[31m
                [36m<li>[31m
                  [0m• [0m
                  [0mPlease upload at least 2 photos[0m
                [36m</li>[31m
                [36m<li>[31m
                  [0m• [0m
                  [0mPlease provide more detailed notes (at least 10 characters)[0m
                [36m</li>[31m
              [36m</ul>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<button[31m
            [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8 w-full"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-camera h-4 w-4 mr-2"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
              [36m/>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"12"[31m
                [33mcy[31m=[32m"13"[31m
                [33mr[31m=[32m"3"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mSubmit Milestone[0m
          [36m</button>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m TailorMilestoneSubmission Component[2m > [22mvalidates maximum number of photos[33m 1142[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: Please upload no more than 4 photos. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
      [36m>[31m
        [36m<h3[31m
          [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-3"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"p-2 rounded-full text-white bg-orange-500"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-camera h-5 w-5"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"13"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</div>[31m
            [36m<div>[31m
              [36m<h2[31m
                [33mclass[31m=[32m"text-lg font-semibold"[31m
              [36m>[31m
                [0mFabric Cutting in Progress[0m
              [36m</h2>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mDocument the fabric cutting process[0m
              [36m</p>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-2"[31m
          [36m/>[31m
        [36m</h3>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-2"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex justify-between text-sm text-muted-foreground"[31m
          [36m>[31m
            [36m<span>[31m
              [0mMilestone Progress[0m
            [36m</span>[31m
            [36m<span>[31m
              [0m0[0m
              [0m%[0m
            [36m</span>[31m
          [36m</div>[31m
          [36m<div[31m
            [33maria-valuemax[31m=[32m"100"[31m
            [33maria-valuemin[31m=[32m"0"[31m
            [33mclass[31m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[31m
            [33mdata-max[31m=[32m"100"[31m
            [33mdata-state[31m=[32m"indeterminate"[31m
            [33mrole[31m=[32m"progressbar"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"h-full w-full flex-1 bg-primary transition-all"[31m
              [33mdata-max[31m=[32m"100"[31m
              [33mdata-state[31m=[32m"indeterminate"[31m
              [33mstyle[31m=[32m"transform: translateX(-100%);"[31m
            [36m/>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"p-6 pt-0 space-y-6"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-4"[31m
        [36m>[31m
          [36m<div>[31m
            [36m<h3[31m
              [33mclass[31m=[32m"font-medium mb-2"[31m
            [36m>[31m
              [0mInstructions[0m
            [36m</h3>[31m
            [36m<ul[31m
              [33mclass[31m=[32m"space-y-1 text-sm text-muted-foreground"[31m
            [36m>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mTake clear photos of the cutting process[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mShow fabric laid out with pattern pieces[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mEnsure all pieces are cut accurately[0m
                [36m</span>[31m
              [36m</li>[31m
            [36m</ul>[31m
          [36m</div>[31m
          [36m<div>[31m
            [36m<h3[31m
              [33mclass[31m=[32m"font-medium mb-2"[31m
            [36m>[31m
              [0mPhoto Requirements[0m
            [36m</h3>[31m
            [36m<ul[31m
              [33mclass[31m=[32m"space-y-1 text-sm text-muted-foreground"[31m
            [36m>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mClear photo of fabric layout with patterns[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mCut pieces arranged and labeled[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mAny special cutting techniques used[0m
                [36m</span>[31m
              [36m</li>[31m
            [36m</ul>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
            [36m>[31m
              [0mPhotos ([0m
              [0m2[0m
              [0m required)[0m
              [36m<span[31m
                [33mclass[31m=[32m"text-red-500"[31m
              [36m>[31m
                [0m*[0m
              [36m</span>[31m
            [36m</label>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"photo-upload"[31m
            [36m>[31m
              [36m<input[31m
                [33maccept[31m=[32m"image/*"[31m
                [33mdata-testid[31m=[32m"photo-input"[31m
                [33mmultiple[31m=[32m""[31m
                [33mtype[31m=[32m"file"[31m
              [36m/>[31m
              [36m<div>[31m
                [0mMax photos: [0m
                [0m4[0m
              [36m</div>[31m
            [36m</div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
            [36m>[31m
              [0mUpload [0m
              [0m2[0m
              [0m to [0m
              [0m4[0m
              [0m photos. Max 5MB per photo. JPEG, PNG, or WebP format.[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
              [33mfor[31m=[32m"notes"[31m
            [36m>[31m
              [0mProgress Notes[0m
              [36m<span[31m
                [33mclass[31m=[32m"text-red-500"[31m
              [36m>[31m
                [0m*[0m
              [36m</span>[31m
            [36m</label>[31m
            [36m<textarea[31m
              [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[100px]"[31m
              [33mid[31m=[32m"notes"[31m
              [33mplaceholder[31m=[32m"Describe your progress, any challenges, and next steps..."[31m
            [36m>[31m
              [0mDetailed progress notes[0m
            [36m</textarea>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
            [36m>[31m
              [0mProvide detailed notes about your progress and any relevant information for the customer.[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"[31m
            [33mrole[31m=[32m"alert"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-circle-alert h-4 w-4"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"12"[31m
                [33mcy[31m=[32m"12"[31m
                [33mr[31m=[32m"10"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"12"[31m
                [33mx2[31m=[32m"12"[31m
                [33my1[31m=[32m"8"[31m
                [33my2[31m=[32m"12"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"12"[31m
                [33mx2[31m=[32m"12.01"[31m
                [33my1[31m=[32m"16"[31m
                [33my2[31m=[32m"16"[31m
              [36m/>[31m
            [36m</svg>[31m
            [36m<div[31m
              [33mclass[31m=[32m"text-sm [&_p]:leading-relaxed"[31m
            [36m>[31m
              [36m<ul[31m
                [33mclass[31m=[32m"space-y-1"[31m
              [36m>[31m
                [36m<li>[31m
                  [0m• [0m
                  [0mPlease upload no more than 4 photos[0m
                [36m</li>[31m
              [36m</ul>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<button[31m
            [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8 w-full"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-camera h-4 w-4 mr-2"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
              [36m/>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"12"[31m
                [33mcy[31m=[32m"13"[31m
                [33mr[31m=[32m"3"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mSubmit Milestone[0m
          [36m</button>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
   [33m[2m✓[22m[39m TailorMilestoneSubmission Component[2m > [22msuccessfully submits milestone with valid data [33m2120[2mms[22m[39m
   [33m[2m✓[22m[39m TailorMilestoneSubmission Component[2m > [22mshows loading state during submission [33m606[2mms[22m[39m
[31m   [31m×[31m TailorMilestoneSubmission Component[2m > [22mdisplays approved status correctly[90m 46[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: Approved by customer!. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
      [36m>[31m
        [36m<h3[31m
          [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-3"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"p-2 rounded-full text-white bg-orange-500"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-camera h-5 w-5"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"13"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</div>[31m
            [36m<div>[31m
              [36m<h2[31m
                [33mclass[31m=[32m"text-lg font-semibold"[31m
              [36m>[31m
                [0mFabric Cutting in Progress[0m
              [36m</h2>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mDocument the fabric cutting process[0m
              [36m</p>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-2"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-primary-foreground hover:bg-primary/80 bg-green-500"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-circle-check-big h-3 w-3 mr-1"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"m9 11 3 3L22 4"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mApproved[0m
            [36m</div>[31m
          [36m</div>[31m
        [36m</h3>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-2"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex justify-between text-sm text-muted-foreground"[31m
          [36m>[31m
            [36m<span>[31m
              [0mMilestone Progress[0m
            [36m</span>[31m
            [36m<span>[31m
              [0m100[0m
              [0m%[0m
            [36m</span>[31m
          [36m</div>[31m
          [36m<div[31m
            [33maria-valuemax[31m=[32m"100"[31m
            [33maria-valuemin[31m=[32m"0"[31m
            [33mclass[31m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[31m
            [33mdata-max[31m=[32m"100"[31m
            [33mdata-state[31m=[32m"indeterminate"[31m
            [33mrole[31m=[32m"progressbar"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"h-full w-full flex-1 bg-primary transition-all"[31m
              [33mdata-max[31m=[32m"100"[31m
              [33mdata-state[31m=[32m"indeterminate"[31m
              [33mstyle[31m=[32m"transform: translateX(-0%);"[31m
            [36m/>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"p-6 pt-0 space-y-6"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-4"[31m
        [36m>[31m
          [36m<div>[31m
            [36m<h3[31m
              [33mclass[31m=[32m"font-medium mb-2"[31m
            [36m>[31m
              [0mInstructions[0m
            [36m</h3>[31m
            [36m<ul[31m
              [33mclass[31m=[32m"space-y-1 text-sm text-muted-foreground"[31m
            [36m>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mTake clear photos of the cutting process[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mShow fabric laid out with pattern pieces[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mEnsure all pieces are cut accurately[0m
                [36m</span>[31m
              [36m</li>[31m
            [36m</ul>[31m
          [36m</div>[31m
          [36m<div>[31m
            [36m<h3[31m
              [33mclass[31m=[32m"font-medium mb-2"[31m
            [36m>[31m
              [0mPhoto Requirements[0m
            [36m</h3>[31m
            [36m<ul[31m
              [33mclass[31m=[32m"space-y-1 text-sm text-muted-foreground"[31m
            [36m>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mClear photo of fabric layout with patterns[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mCut pieces arranged and labeled[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mAny special cutting techniques used[0m
                [36m</span>[31m
              [36m</li>[31m
            [36m</ul>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground bg-background text-foreground"[31m
          [33mrole[31m=[32m"alert"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-circle-check-big h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m9 11 3 3L22 4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div[31m
            [33mclass[31m=[32m"text-sm [&_p]:leading-relaxed"[31m
          [36m>[31m
            [0mMilestone submitted on [0m
            [0m10/15/2025, 9:04:44 PM[0m
            [0m.[0m
            [0m Approved by customer![0m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m TailorMilestoneSubmission Component[2m > [22mhandles submission errors gracefully[33m 1601[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: Failed to submit milestone. Please try again.. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
      [36m>[31m
        [36m<h3[31m
          [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-3"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"p-2 rounded-full text-white bg-orange-500"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-camera h-5 w-5"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"13"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</div>[31m
            [36m<div>[31m
              [36m<h2[31m
                [33mclass[31m=[32m"text-lg font-semibold"[31m
              [36m>[31m
                [0mFabric Cutting in Progress[0m
              [36m</h2>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mDocument the fabric cutting process[0m
              [36m</p>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-2"[31m
          [36m/>[31m
        [36m</h3>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-2"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex justify-between text-sm text-muted-foreground"[31m
          [36m>[31m
            [36m<span>[31m
              [0mMilestone Progress[0m
            [36m</span>[31m
            [36m<span>[31m
              [0m0[0m
              [0m%[0m
            [36m</span>[31m
          [36m</div>[31m
          [36m<div[31m
            [33maria-valuemax[31m=[32m"100"[31m
            [33maria-valuemin[31m=[32m"0"[31m
            [33mclass[31m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[31m
            [33mdata-max[31m=[32m"100"[31m
            [33mdata-state[31m=[32m"indeterminate"[31m
            [33mrole[31m=[32m"progressbar"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"h-full w-full flex-1 bg-primary transition-all"[31m
              [33mdata-max[31m=[32m"100"[31m
              [33mdata-state[31m=[32m"indeterminate"[31m
              [33mstyle[31m=[32m"transform: translateX(-100%);"[31m
            [36m/>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"p-6 pt-0 space-y-6"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-4"[31m
        [36m>[31m
          [36m<div>[31m
            [36m<h3[31m
              [33mclass[31m=[32m"font-medium mb-2"[31m
            [36m>[31m
              [0mInstructions[0m
            [36m</h3>[31m
            [36m<ul[31m
              [33mclass[31m=[32m"space-y-1 text-sm text-muted-foreground"[31m
            [36m>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mTake clear photos of the cutting process[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mShow fabric laid out with pattern pieces[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-muted-foreground"[31m
                [36m>[31m
                  [0m•[0m
                [36m</span>[31m
                [36m<span>[31m
                  [0mEnsure all pieces are cut accurately[0m
                [36m</span>[31m
              [36m</li>[31m
            [36m</ul>[31m
          [36m</div>[31m
          [36m<div>[31m
            [36m<h3[31m
              [33mclass[31m=[32m"font-medium mb-2"[31m
            [36m>[31m
              [0mPhoto Requirements[0m
            [36m</h3>[31m
            [36m<ul[31m
              [33mclass[31m=[32m"space-y-1 text-sm text-muted-foreground"[31m
            [36m>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mClear photo of fabric layout with patterns[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mCut pieces arranged and labeled[0m
                [36m</span>[31m
              [36m</li>[31m
              [36m<li[31m
                [33mclass[31m=[32m"flex items-start gap-2"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"10"[31m
                    [33mcy[31m=[32m"12"[31m
                    [33mr[31m=[32m"2"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span>[31m
                  [0mAny special cutting techniques used[0m
                [36m</span>[31m
              [36m</li>[31m
            [36m</ul>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
            [36m>[31m
              [0mPhotos ([0m
              [0m2[0m
              [0m required)[0m
              [36m<span[31m
                [33mclass[31m=[32m"text-red-500"[31m
              [36m>[31m
                [0m*[0m
              [36m</span>[31m
            [36m</label>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"photo-upload"[31m
            [36m>[31m
              [36m<input[31m
                [33maccept[31m=[32m"image/*"[31m
                [33mdata-testid[31m=[32m"photo-input"[31m
                [33mmultiple[31m=[32m""[31m
                [33mtype[31m=[32m"file"[31m
              [36m/>[31m
              [36m<div>[31m
                [0mMax photos: [0m
                [0m4[0m
              [36m</div>[31m
            [36m</div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
            [36m>[31m
              [0mUpload [0m
              [0m2[0m
              [0m to [0m
              [0m4[0m
              [0m photos. Max 5MB per photo. JPEG, PNG, or WebP format.[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
              [33mfor[31m=[32m"notes"[31m
            [36m>[31m
              [0mProgress Notes[0m
              [36m<span[31m
                [33mclass[31m=[32m"text-red-500"[31m
              [36m>[31m
                [0m*[0m
              [36m</span>[31m
            [36m</label>[31m
            [36m<textarea[31m
              [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[100px]"[31m
              [33mid[31m=[32m"notes"[31m
              [33mplaceholder[31m=[32m"Describe your progress, any challenges, and next steps..."[31m
            [36m>[31m
              [0mValid notes[0m
            [36m</textarea>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
            [36m>[31m
              [0mProvide detailed notes about your progress and any relevant information for the customer.[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"[31m
            [33mrole[31m=[32m"alert"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-circle-alert h-4 w-4"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"12"[31m
                [33mcy[31m=[32m"12"[31m
                [33mr[31m=[32m"10"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"12"[31m
                [33mx2[31m=[32m"12"[31m
                [33my1[31m=[32m"8"[31m
                [33my2[31m=[32m"12"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"12"[31m
                [33mx2[31m=[32m"12.01"[31m
                [33my1[31m=[32m"16"[31m
                [33my2[31m=[32m"16"[31m
              [36m/>[31m
            [36m</svg>[31m
            [36m<div[31m
              [33mclass[31m=[32m"text-sm [&_p]:leading-relaxed"[31m
            [36m>[31m
              [36m<ul[31m
                [33mclass[31m=[32m"space-y-1"[31m
              [36m>[31m
                [36m<li>[31m
                  [0m• [0m
                  [0mFailed to submit milestone. Please try again.[0m
                [36m</li>[31m
              [36m</ul>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<button[31m
            [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8 w-full"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-camera h-4 w-4 mr-2"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
              [36m/>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"12"[31m
                [33mcy[31m=[32m"13"[31m
                [33mr[31m=[32m"3"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mSubmit Milestone[0m
          [36m</button>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"p-2 rounded-full text-white bg-orange-500"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-camera h-5 w-5"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"12"[31m
                    [33mcy[31m=[32m"13"[31m
                    [33mr[31m=[32m"3"[31m
                  [36m/>[31m
                [36m</svg>[31m
              [36m</div>[31m
              [36m<div>[31m
                [36m<h2[31m
                  [33mclass[31m=[32m"text-lg font-semibold"[31m
                [36m>[31m
                  [0mFabric Cutting in Progress[0m
                [36m</h2>[31m
                [36m<p[31m
                  [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
                [36m>[31m
                  [0mDocument the fabric cutting process[0m
                [36m</p>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-2"[31m
            [36m/>[31m
          [36m</h3>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex justify-between text-sm text-muted-foreground"[31m
            [36m>[31m
              [36m<span>[31m
                [0mMilestone Progress[0m
              [36m</span>[31m
              [36m<span>[31m
                [0m0[0m
                [0m%[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<div[31m
              [33maria-valuemax[31m=[32m"100"[31m
              [33maria-valuemin[31m=[32m"0"[31m
              [33mclass[31m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[31m
              [33mdata-max[31m=[32m"100"[31m
              [33mdata-state[31m=[32m"indeterminate"[31m
              [33mrole[31m=[32m"progressbar"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"h-full w-full flex-1 bg-primary transition-all"[31m
                [33mdata-max[31m=[32m"100"[31m
                [33mdata-state[31m=[32m"indeterminate"[31m
                [33mstyle[31m=[32m"transform: translateX(-100%);"[31m
              [36m/>[31m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-6 pt-0 space-y-6"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-4"[31m
          [36m>[31m
            [36m<div>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"font-medium mb-2"[31m
              [36m>[31m
                [0mInstructions[0m
              [36m</h3>[31m
              [36m<ul[31m
                [33mclass[31m=[32m"space-y-1 text-sm text-muted-foreground"[31m
              [36m>[31m
                [36m<li[31m
                  [33mclass[31m=[32m"flex items-start gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-muted-foreground"[31m
                  [36m>[31m
                    [0m•[0m
                  [36m</span>[31m
                  [36m<span>[31m
                    [0mTake clear photos of the cutting process[0m
                  [36m</span>[31m
                [36m</li>[31m
                [36m<li[31m
                  [33mclass[31m=[32m"flex items-start gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-muted-foreground"[31m
                  [36m>[31m
                    [0m•[0m
                  [36m</span>[31m
                  [36m<span>[31m
                    [0mShow fabric laid out with pattern pieces[0m
                  [36m</span>[31m
                [36m</li>[31m
                [36m<li[31m
                  [33mclass[31m=[32m"flex items-start gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-muted-foreground"[31m
                  [36m>[31m
                    [0m•[0m
                  [36m</span>[31m
                  [36m<span>[31m
                    [0mEnsure all pieces are cut accurately[0m
                  [36m</span>[31m
                [36m</li>[31m
              [36m</ul>[31m
            [36m</div>[31m
            [36m<div>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"font-medium mb-2"[31m
              [36m>[31m
                [0mPhoto Requirements[0m
              [36m</h3>[31m
              [36m<ul[31m
                [33mclass[31m=[32m"space-y-1 text-sm text-muted-foreground"[31m
              [36m>[31m
                [36m<li[31m
                  [33mclass[31m=[32m"flex items-start gap-2"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                    [36m/>[31m
                    [36m<circle[31m
                      [33mcx[31m=[32m"10"[31m
                      [33mcy[31m=[32m"12"[31m
                      [33mr[31m=[32m"2"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [36m<span>[31m
                    [0mClear photo of fabric layout with patterns[0m
                  [36m</span>[31m
                [36m</li>[31m
                [36m<li[31m
                  [33mclass[31m=[32m"flex items-start gap-2"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                    [36m/>[31m
                    [36m<circle[31m
                      [33mcx[31m=[32m"10"[31m
                      [33mcy[31m=[32m"12"[31m
                      [33mr[31m=[32m"2"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [36m<span>[31m
                    [0mCut pieces arranged and labeled[0m
                  [36m</span>[31m
                [36m</li>[31m
                [36m<li[31m
                  [33mclass[31m=[32m"flex items-start gap-2"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                    [36m/>[31m
                    [36m<circle[31m
                      [33mcx[31m=[32m"10"[31m
                      [33mcy[31m=[32m"12"[31m
                      [33mr[31m=[32m"2"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [36m<span>[31m
                    [0mAny special cutting techniques used[0m
                  [36m</span>[31m
                [36m</li>[31m
              [36m</ul>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-4"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"space-y-2"[31m
            [36m>[31m
              [36m<label[31m
                [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
              [36m>[31m
                [0mPhotos ([0m
                [0m2[0m
                [0m required)[0m
                [36m<span[31m
                  [33mclass[31m=[32m"text-red-500"[31m
                [36m>[31m
                  [0m*[0m
                [36m</span>[31m
              [36m</label>[31m
              [36m<div[31m
                [33mdata-testid[31m=[32m"photo-upload"[31m
              [36m>[31m
                [36m<input[31m
                  [33maccept[31m=[32m"image/*"[31m
                  [33mdata-testid[31m=[32m"photo-input"[31m
                  [33mmultiple[31m=[32m""[31m
                  [33mtype[31m=[32m"file"[31m
                [36m/>[31m
                [36m<div>[31m
                  [0mMax photos: [0m
                  [0m4[0m
                [36m</div>[31m
              [36m</div>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
              [36m>[31m
                [0mUpload [0m
                [0m2[0m
                [0m to [0m
                [0m4[0m
                [0m photos. Max 5MB per photo. JPEG, PNG, or WebP format.[0m
              [36m</p>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"space-y-2"[31m
            [36m>[31m
              [36m<label[31m
                [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
                [33mfor[31m=[32m"notes"[31m
              [36m>[31m
                [0mProgress Notes[0m
                [36m<span[31m
                  [33mclass[31m=[32m"text-red-500"[31m
                [36m>[31m
                  [0m*[0m
                [36m</span>[31m
              [36m</label>[31m
              [36m<textarea[31m
                [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[100px]"[31m
                [33mid[31m=[32m"notes"[31m
                [33mplaceholder[31m=[32m"Describe your progress, any challenges, and next steps..."[31m
              [36m>[31m
                [0mValid notes[0m
              [36m</textarea>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
              [36m>[31m
                [0mProvide detailed notes about your progress and any relevant information for the customer.[0m
              [36m</p>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"[31m
              [33mrole[31m=[32m"alert"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-circle-alert h-4 w-4"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"12"[31m
                  [33mr[31m=[32m"10"[31m
                [36m/>[31m
                [36m<line[31m
                  [33mx1[31m=[32m"12"[31m
                  [33mx2[31m=[32m"12"[31m
                  [33my1[31m=[32m"8"[31m
                  [33my2[31m=[32m"12"[31m
                [36m/>[31m
                [36m<line[31m
                  [33mx1[31m=[32m"12"[31m
                  [33mx2[31m=[32m"12.01"[31m
                  [33my1[31m=[32m"16"[31m
                  [33my2[31m=[32m"16"[31m
                [36m/>[31m
              [36m</svg>[31m
              [36m<div[31m
                [33mclass[31m=[32m"text-sm [&_p]:leading-relaxed"[31m
              [36m>[31m
                [36m<ul[31m
                  [33mclass[31m=[32m"space-y-1"[31m
                [36m>[31m
                  [36m<li>[31m
                    [0m• [0m
                    [0mFailed to submit milestone. Please try again.[0m
                  [36m</li>[31m
                [36m</ul>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8 w-full"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-camera h-4 w-4 mr-2"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"13"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mSubmit Milestone[0m
            [36m</button>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</body>[31m
[36m</html>[31m[39m
[31m   [31m×[31m TailorMilestoneSubmission Component[2m > [22mresets form after successful submission[33m 1548[2mms[22m[31m[39m
[31m     → expected "spy" to be called at least once

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"p-2 rounded-full text-white bg-orange-500"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-camera h-5 w-5"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
                  [36m/>[31m
                  [36m<circle[31m
                    [33mcx[31m=[32m"12"[31m
                    [33mcy[31m=[32m"13"[31m
                    [33mr[31m=[32m"3"[31m
                  [36m/>[31m
                [36m</svg>[31m
              [36m</div>[31m
              [36m<div>[31m
                [36m<h2[31m
                  [33mclass[31m=[32m"text-lg font-semibold"[31m
                [36m>[31m
                  [0mFabric Cutting in Progress[0m
                [36m</h2>[31m
                [36m<p[31m
                  [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
                [36m>[31m
                  [0mDocument the fabric cutting process[0m
                [36m</p>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-2"[31m
            [36m/>[31m
          [36m</h3>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex justify-between text-sm text-muted-foreground"[31m
            [36m>[31m
              [36m<span>[31m
                [0mMilestone Progress[0m
              [36m</span>[31m
              [36m<span>[31m
                [0m0[0m
                [0m%[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<div[31m
              [33maria-valuemax[31m=[32m"100"[31m
              [33maria-valuemin[31m=[32m"0"[31m
              [33mclass[31m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[31m
              [33mdata-max[31m=[32m"100"[31m
              [33mdata-state[31m=[32m"indeterminate"[31m
              [33mrole[31m=[32m"progressbar"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"h-full w-full flex-1 bg-primary transition-all"[31m
                [33mdata-max[31m=[32m"100"[31m
                [33mdata-state[31m=[32m"indeterminate"[31m
                [33mstyle[31m=[32m"transform: translateX(-100%);"[31m
              [36m/>[31m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-6 pt-0 space-y-6"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-4"[31m
          [36m>[31m
            [36m<div>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"font-medium mb-2"[31m
              [36m>[31m
                [0mInstructions[0m
              [36m</h3>[31m
              [36m<ul[31m
                [33mclass[31m=[32m"space-y-1 text-sm text-muted-foreground"[31m
              [36m>[31m
                [36m<li[31m
                  [33mclass[31m=[32m"flex items-start gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-muted-foreground"[31m
                  [36m>[31m
                    [0m•[0m
                  [36m</span>[31m
                  [36m<span>[31m
                    [0mTake clear photos of the cutting process[0m
                  [36m</span>[31m
                [36m</li>[31m
                [36m<li[31m
                  [33mclass[31m=[32m"flex items-start gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-muted-foreground"[31m
                  [36m>[31m
                    [0m•[0m
                  [36m</span>[31m
                  [36m<span>[31m
                    [0mShow fabric laid out with pattern pieces[0m
                  [36m</span>[31m
                [36m</li>[31m
                [36m<li[31m
                  [33mclass[31m=[32m"flex items-start gap-2"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"text-muted-foreground"[31m
                  [36m>[31m
                    [0m•[0m
                  [36m</span>[31m
                  [36m<span>[31m
                    [0mEnsure all pieces are cut accurately[0m
                  [36m</span>[31m
                [36m</li>[31m
              [36m</ul>[31m
            [36m</div>[31m
            [36m<div>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"font-medium mb-2"[31m
              [36m>[31m
                [0mPhoto Requirements[0m
              [36m</h3>[31m
              [36m<ul[31m
                [33mclass[31m=[32m"space-y-1 text-sm text-muted-foreground"[31m
              [36m>[31m
                [36m<li[31m
                  [33mclass[31m=[32m"flex items-start gap-2"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                    [36m/>[31m
                    [36m<circle[31m
                      [33mcx[31m=[32m"10"[31m
                      [33mcy[31m=[32m"12"[31m
                      [33mr[31m=[32m"2"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [36m<span>[31m
                    [0mClear photo of fabric layout with patterns[0m
                  [36m</span>[31m
                [36m</li>[31m
                [36m<li[31m
                  [33mclass[31m=[32m"flex items-start gap-2"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                    [36m/>[31m
                    [36m<circle[31m
                      [33mcx[31m=[32m"10"[31m
                      [33mcy[31m=[32m"12"[31m
                      [33mr[31m=[32m"2"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [36m<span>[31m
                    [0mCut pieces arranged and labeled[0m
                  [36m</span>[31m
                [36m</li>[31m
                [36m<li[31m
                  [33mclass[31m=[32m"flex items-start gap-2"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                    [36m/>[31m
                    [36m<circle[31m
                      [33mcx[31m=[32m"10"[31m
                      [33mcy[31m=[32m"12"[31m
                      [33mr[31m=[32m"2"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [36m<span>[31m
                    [0mAny special cutting techniques used[0m
                  [36m</span>[31m
                [36m</li>[31m
              [36m</ul>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-4"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"space-y-2"[31m
            [36m>[31m
              [36m<label[31m
                [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
              [36m>[31m
                [0mPhotos ([0m
                [0m2[0m
                [0m required)[0m
                [36m<span[31m
                  [33mclass[31m=[32m"text-red-500"[31m
                [36m>[31m
                  [0m*[0m
                [36m</span>[31m
              [36m</label>[31m
              [36m<div[31m
                [33mdata-testid[31m=[32m"photo-upload"[31m
              [36m>[31m
                [36m<input[31m
                  [33maccept[31m=[32m"image/*"[31m
                  [33mdata-testid[31m=[32m"photo-input"[31m
                  [33mmultiple[31m=[32m""[31m
                  [33mtype[31m=[32m"file"[31m
                [36m/>[31m
                [36m<div>[31m
                  [0mMax photos: [0m
                  [0m4[0m
                [36m</div>[31m
              [36m</div>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
              [36m>[31m
                [0mUpload [0m
                [0m2[0m
                [0m to [0m
                [0m4[0m
                [0m photos. Max 5MB per photo. JPEG, PNG, or WebP format.[0m
              [36m</p>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"space-y-2"[31m
            [36m>[31m
              [36m<label[31m
                [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
                [33mfor[31m=[32m"notes"[31m
              [36m>[31m
                [0mProgress Notes[0m
                [36m<span[31m
                  [33mclass[31m=[32m"text-red-500"[31m
                [36m>[31m
                  [0m*[0m
                [36m</span>[31m
              [36m</label>[31m
              [36m<textarea[31m
                [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[100px]"[31m
                [33mid[31m=[32m"notes"[31m
                [33mplaceholder[31m=[32m"Describe your progress, any challenges, and next steps..."[31m
              [36m>[31m
                [0mTest notes[0m
              [36m</textarea>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
              [36m>[31m
                [0mProvide detailed notes about your progress and any relevant information for the customer.[0m
              [36m</p>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"[31m
              [33mrole[31m=[32m"alert"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-circle-alert h-4 w-4"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"12"[31m
                  [33mr[31m=[32m"10"[31m
                [36m/>[31m
                [36m<line[31m
                  [33mx1[31m=[32m"12"[31m
                  [33mx2[31m=[32m"12"[31m
                  [33my1[31m=[32m"8"[31m
                  [33my2[31m=[32m"12"[31m
                [36m/>[31m
                [36m<line[31m
                  [33mx1[31m=[32m"12"[31m
                  [33mx2[31m=[32m"12.01"[31m
                  [33my1[31m=[32m"16"[31m
                  [33my2[31m=[32m"16"[31m
                [36m/>[31m
              [36m</svg>[31m
              [36m<div[31m
                [33mclass[31m=[32m"text-sm [&_p]:leading-relaxed"[31m
              [36m>[31m
                [36m<ul[31m
                  [33mclass[31m=[32m"space-y-1"[31m
                [36m>[31m
                  [36m<li>[31m
                    [0m• [0m
                    [0mPlease upload at least 2 photos[0m
                  [36m</li>[31m
                [36m</ul>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8 w-full"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-camera h-4 w-4 mr-2"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"13"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mSubmit Milestone[0m
            [36m</button>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</body>[31m
[36m</html>[31m[39m
[90mstderr[2m | tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22m[2mOrderChat[2m > [22m[2mMessage Sending[2m > [22m[2mshould send text message
[22m[39mRangeError: Invalid time value
    at Module.format (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/date-fns@4.1.0/node_modules/[4mdate-fns[24m/format.js:350:11)
    at formatDateHeader [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:85:12[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:429:27
    at Array.forEach (<anonymous>)
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:428:14
    at updateMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6621:19)
    at Object.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23182:18)
    at Object.process.env.NODE_ENV.exports.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react@19.1.0\node_modules\[4mreact[24m\cjs\react.development.js:1209:34)
    at MessageList [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:414:33[90m)[39m
    at Object.react-stack-bottom-frame (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23863:20)
An error occurred in the <MessageList> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


[90mstderr[2m | tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22m[2mOrderChat[2m > [22m[2mExternal Actions[2m > [22m[2mshould handle WhatsApp redirect
[22m[39mRangeError: Invalid time value
    at Module.format (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/date-fns@4.1.0/node_modules/[4mdate-fns[24m/format.js:350:11)
    at formatDateHeader [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:85:12[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:429:27
    at Array.forEach (<anonymous>)
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:428:14
    at updateMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6621:19)
    at Object.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23182:18)
    at Object.process.env.NODE_ENV.exports.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react@19.1.0\node_modules\[4mreact[24m\cjs\react.development.js:1209:34)
    at MessageList [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:414:33[90m)[39m
    at Object.react-stack-bottom-frame (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23863:20)
An error occurred in the <MessageList> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


[90mstderr[2m | tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22m[2mOrderChat[2m > [22m[2mExternal Actions[2m > [22m[2mshould handle call tailor
[22m[39mRangeError: Invalid time value
    at Module.format (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/date-fns@4.1.0/node_modules/[4mdate-fns[24m/format.js:350:11)
    at formatDateHeader [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:85:12[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:429:27
    at Array.forEach (<anonymous>)
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:428:14
    at updateMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6621:19)
    at Object.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23182:18)
    at Object.process.env.NODE_ENV.exports.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react@19.1.0\node_modules\[4mreact[24m\cjs\react.development.js:1209:34)
    at MessageList [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:414:33[90m)[39m
    at Object.react-stack-bottom-frame (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23863:20)
An error occurred in the <MessageList> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


[90mstderr[2m | tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22m[2mOrderChat[2m > [22m[2mExternal Actions[2m > [22m[2mshould handle collapse toggle
[22m[39mRangeError: Invalid time value
    at Module.format (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/date-fns@4.1.0/node_modules/[4mdate-fns[24m/format.js:350:11)
    at formatDateHeader [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:85:12[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:429:27
    at Array.forEach (<anonymous>)
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:428:14
    at updateMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6621:19)
    at Object.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23182:18)
    at Object.process.env.NODE_ENV.exports.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react@19.1.0\node_modules\[4mreact[24m\cjs\react.development.js:1209:34)
    at MessageList [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:414:33[90m)[39m
    at Object.react-stack-bottom-frame (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23863:20)
An error occurred in the <MessageList> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


[90mstderr[2m | tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22m[2mOrderChat[2m > [22m[2mError Handling[2m > [22m[2mshould display connection error
[22m[39mRangeError: Invalid time value
    at Module.format (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/date-fns@4.1.0/node_modules/[4mdate-fns[24m/format.js:350:11)
    at formatDateHeader [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:85:12[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:429:27
    at Array.forEach (<anonymous>)
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:428:14
    at updateMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6621:19)
    at Object.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23182:18)
    at Object.process.env.NODE_ENV.exports.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react@19.1.0\node_modules\[4mreact[24m\cjs\react.development.js:1209:34)
    at MessageList [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:414:33[90m)[39m
    at Object.react-stack-bottom-frame (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23863:20)
An error occurred in the <MessageList> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


[90mstderr[2m | tests/unit/api/admin/disputes/analytics.test.ts[2m > [22m[2mDispute Analytics API[2m > [22m[2mshould return comprehensive analytics data
[22m[39mAnalytics API error: Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at throwForMissingRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:273:9)
    at getExpectedRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:240:5)
    at Proxy.cookies (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\request\cookies.ts:132:47)
    at Module.createClient [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:9:29[90m)[39m
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\admin\disputes\analytics\route.ts:118:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\admin\disputes\analytics.test.ts:138:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)

[90mstderr[2m | tests/unit/api/admin/disputes/analytics.test.ts[2m > [22m[2mDispute Analytics API[2m > [22m[2mshould handle date range parameters
[22m[39mAnalytics API error: Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at throwForMissingRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:273:9)
    at getExpectedRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:240:5)
    at Proxy.cookies (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\request\cookies.ts:132:47)
    at Module.createClient [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:9:29[90m)[39m
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\admin\disputes\analytics\route.ts:118:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\admin\disputes\analytics.test.ts:206:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)

[90mstderr[2m | tests/unit/api/admin/disputes/analytics.test.ts[2m > [22m[2mDispute Analytics API[2m > [22m[2mshould respect includePatterns parameter
[22m[39mAnalytics API error: Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at throwForMissingRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:273:9)
    at getExpectedRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:240:5)
    at Proxy.cookies (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\request\cookies.ts:132:47)
    at Module.createClient [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:9:29[90m)[39m
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\admin\disputes\analytics\route.ts:118:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\admin\disputes\analytics.test.ts:263:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)

[90mstderr[2m | tests/unit/api/admin/disputes/analytics.test.ts[2m > [22m[2mDispute Analytics API[2m > [22m[2mshould return 401 for unauthenticated user
[22m[39mAnalytics API error: Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at throwForMissingRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:273:9)
    at getExpectedRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:240:5)
    at Proxy.cookies (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\request\cookies.ts:132:47)
    at Module.createClient [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:9:29[90m)[39m
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\admin\disputes\analytics\route.ts:118:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\admin\disputes\analytics.test.ts:279:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)

[90mstderr[2m | tests/unit/api/admin/disputes/analytics.test.ts[2m > [22m[2mDispute Analytics API[2m > [22m[2mshould return 403 for non-admin user
[22m[39mAnalytics API error: Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at throwForMissingRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:273:9)
    at getExpectedRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:240:5)
    at Proxy.cookies (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\request\cookies.ts:132:47)
    at Module.createClient [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:9:29[90m)[39m
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\admin\disputes\analytics\route.ts:118:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\admin\disputes\analytics.test.ts:309:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)

[90mstderr[2m | tests/unit/api/admin/disputes/analytics.test.ts[2m > [22m[2mDispute Analytics API[2m > [22m[2mshould return 400 for invalid query parameters
[22m[39mAnalytics API error: Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at throwForMissingRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:273:9)
    at getExpectedRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:240:5)
    at Proxy.cookies (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\request\cookies.ts:132:47)
    at Module.createClient [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:9:29[90m)[39m
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\admin\disputes\analytics\route.ts:118:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\admin\disputes\analytics.test.ts:321:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)

[90mstderr[2m | tests/unit/api/admin/disputes/analytics.test.ts[2m > [22m[2mDispute Analytics API[2m > [22m[2mshould handle empty analytics data gracefully
[22m[39mAnalytics API error: Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at throwForMissingRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:273:9)
    at getExpectedRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:240:5)
    at Proxy.cookies (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\request\cookies.ts:132:47)
    at Module.createClient [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:9:29[90m)[39m
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\admin\disputes\analytics\route.ts:118:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\admin\disputes\analytics.test.ts:367:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)

[90mstderr[2m | tests/unit/api/admin/disputes/analytics.test.ts[2m > [22m[2mDispute Analytics API[2m > [22m[2mshould calculate category percentages correctly
[22m[39mAnalytics API error: Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at throwForMissingRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:273:9)
    at getExpectedRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:240:5)
    at Proxy.cookies (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\request\cookies.ts:132:47)
    at Module.createClient [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:9:29[90m)[39m
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\admin\disputes\analytics\route.ts:118:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\admin\disputes\analytics.test.ts:418:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)

 [31m❯[39m tests/unit/api/admin/disputes/analytics.test.ts [2m([22m[2m8 tests[22m[2m | [22m[31m8 failed[39m[2m)[22m[90m 168[2mms[22m[39m
[31m   [31m×[31m Dispute Analytics API[2m > [22mshould return comprehensive analytics data[90m 106[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m Dispute Analytics API[2m > [22mshould handle date range parameters[90m 11[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m Dispute Analytics API[2m > [22mshould respect includePatterns parameter[90m 19[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m Dispute Analytics API[2m > [22mshould return 401 for unauthenticated user[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 401 // Object.is equality[39m
[31m   [31m×[31m Dispute Analytics API[2m > [22mshould return 403 for non-admin user[90m 8[2mms[22m[31m[39m
[31m     → expected 500 to be 403 // Object.is equality[39m
[31m   [31m×[31m Dispute Analytics API[2m > [22mshould return 400 for invalid query parameters[90m 2[2mms[22m[31m[39m
[31m     → expected 500 to be 400 // Object.is equality[39m
[31m   [31m×[31m Dispute Analytics API[2m > [22mshould handle empty analytics data gracefully[90m 4[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m Dispute Analytics API[2m > [22mshould calculate category percentages correctly[90m 7[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[90mstderr[2m | tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22m[2mOrderChat[2m > [22m[2mError Handling[2m > [22m[2mshould show disconnected state
[22m[39mRangeError: Invalid time value
    at Module.format (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/date-fns@4.1.0/node_modules/[4mdate-fns[24m/format.js:350:11)
    at formatDateHeader [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:85:12[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:429:27
    at Array.forEach (<anonymous>)
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:428:14
    at updateMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6621:19)
    at Object.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23182:18)
    at Object.process.env.NODE_ENV.exports.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react@19.1.0\node_modules\[4mreact[24m\cjs\react.development.js:1209:34)
    at MessageList [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:414:33[90m)[39m
    at Object.react-stack-bottom-frame (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23863:20)
An error occurred in the <MessageList> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


[90mstdout[2m | tests/unit/utils/roles.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔄 add secrets lifecycle management: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/api/orders/create.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com

 [31m❯[39m tests/unit/api/orders/create.test.ts [2m([22m[2m0 test[22m[2m)[22m
[90mstderr[2m | tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22m[2mOrderChat[2m > [22m[2mConfiguration[2m > [22m[2mshould respect max message length
[22m[39mRangeError: Invalid time value
    at Module.format (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/date-fns@4.1.0/node_modules/[4mdate-fns[24m/format.js:350:11)
    at formatDateHeader [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:85:12[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:429:27
    at Array.forEach (<anonymous>)
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:428:14
    at updateMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6621:19)
    at Object.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23182:18)
    at Object.process.env.NODE_ENV.exports.useMemo (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react@19.1.0\node_modules\[4mreact[24m\cjs\react.development.js:1209:34)
    at MessageList [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\orders\MessageList.tsx:414:33[90m)[39m
    at Object.react-stack-bottom-frame (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\react-dom@19.1.0_react@19.1.0\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:23863:20)
An error occurred in the <MessageList> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


[90mstderr[2m | tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22m[2mOrderChat[2m > [22m[2mConfiguration[2m > [22m[2mshould disable features based on config
[22m[39mAn update to OrderChat inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OrderChat inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OrderChat inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [31m❯[39m tests/unit/utils/roles.test.ts [2m([22m[2m36 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[90m 90[2mms[22m[39m
[31m   [31m×[31m Role Utilities[2m > [22mcanAccessRoute[2m > [22mshould prevent tailor from accessing customer-only routes[90m 30[2mms[22m[31m[39m
[31m     → expected true to be false // Object.is equality[39m
[31m   [31m×[31m Role Utilities[2m > [22mgetUnauthorizedRoutes[2m > [22mshould return correct unauthorized routes for tailor[90m 12[2mms[22m[31m[39m
[31m     → expected [ '/orders/new', '/tailors', …(11) ] to include '/orders'[39m
[31m   [31m×[31m Role Utilities[2m > [22mgetUnauthorizedRoutes[2m > [22mshould return correct unauthorized routes for admin[90m 2[2mms[22m[31m[39m
[31m     → expected [ '/orders/new', '/tailors', …(6) ] to include '/orders'[39m
 [31m❯[39m tests/unit/components/features/orders/OrderChat.test.tsx [2m([22m[2m18 tests[22m[2m | [22m[31m11 failed[39m[2m)[22m[33m 5537[2mms[22m[39m
[31m   [31m×[31m OrderChat[2m > [22mRendering[2m > [22mshould load and display messages[33m 1076[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: Hello! I've started working on your dress.. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div />[31m
  [36m</body>[31m
[36m</html>[31m[39m
[31m   [31m×[31m OrderChat[2m > [22mWebSocket Connection[2m > [22mshould handle WebSocket message events[33m 1090[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: New message. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div />[31m
  [36m</body>[31m
[36m</html>[31m[39m
[31m   [31m×[31m OrderChat[2m > [22mMessage Sending[2m > [22mshould send text message[90m 102[2mms[22m[31m[39m
[31m     → Unable to find an element with the placeholder text of: Type your message...

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m[39m
[31m   [31m×[31m OrderChat[2m > [22mMessage Sending[2m > [22mshould handle send message API call[90m 76[2mms[22m[31m[39m
[31m     → Unable to find an element with the placeholder text of: Type your message...

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-80 h-96 flex flex-col"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6 pb-3"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center justify-between"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-3"[31m
          [36m>[31m
            [36m<span[31m
              [33mclass[31m=[32m"relative flex shrink-0 overflow-hidden rounded-full h-10 w-10"[31m
            [36m>[31m
              [36m<span[31m
                [33mclass[31m=[32m"flex h-full w-full items-center justify-center rounded-full bg-muted"[31m
              [36m>[31m
                [0mJO[0m
              [36m</span>[31m
            [36m</span>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-1 min-w-0"[31m
            [36m>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"tracking-tight text-base font-semibold truncate"[31m
              [36m>[31m
                [0mJohn Doe[0m
              [36m</h3>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center gap-2 mt-1"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"w-2 h-2 rounded-full bg-green-500"[31m
                [36m/>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-xs text-gray-600"[31m
                [36m>[31m
                  [0mOnline now[0m
                [36m</span>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-1"[31m
          [36m>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
              [33mtitle[31m=[32m"Call tailor"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-phone h-4 w-4"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</button>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0 text-green-600"[31m
              [33mtitle[31m=[32m"Continue on WhatsApp"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-message-square h-4 w-4"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</button>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
              [33mtitle[31m=[32m"Collapse chat"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-x h-4 w-4"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M18 6 6 18"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"m6 6 12 12"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</button>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"shrink-0 bg-border h-[1px] w-full"[31m
        [33mdata-orientation[31m=[32m"horizontal"[31m
        [33mrole[31m=[32m"none"[31m
      [36m/>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex-1 flex flex-col p-0 min-h-0"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center justify-center p-4 flex-1"[31m
        [36m>[31m
          [36m<div[31m
            ...[39m
[31m   [31m×[31m OrderChat[2m > [22mMessage Sending[2m > [22mshould call onMessageSent callback[90m 113[2mms[22m[31m[39m
[31m     → Unable to find an element with the placeholder text of: Type your message...

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-80 h-96 flex flex-col"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6 pb-3"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center justify-between"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-3"[31m
          [36m>[31m
            [36m<span[31m
              [33mclass[31m=[32m"relative flex shrink-0 overflow-hidden rounded-full h-10 w-10"[31m
            [36m>[31m
              [36m<span[31m
                [33mclass[31m=[32m"flex h-full w-full items-center justify-center rounded-full bg-muted"[31m
              [36m>[31m
                [0mJO[0m
              [36m</span>[31m
            [36m</span>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-1 min-w-0"[31m
            [36m>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"tracking-tight text-base font-semibold truncate"[31m
              [36m>[31m
                [0mJohn Doe[0m
              [36m</h3>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center gap-2 mt-1"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"w-2 h-2 rounded-full bg-green-500"[31m
                [36m/>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-xs text-gray-600"[31m
                [36m>[31m
                  [0mOnline now[0m
                [36m</span>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-1"[31m
          [36m>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
              [33mtitle[31m=[32m"Call tailor"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-phone h-4 w-4"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</button>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0 text-green-600"[31m
              [33mtitle[31m=[32m"Continue on WhatsApp"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-message-square h-4 w-4"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</button>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
              [33mtitle[31m=[32m"Collapse chat"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-x h-4 w-4"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M18 6 6 18"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"m6 6 12 12"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</button>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"shrink-0 bg-border h-[1px] w-full"[31m
        [33mdata-orientation[31m=[32m"horizontal"[31m
        [33mrole[31m=[32m"none"[31m
      [36m/>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex-1 flex flex-col p-0 min-h-0"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center justify-center p-4 flex-1"[31m
        [36m>[31m
          [36m<div[31m
            ...[39m
[31m   [31m×[31m OrderChat[2m > [22mExternal Actions[2m > [22mshould handle WhatsApp redirect[90m 95[2mms[22m[31m[39m
[31m     → Unable to find an element with the title: Continue on WhatsApp.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m[39m
[31m   [31m×[31m OrderChat[2m > [22mExternal Actions[2m > [22mshould handle call tailor[90m 66[2mms[22m[31m[39m
[31m     → Unable to find an element with the title: Call tailor.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m[39m
[31m   [31m×[31m OrderChat[2m > [22mExternal Actions[2m > [22mshould handle collapse toggle[90m 73[2mms[22m[31m[39m
[31m     → Unable to find an element with the title: Collapse chat.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m[39m
[31m   [31m×[31m OrderChat[2m > [22mError Handling[2m > [22mshould display connection error[33m 1083[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: Connection error occurred. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div />[31m
  [36m</body>[31m
[36m</html>[31m[39m
[31m   [31m×[31m OrderChat[2m > [22mError Handling[2m > [22mshould show disconnected state[33m 1067[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: /reconnecting/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div />[31m
  [36m</body>[31m
[36m</html>[31m[39m
[31m   [31m×[31m OrderChat[2m > [22mConfiguration[2m > [22mshould respect max message length[90m 73[2mms[22m[31m[39m
[31m     → Unable to find an element with the placeholder text of: Type your message...

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m[39m
[90mstdout[2m | tests/unit/lib/services/escrow-notification.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 prevent committing .env to code: https://dotenvx.com/precommit

[90mstderr[2m | tests/unit/lib/services/escrow-notification.service.test.ts[2m > [22m[2mEscrowNotificationService[2m > [22m[2mscheduleReminderNotifications[2m > [22m[2mshould handle errors when escrow status not found
[22m[39mError scheduling escrow reminder notifications: Error: Order not found or no escrow status
    at EscrowNotificationService.scheduleReminderNotifications [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\escrow-notification.service.ts:34:15[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

 [31m❯[39m tests/unit/lib/services/escrow-notification.service.test.ts [2m([22m[2m11 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[90m 149[2mms[22m[39m
[31m   [31m×[31m EscrowNotificationService[2m > [22msendMilestoneNotification[2m > [22mshould send milestone reached notifications[90m 75[2mms[22m[31m[39m
[31m     → expected "log" to be called with arguments: [ 'Sending notification:', …(1) ][90m

Received: 

[1m  1st log call:

[22m[2m  Array [[22m
[2m    "Sending notification:",[22m
[32m-   ObjectContaining {[90m
[32m-     "message": StringContaining "Great news",[90m
[31m+   Object {[90m
[31m+     "message": "Fitting stage approved for order #55440000! GH₵ 500.00 released to tailor. Delivery coming soon.",[90m
[2m      "recipient": "+233241234567",[22m
[2m      "type": "milestone_progress",[22m
[2m    },[22m
[2m  ][22m

[1m  2nd log call:

[22m[2m  Array [[22m
[2m    "Sending notification:",[22m
[32m-   ObjectContaining {[90m
[32m-     "message": StringContaining "Great news",[90m
[32m-     "recipient": "+233241234567",[90m
[31m+   Object {[90m
[31m+     "message": "Fitting approved for order #55440000! GH₵ 500.00 has been released to you. Please arrange delivery.",[90m
[31m+     "recipient": "+233501234567",[90m
[2m      "type": "milestone_progress",[22m
[2m    },[22m
[2m  ][22m
[31m[90m

Number of calls: [1m2[22m
[31m[39m
[90mstdout[2m | tests/unit/lib/services/escrow.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 prevent committing .env to code: https://dotenvx.com/precommit

[90mstderr[2m | tests/unit/lib/services/escrow.service.test.ts[2m > [22m[2mEscrowService[2m > [22m[2minitiateEscrowPayment[2m > [22m[2mshould handle payment service failure
[22m[39mError initiating escrow payment: Error: Payment initiation failed: Payment failed
    at EscrowService.initiateEscrowPayment [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\escrow.service.ts:64:15[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\escrow.service.test.ts:145:7
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/lib/services/escrow.service.test.ts[2m > [22m[2mEscrowService[2m > [22m[2mprocessDepositPayment[2m > [22m[2mshould handle repository errors gracefully
[22m[39mError processing deposit payment: Error: Database error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\escrow.service.test.ts:192:64
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)

[90mstderr[2m | tests/unit/lib/services/escrow.service.test.ts[2m > [22m[2mEscrowService[2m > [22m[2mapproveMilestone[2m > [22m[2mshould reject invalid stage transitions
[22m[39mError approving milestone: Error: Invalid stage transition. Expected FITTING, got DEPOSIT
    at EscrowService.approveMilestone [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\escrow.service.ts:170:15[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\escrow.service.test.ts:297:22
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/lib/services/escrow.service.test.ts[2m > [22m[2mEscrowService[2m > [22m[2mapproveMilestone[2m > [22m[2mshould handle non-existent orders
[22m[39mError approving milestone: Error: Order not found or has no escrow status
    at EscrowService.approveMilestone [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\escrow.service.ts:165:15[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\escrow.service.test.ts:314:22
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

 [32m✓[39m tests/unit/lib/services/escrow.service.test.ts [2m([22m[2m13 tests[22m[2m)[22m[90m 67[2mms[22m[39m
[90mstdout[2m | tests/integration/api/webhooks/hubtel.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com

 [31m❯[39m tests/integration/api/webhooks/hubtel.test.ts [2m([22m[2m0 test[22m[2m)[22m
[90mstdout[2m | tests/unit/components/features/milestones/MilestoneTimeline.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🗂️ backup and recover secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/lib/services/favorites.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | tests/unit/api/orders/history.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔑 add access controls to secrets: https://dotenvx.com/ops

[90mstderr[2m | tests/unit/lib/services/favorites.service.test.ts[2m > [22m[2mFavoritesService[2m > [22m[2maddFavorite[2m > [22m[2mshould throw error for missing customer ID
[22m[39mFailed to add favorite: Error: Customer ID and Tailor ID are required
    at FavoritesService.addFavorite [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\favorites.service.ts:20:15[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\favorites.service.test.ts:46:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

[90mstderr[2m | tests/unit/lib/services/favorites.service.test.ts[2m > [22m[2mFavoritesService[2m > [22m[2maddFavorite[2m > [22m[2mshould throw error for missing tailor ID
[22m[39mFailed to add favorite: Error: Customer ID and Tailor ID are required
    at FavoritesService.addFavorite [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\favorites.service.ts:20:15[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\favorites.service.test.ts:52:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

[90mstderr[2m | tests/unit/lib/services/favorites.service.test.ts[2m > [22m[2mFavoritesService[2m > [22m[2mremoveFavorite[2m > [22m[2mshould throw error for missing parameters
[22m[39mFailed to remove favorite: Error: Customer ID and Tailor ID are required
    at FavoritesService.removeFavorite [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\favorites.service.ts:41:15[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\favorites.service.test.ts:90:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

[90mstderr[2m | tests/unit/lib/services/favorites.service.test.ts[2m > [22m[2mFavoritesService[2m > [22m[2misFavorite[2m > [22m[2mshould return false on error
[22m[39mFailed to check favorite status: Error: Database error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\favorites.service.test.ts:227:51
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)

[90mstderr[2m | tests/unit/lib/services/favorites.service.test.ts[2m > [22m[2mFavoritesService[2m > [22m[2mgetFavoriteStatuses[2m > [22m[2mshould return all false on error
[22m[39mFailed to get favorite statuses: Error: Database error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\favorites.service.test.ts:260:64
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)

 [31m❯[39m tests/unit/lib/services/favorites.service.test.ts [2m([22m[2m21 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[90m 180[2mms[22m[39m
[31m   [31m×[31m FavoritesService[2m > [22maddFavorite[2m > [22mshould clear user cache after adding favorite[90m 10[2mms[22m[31m[39m
[31m     → favoritesService.getFromCache is not a function[39m
[31m   [31m×[31m FavoritesService[2m > [22mremoveFavorite[2m > [22mshould clear user cache after removing favorite[90m 8[2mms[22m[31m[39m
[31m     → favoritesService.getFromCache is not a function[39m
[31m   [31m×[31m FavoritesService[2m > [22mgetFavorites[2m > [22mshould cache results[90m 6[2mms[22m[31m[39m
[31m     → expected "getFavorites" to be called 1 times, but got 2 times[39m
[31m   [31m×[31m FavoritesService[2m > [22misFavorite[2m > [22mshould cache favorite status[90m 4[2mms[22m[31m[39m
[31m     → expected "isFavorite" to be called 1 times, but got 2 times[39m
[90mstdout[2m | tests/unit/components/features/tailors/TailorSearchResults.infinite-scroll.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ✅ audit secrets and track compliance: https://dotenvx.com/ops

[90mstderr[2m | tests/unit/components/features/milestones/MilestoneTimeline.test.tsx[2m > [22m[2mMilestoneTimeline Component[2m > [22m[2mopens photo preview dialog when view photo is clicked
[22m[39mReceived `true` for a non-boolean attribute `fill`.

If you want to write it to the DOM, pass a string instead: fill="true" or fill={value.toString()}.
Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | tests/unit/api/orders/history.test.ts[2m > [22m[2m/api/orders/history[2m > [22m[2mshould return paginated order history for authenticated user
[22m[39mOrder history error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/history.test.ts[2m > [22m[2m/api/orders/history[2m > [22m[2mshould handle pagination parameters correctly
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Order history error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/history.test.ts[2m > [22m[2m/api/orders/history[2m > [22m[2mshould filter by status when provided
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Order history error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/history.test.ts[2m > [22m[2m/api/orders/history[2m > [22m[2mshould filter by multiple statuses
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Order history error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/history.test.ts[2m > [22m[2m/api/orders/history[2m > [22m[2mshould apply sorting parameters
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Order history error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/history.test.ts[2m > [22m[2m/api/orders/history[2m > [22m[2mshould filter by customerId when user matches
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Order history error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/history.test.ts[2m > [22m[2m/api/orders/history[2m > [22m[2mshould filter by tailorId when user matches
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Order history error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/history.test.ts[2m > [22m[2m/api/orders/history[2m > [22m[2mshould calculate progress percentage correctly
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Order history error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/history.test.ts[2m > [22m[2m/api/orders/history[2m > [22m[2mshould return 401 when user is not authenticated
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Order history error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/history.test.ts[2m > [22m[2m/api/orders/history[2m > [22m[2mshould return 400 for invalid query parameters
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Order history error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/history.test.ts[2m > [22m[2m/api/orders/history[2m > [22m[2mshould handle database errors gracefully
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Order history error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/history.test.ts[2m > [22m[2m/api/orders/history[2m > [22m[2mshould enforce maximum limit parameter
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Order history error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/history.test.ts[2m > [22m[2m/api/orders/history[2m > [22m[2mshould handle empty order history
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Order history error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/history.test.ts[2m > [22m[2m/api/orders/history[2m > [22m[2mshould handle orders without milestones
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Order history error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

 [31m❯[39m tests/unit/api/orders/history.test.ts [2m([22m[2m14 tests[22m[2m | [22m[31m14 failed[39m[2m)[22m[33m 363[2mms[22m[39m
[31m   [31m×[31m /api/orders/history[2m > [22mshould return paginated order history for authenticated user[90m 220[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/history[2m > [22mshould handle pagination parameters correctly[90m 11[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/history[2m > [22mshould filter by status when provided[90m 8[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/history[2m > [22mshould filter by multiple statuses[90m 6[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/history[2m > [22mshould apply sorting parameters[90m 9[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/history[2m > [22mshould filter by customerId when user matches[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/history[2m > [22mshould filter by tailorId when user matches[90m 4[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/history[2m > [22mshould calculate progress percentage correctly[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/history[2m > [22mshould return 401 when user is not authenticated[90m 14[2mms[22m[31m[39m
[31m     → expected 500 to be 401 // Object.is equality[39m
[31m   [31m×[31m /api/orders/history[2m > [22mshould return 400 for invalid query parameters[90m 13[2mms[22m[31m[39m
[31m     → expected 500 to be 400 // Object.is equality[39m
[31m   [31m×[31m /api/orders/history[2m > [22mshould handle database errors gracefully[90m 33[2mms[22m[31m[39m
[31m     → expected [ 'Internal server error' ] to include 'Failed to fetch order history'[39m
[31m   [31m×[31m /api/orders/history[2m > [22mshould enforce maximum limit parameter[90m 7[2mms[22m[31m[39m
[31m     → expected 500 to be 400 // Object.is equality[39m
[31m   [31m×[31m /api/orders/history[2m > [22mshould handle empty order history[90m 13[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/history[2m > [22mshould handle orders without milestones[90m 9[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[90mstderr[2m | tests/unit/components/features/tailors/TailorSearchResults.infinite-scroll.test.tsx[2m > [22m[2mTailorSearchResults - Infinite Scroll[2m > [22m[2mLoading Skeletons[2m > [22m[2mshould show loading skeletons in list mode
[22m[39mFailed to fetch favorites: TypeError: Cannot read properties of undefined (reading 'ok')
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mhooks\useFavorites.ts:36:21
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
An update to FavoriteButton inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to FavoriteButton inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/unit/components/features/tailors/TailorSearchResults.infinite-scroll.test.tsx[2m > [22m[2mTailorSearchResults - Infinite Scroll[2m > [22m[2mMultiple Display Modes[2m > [22m[2mshould support infinite scroll in list mode
[22m[39mFailed to fetch favorites: TypeError: Cannot read properties of undefined (reading 'ok')
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mhooks\useFavorites.ts:36:21
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
An update to FavoriteButton inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to FavoriteButton inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/unit/components/features/tailors/FeaturedTailors.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  specify custom .env file path with { path: '/custom/path/.env' }

 [32m✓[39m tests/unit/components/features/tailors/TailorSearchResults.infinite-scroll.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[33m 646[2mms[22m[39m
[90mstderr[2m | tests/unit/components/features/milestones/MilestoneTimeline.test.tsx[2m > [22m[2mMilestoneTimeline Component[2m > [22m[2mcalls onViewPhotos callback when view photo is clicked
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | tests/unit/components/features/milestones/MilestoneTimeline.test.tsx[2m > [22m[2mMilestoneTimeline Component[2m > [22m[2mcloses photo preview dialog when close is triggered
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 [31m❯[39m tests/unit/components/features/milestones/MilestoneTimeline.test.tsx [2m([22m[2m20 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 2465[2mms[22m[39m
[31m   [31m×[31m MilestoneTimeline Component[2m > [22mapplies correct status colors for different milestone states[90m 194[2mms[22m[31m[39m
[31m     → [2mexpect([22m[31melement[31m[2m).toHaveClass([22m[32m[32m"bg-red-500"[32m[31m[2m)[22m

Expected the element to have class:
[32m  bg-red-500[31m
Received:
[31m  inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80[31m[39m
[90mstdout[2m | tests/unit/lib/repositories/saved-search.repository.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 prevent committing .env to code: https://dotenvx.com/precommit

 [32m✓[39m tests/unit/lib/repositories/saved-search.repository.test.ts [2m([22m[2m12 tests[22m[2m)[22m[90m 65[2mms[22m[39m
[90mstdout[2m | tests/unit/lib/services/dispute-resolution.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  write to custom object with { processEnv: myObject }

 [2m[90m↓[39m[22m tests/unit/lib/services/dispute-resolution.service.test.ts [2m([22m[2m12 tests[22m[2m | [22m[33m12 skipped[39m[2m)[22m
[90mstderr[2m | tests/unit/components/features/tailors/FeaturedTailors.test.tsx[2m > [22m[2mFeaturedTailors[2m > [22m[2mError Handling[2m > [22m[2mshould show error state when fetch fails
[22m[39mFailed to fetch featured tailors: Error: Network error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\components\features\tailors\FeaturedTailors.test.tsx:241:35
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at runNextTicks (node:internal/process/task_queues:65:5)[39m
[90m    at listOnTimeout (node:internal/timers:549:9)[39m
[90m    at processTimers (node:internal/timers:523:7)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

[90mstderr[2m | tests/unit/components/features/tailors/FeaturedTailors.test.tsx[2m > [22m[2mFeaturedTailors[2m > [22m[2mError Handling[2m > [22m[2mshould show error state when API returns error status
[22m[39mFailed to fetch featured tailors: Error: HTTP 500
    at fetchFeaturedTailors [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mcomponents\features\tailors\FeaturedTailors.tsx:48:17[90m)[39m

 [31m❯[39m tests/unit/components/features/tailors/FeaturedTailors.test.tsx [2m([22m[2m14 tests[22m[2m | [22m[31m5 failed[39m[2m)[22m[33m 6748[2mms[22m[39m
[31m   [31m×[31m FeaturedTailors[2m > [22mLoading State[2m > [22mshould show loading skeletons while fetching[33m 2117[2mms[22m[31m[39m
[31m     → Unable to find an element by: [data-testid="tailor-card-tailor-1"]

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-center justify-between"[31m
      [36m>[31m
        [36m<div>[31m
          [36m<h2[31m
            [33mclass[31m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M5 21h14"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mFeatured Tailors[0m
          [36m</h2>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-gray-600 mt-1"[31m
          [36m>[31m
            [0mDiscover top-rated and recommended expert tailors[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[31m
        [36m>[31m
          [0mView All[0m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M5 12h14"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m12 5 7 7-7 7"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"hidden lg:block"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative"[31m
          [36m>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"tailor-card-featured-1"[31m
            [36m>[31m
              [36m<h3 />[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"ml-1"[31m
                [36m>[31m
                  [0mTop Rated[0m
                [36m</span>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute top-2 left-2 z-10"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[31m
              [36m>[31m
                [0mTop Rated[0m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative"[31m
          [36m>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"tailor-card-featured-2"[31m
            [36m>[31m
              [36m<h3 />[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-blue-500"[31m
              [36m>[31m
             ...

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-6"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center justify-between"[31m
        [36m>[31m
          [36m<div>[31m
            [36m<h2[31m
              [33mclass[31m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M5 21h14"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mFeatured Tailors[0m
            [36m</h2>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-gray-600 mt-1"[31m
            [36m>[31m
              [0mDiscover top-rated and recommended expert tailors[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<button[31m
            [33mclass[31m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[31m
          [36m>[31m
            [0mView All[0m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M5 12h14"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"m12 5 7 7-7 7"[31m
              [36m/>[31m
            [36m</svg>[31m
          [36m</button>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"hidden lg:block"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"relative"[31m
            [36m>[31m
              [36m<div[31m
                [33mdata-testid[31m=[32m"tailor-card-featured-1"[31m
              [36m>[31m
                [36m<h3 />[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"ml-1"[31m
                  [36m>[31m
                    [0mTop Rated[0m
                  [36m</span>[31m
                [36m</div>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute top-2 left-2 z-10"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[31m
                [36m>[31m
                  [0mTop Rated[0m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"relative"[31m
            [36m>[31m
              [36m<div[31m
                [33mdata-testid[31m=[32m"tailor-card-featured-2"[31m
              [36m>[31m
                [36m<h3 />[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
              [36m>[31m
                [36m<div[31m
                ...[39m
[31m   [31m×[31m FeaturedTailors[2m > [22mSuccessful Data Loading[2m > [22mshould render featured tailors[33m 1036[2mms[22m[31m[39m
[31m     → Unable to find an element by: [data-testid="tailor-card-tailor-1"]

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-center justify-between"[31m
      [36m>[31m
        [36m<div>[31m
          [36m<h2[31m
            [33mclass[31m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M5 21h14"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mFeatured Tailors[0m
          [36m</h2>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-gray-600 mt-1"[31m
          [36m>[31m
            [0mDiscover top-rated and recommended expert tailors[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[31m
        [36m>[31m
          [0mView All[0m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M5 12h14"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m12 5 7 7-7 7"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"hidden lg:block"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative"[31m
          [36m>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"tailor-card-featured-1"[31m
            [36m>[31m
              [36m<h3 />[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"ml-1"[31m
                [36m>[31m
                  [0mTop Rated[0m
                [36m</span>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute top-2 left-2 z-10"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[31m
              [36m>[31m
                [0mTop Rated[0m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative"[31m
          [36m>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"tailor-card-featured-2"[31m
            [36m>[31m
              [36m<h3 />[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-blue-500"[31m
              [36m>[31m
             ...

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-6"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center justify-between"[31m
        [36m>[31m
          [36m<div>[31m
            [36m<h2[31m
              [33mclass[31m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M5 21h14"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mFeatured Tailors[0m
            [36m</h2>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-gray-600 mt-1"[31m
            [36m>[31m
              [0mDiscover top-rated and recommended expert tailors[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<button[31m
            [33mclass[31m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[31m
          [36m>[31m
            [0mView All[0m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M5 12h14"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"m12 5 7 7-7 7"[31m
              [36m/>[31m
            [36m</svg>[31m
          [36m</button>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"hidden lg:block"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"relative"[31m
            [36m>[31m
              [36m<div[31m
                [33mdata-testid[31m=[32m"tailor-card-featured-1"[31m
              [36m>[31m
                [36m<h3 />[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"ml-1"[31m
                  [36m>[31m
                    [0mTop Rated[0m
                  [36m</span>[31m
                [36m</div>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute top-2 left-2 z-10"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[31m
                [36m>[31m
                  [0mTop Rated[0m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"relative"[31m
            [36m>[31m
              [36m<div[31m
                [33mdata-testid[31m=[32m"tailor-card-featured-2"[31m
              [36m>[31m
                [36m<h3 />[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
              [36m>[31m
                [36m<div[31m
                ...[39m
[31m   [31m×[31m FeaturedTailors[2m > [22mSuccessful Data Loading[2m > [22mshould show correct featured badges[33m 1054[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: Top Rated

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<span[31m
  [33mclass[31m=[32m"ml-1"[31m
[36m>[31m
  [0mTop Rated[0m
[36m</span>[31m

Ignored nodes: comments, script, style
[36m<div[31m
  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[31m
[36m>[31m
  [0mTop Rated[0m
[36m</div>[31m

Ignored nodes: comments, script, style
[36m<span[31m
  [33mclass[31m=[32m"ml-1"[31m
[36m>[31m
  [0mTop Rated[0m
[36m</span>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-center justify-between"[31m
      [36m>[31m
        [36m<div>[31m
          [36m<h2[31m
            [33mclass[31m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M5 21h14"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mFeatured Tailors[0m
          [36m</h2>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-gray-600 mt-1"[31m
          [36m>[31m
            [0mDiscover top-rated and recommended expert tailors[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[31m
        [36m>[31m
          [0mView All[0m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M5 12h14"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m12 5 7 7-7 7"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"hidden lg:block"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative"[31m
          [36m>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"tailor-card-featured-1"[31m
            [36m>[31m
              [36m<h3 />[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"ml-1"[31m
                [36m>[31m
                  [0mTop Rated[0m
                [36m</span>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute top-2 left-2 z-10"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[31m
              [36m>[31m
                [0mTop Rated[0m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative"[31m
          [36m>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"tailor-card-featured-2"[31m
            [36m>[31m
              [36m<h3 />[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-blue-500"[31m
              [36m>[31m
             ...

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-6"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center justify-between"[31m
        [36m>[31m
          [36m<div>[31m
            [36m<h2[31m
              [33mclass[31m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M5 21h14"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mFeatured Tailors[0m
            [36m</h2>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-gray-600 mt-1"[31m
            [36m>[31m
              [0mDiscover top-rated and recommended expert tailors[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<button[31m
            [33mclass[31m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[31m
          [36m>[31m
            [0mView All[0m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M5 12h14"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"m12 5 7 7-7 7"[31m
              [36m/>[31m
            [36m</svg>[31m
          [36m</button>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"hidden lg:block"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"relative"[31m
            [36m>[31m
              [36m<div[31m
                [33mdata-testid[31m=[32m"tailor-card-featured-1"[31m
              [36m>[31m
                [36m<h3 />[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"ml-1"[31m
                  [36m>[31m
                    [0mTop Rated[0m
                  [36m</span>[31m
                [36m</div>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute top-2 left-2 z-10"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[31m
                [36m>[31m
                  [0mTop Rated[0m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"relative"[31m
            [36m>[31m
              [36m<div[31m
                [33mdata-testid[31m=[32m"tailor-card-featured-2"[31m
              [36m>[31m
                [36m<h3 />[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
              [36m>[31m
                [36m<div[31m
                ...[39m
[31m   [31m×[31m FeaturedTailors[2m > [22mFeatured Reason Icons[2m > [22mshould show correct icons for different featured reasons[33m 1026[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: Top Rated

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<span[31m
  [33mclass[31m=[32m"ml-1"[31m
[36m>[31m
  [0mTop Rated[0m
[36m</span>[31m

Ignored nodes: comments, script, style
[36m<div[31m
  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[31m
[36m>[31m
  [0mTop Rated[0m
[36m</div>[31m

Ignored nodes: comments, script, style
[36m<span[31m
  [33mclass[31m=[32m"ml-1"[31m
[36m>[31m
  [0mTop Rated[0m
[36m</span>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-center justify-between"[31m
      [36m>[31m
        [36m<div>[31m
          [36m<h2[31m
            [33mclass[31m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M5 21h14"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mFeatured Tailors[0m
          [36m</h2>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-gray-600 mt-1"[31m
          [36m>[31m
            [0mDiscover top-rated and recommended expert tailors[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[31m
        [36m>[31m
          [0mView All[0m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M5 12h14"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m12 5 7 7-7 7"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"hidden lg:block"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative"[31m
          [36m>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"tailor-card-featured-1"[31m
            [36m>[31m
              [36m<h3 />[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                  [36m/>[31m
                [36m</svg>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"ml-1"[31m
                [36m>[31m
                  [0mTop Rated[0m
                [36m</span>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute top-2 left-2 z-10"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[31m
              [36m>[31m
                [0mTop Rated[0m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative"[31m
          [36m>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"tailor-card-featured-2"[31m
            [36m>[31m
              [36m<h3 />[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-blue-500"[31m
              [36m>[31m
             ...

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-6"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center justify-between"[31m
        [36m>[31m
          [36m<div>[31m
            [36m<h2[31m
              [33mclass[31m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M5 21h14"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mFeatured Tailors[0m
            [36m</h2>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-gray-600 mt-1"[31m
            [36m>[31m
              [0mDiscover top-rated and recommended expert tailors[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<button[31m
            [33mclass[31m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[31m
          [36m>[31m
            [0mView All[0m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M5 12h14"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"m12 5 7 7-7 7"[31m
              [36m/>[31m
            [36m</svg>[31m
          [36m</button>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"hidden lg:block"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"relative"[31m
            [36m>[31m
              [36m<div[31m
                [33mdata-testid[31m=[32m"tailor-card-featured-1"[31m
              [36m>[31m
                [36m<h3 />[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"ml-1"[31m
                  [36m>[31m
                    [0mTop Rated[0m
                  [36m</span>[31m
                [36m</div>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute top-2 left-2 z-10"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[31m
                [36m>[31m
                  [0mTop Rated[0m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"relative"[31m
            [36m>[31m
              [36m<div[31m
                [33mdata-testid[31m=[32m"tailor-card-featured-2"[31m
              [36m>[31m
                [36m<h3 />[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
              [36m>[31m
                [36m<div[31m
                ...[39m
[31m   [31m×[31m FeaturedTailors[2m > [22mCarousel Functionality[2m > [22mshould show carousel controls when there are multiple slides[33m 1068[2mms[22m[31m[39m
[31m     → expected 0 to be greater than 0

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-6"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center justify-between"[31m
        [36m>[31m
          [36m<div>[31m
            [36m<h2[31m
              [33mclass[31m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M5 21h14"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mFeatured Tailors[0m
            [36m</h2>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-gray-600 mt-1"[31m
            [36m>[31m
              [0mDiscover top-rated and recommended expert tailors[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<button[31m
            [33mclass[31m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[31m
          [36m>[31m
            [0mView All[0m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M5 12h14"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"m12 5 7 7-7 7"[31m
              [36m/>[31m
            [36m</svg>[31m
          [36m</button>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"hidden lg:block"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"relative"[31m
            [36m>[31m
              [36m<div[31m
                [33mdata-testid[31m=[32m"tailor-card-featured-0"[31m
              [36m>[31m
                [36m<h3 />[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"ml-1"[31m
                  [36m>[31m
                    [0mTop Rated[0m
                  [36m</span>[31m
                [36m</div>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute top-2 left-2 z-10"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[31m
                [36m>[31m
                  [0mTop Rated[0m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"relative"[31m
            [36m>[31m
              [36m<div[31m
                [33mdata-testid[31m=[32m"tailor-card-featured-1"[31m
              [36m>[31m
                [36m<h3 />[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"absolute -top-2 -right-2 z-10"[31m
              [36m>[31m
                [36m<div[31m
                ...[39m
[90mstdout[2m | tests/unit/lib/services/payment-analytics.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  specify custom .env file path with { path: '/custom/path/.env' }

 [31m❯[39m tests/unit/lib/services/payment-analytics.service.test.ts [2m([22m[2m8 tests[22m[2m | [22m[31m5 failed[39m[2m)[22m[90m 148[2mms[22m[39m
[31m   [31m×[31m PaymentAnalyticsService[2m > [22mgetTailorPaymentDashboard[2m > [22mshould return payment dashboard data successfully[90m 82[2mms[22m[31m[39m
[31m     → expected { summary: { …(15) }, …(3) } to deeply equal { summary: { …(15) }, …(3) }[39m
[31m   [31m×[31m PaymentAnalyticsService[2m > [22mgetTailorPaymentDashboard[2m > [22mshould handle database errors gracefully[90m 23[2mms[22m[31m[39m
[31m     → promise resolved "{ summary: { …(15) }, …(3) }" instead of rejecting[39m
[31m   [31m×[31m PaymentAnalyticsService[2m > [22mgetPaymentHistory[2m > [22mshould return paginated payment history with filters[90m 9[2mms[22m[31m[39m
[31m     → expected { Object (items, total, ...) } to deeply equal { items: ArrayContaining{…}, …(2) }[39m
[31m   [31m×[31m PaymentAnalyticsService[2m > [22mrefreshPaymentStatistics[2m > [22mshould call the refresh RPC function[90m 3[2mms[22m[31m[39m
[31m     → expected "spy" to be called with arguments: [ 'update_payment_statistics_cache' ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m[39m
[31m   [31m×[31m PaymentAnalyticsService[2m > [22mrefreshPaymentStatistics[2m > [22mshould handle RPC errors[90m 3[2mms[22m[31m[39m
[31m     → promise resolved "undefined" instead of rejecting[39m
[90mstdout[2m | tests/integration/database.integration.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🗂️ backup and recover secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/api/notifications/preferences.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  override existing env vars with { override: true }

[90mstdout[2m | tests/unit/utils/phone-validation.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🛠️  run anywhere with `dotenvx run -- yourcommand`

 [31m❯[39m tests/integration/database.integration.test.ts [2m([22m[2m14 tests[22m[2m | [22m[33m14 skipped[39m[2m)[22m[90m 62[2mms[22m[39m
 [32m✓[39m tests/unit/utils/phone-validation.test.ts [2m([22m[2m44 tests[22m[2m)[22m[90m 130[2mms[22m[39m
[90mstderr[2m | tests/unit/api/notifications/preferences.test.ts[2m > [22m[2m/api/notifications/preferences[2m > [22m[2mGET /api/notifications/preferences[2m > [22m[2mshould return user preferences when they exist
[22m[39mNotification preferences fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/notifications/preferences.test.ts[2m > [22m[2m/api/notifications/preferences[2m > [22m[2mGET /api/notifications/preferences[2m > [22m[2mshould return default preferences when none exist
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Notification preferences fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/notifications/preferences.test.ts[2m > [22m[2m/api/notifications/preferences[2m > [22m[2mGET /api/notifications/preferences[2m > [22m[2mshould return 401 when user is not authenticated
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Notification preferences fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/notifications/preferences.test.ts[2m > [22m[2m/api/notifications/preferences[2m > [22m[2mGET /api/notifications/preferences[2m > [22m[2mshould handle database errors gracefully
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Notification preferences fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/notifications/preferences.test.ts[2m > [22m[2m/api/notifications/preferences[2m > [22m[2mPOST /api/notifications/preferences[2m > [22m[2mshould update preferences successfully
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Notification preferences update error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/notifications/preferences.test.ts[2m > [22m[2m/api/notifications/preferences[2m > [22m[2mPOST /api/notifications/preferences[2m > [22m[2mshould validate request body
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Notification preferences update error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/notifications/preferences.test.ts[2m > [22m[2m/api/notifications/preferences[2m > [22m[2mPOST /api/notifications/preferences[2m > [22m[2mshould return 401 when user is not authenticated
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Notification preferences update error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/notifications/preferences.test.ts[2m > [22m[2m/api/notifications/preferences[2m > [22m[2mPOST /api/notifications/preferences[2m > [22m[2mshould handle database update failures
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Notification preferences update error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/notifications/preferences.test.ts[2m > [22m[2m/api/notifications/preferences[2m > [22m[2mPOST /api/notifications/preferences[2m > [22m[2mshould handle all preference types correctly
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Notification preferences update error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

 [31m❯[39m tests/unit/api/notifications/preferences.test.ts [2m([22m[2m9 tests[22m[2m | [22m[31m9 failed[39m[2m)[22m[33m 324[2mms[22m[39m
[31m   [31m×[31m /api/notifications/preferences[2m > [22mGET /api/notifications/preferences[2m > [22mshould return user preferences when they exist[90m 237[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/notifications/preferences[2m > [22mGET /api/notifications/preferences[2m > [22mshould return default preferences when none exist[90m 10[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/notifications/preferences[2m > [22mGET /api/notifications/preferences[2m > [22mshould return 401 when user is not authenticated[90m 7[2mms[22m[31m[39m
[31m     → expected 500 to be 401 // Object.is equality[39m
[31m   [31m×[31m /api/notifications/preferences[2m > [22mGET /api/notifications/preferences[2m > [22mshould handle database errors gracefully[90m 35[2mms[22m[31m[39m
[31m     → expected [ 'Internal server error' ] to include 'Failed to fetch preferences'[39m
[31m   [31m×[31m /api/notifications/preferences[2m > [22mPOST /api/notifications/preferences[2m > [22mshould update preferences successfully[90m 7[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/notifications/preferences[2m > [22mPOST /api/notifications/preferences[2m > [22mshould validate request body[90m 6[2mms[22m[31m[39m
[31m     → expected 500 to be 400 // Object.is equality[39m
[31m   [31m×[31m /api/notifications/preferences[2m > [22mPOST /api/notifications/preferences[2m > [22mshould return 401 when user is not authenticated[90m 6[2mms[22m[31m[39m
[31m     → expected 500 to be 401 // Object.is equality[39m
[31m   [31m×[31m /api/notifications/preferences[2m > [22mPOST /api/notifications/preferences[2m > [22mshould handle database update failures[90m 5[2mms[22m[31m[39m
[31m     → expected [ 'Internal server error' ] to include 'Failed to update preferences'[39m
[31m   [31m×[31m /api/notifications/preferences[2m > [22mPOST /api/notifications/preferences[2m > [22mshould handle all preference types correctly[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[90mstdout[2m | tests/unit/lib/utils/image-compression.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🛠️  run anywhere with `dotenvx run -- yourcommand`

 [32m✓[39m tests/unit/lib/utils/image-compression.test.ts [2m([22m[2m26 tests[22m[2m)[22m[90m 63[2mms[22m[39m
[90mstdout[2m | tests/unit/components/AdminDisputeDashboard.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  load multiple .env files with { path: ['.env.local', '.env'] }

[90mstdout[2m | tests/unit/components/features/tailors/MapView.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 👥 sync secrets across teammates & machines: https://dotenvx.com/ops

 [31m❯[39m tests/unit/components/features/tailors/MapView.test.tsx [2m([22m[2m0 test[22m[2m)[22m
[90mstdout[2m | tests/unit/api/recommendations/route.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | tests/unit/components/auth/LoginForm.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  write to custom object with { processEnv: myObject }

[90mstderr[2m | tests/unit/api/recommendations/route.test.ts[2m > [22m[2mRecommendations API Route[2m > [22m[2mGET /api/recommendations[2m > [22m[2mshould return cached recommendations on cache hit
[22m[39mGET /api/recommendations error: TypeError: Cannot read properties of undefined (reading 'get')
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\recommendations\route.ts:62:45[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\recommendations\route.test.ts:99:24
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/api/recommendations/route.test.ts[2m > [22m[2mRecommendations API Route[2m > [22m[2mGET /api/recommendations[2m > [22m[2mshould compute and cache recommendations on cache miss
[22m[39mGET /api/recommendations error: TypeError: Cannot read properties of undefined (reading 'get')
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\recommendations\route.ts:62:45[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\recommendations\route.test.ts:114:24
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/api/recommendations/route.test.ts[2m > [22m[2mRecommendations API Route[2m > [22m[2mGET /api/recommendations[2m > [22m[2mshould generate correct cache key for different parameters
[22m[39mGET /api/recommendations error: TypeError: Cannot read properties of undefined (reading 'get')
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\recommendations\route.ts:62:45[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\recommendations\route.test.ts:147:9
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/api/recommendations/route.test.ts[2m > [22m[2mRecommendations API Route[2m > [22m[2mGET /api/recommendations[2m > [22m[2mshould handle recommendation engine errors gracefully
[22m[39mGET /api/recommendations error: TypeError: Cannot read properties of undefined (reading 'get')
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\recommendations\route.ts:62:45[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\recommendations\route.test.ts:181:24
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/api/recommendations/route.test.ts[2m > [22m[2mRecommendations API Route[2m > [22m[2mGET /api/recommendations[2m > [22m[2mshould set appropriate cache control headers
[22m[39mGET /api/recommendations error: TypeError: Cannot read properties of undefined (reading 'get')
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\recommendations\route.ts:62:45[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\recommendations\route.test.ts:190:24
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/api/recommendations/route.test.ts[2m > [22m[2mRecommendations API Route[2m > [22m[2mCache Invalidation[2m > [22m[2mshould invalidate all cache keys for a user
[22m[39mFailed to invalidate recommendations cache: TypeError: Cannot read properties of undefined (reading 'delete')
    at Module.invalidateRecommendationsCache [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\utils\cache\recommendations-cache.ts:28:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\recommendations\route.test.ts:198:13
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

[90mstderr[2m | tests/unit/api/recommendations/route.test.ts[2m > [22m[2mRecommendations API Route[2m > [22m[2mCache Invalidation[2m > [22m[2mshould handle cache invalidation errors gracefully
[22m[39mFailed to invalidate recommendations cache: TypeError: Cannot read properties of undefined (reading 'delete')
    at Module.invalidateRecommendationsCache [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\utils\cache\recommendations-cache.ts:28:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\recommendations\route.test.ts:214:20
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

[90mstderr[2m | tests/unit/api/recommendations/route.test.ts[2m > [22m[2mRecommendations API Route[2m > [22m[2mIntegration with Cache Service[2m > [22m[2mshould work with in-memory cache in development
[22m[39mGET /api/recommendations error: TypeError: Cannot read properties of undefined (reading 'get')
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\recommendations\route.ts:62:45[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\recommendations\route.test.ts:223:25
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/api/recommendations/route.test.ts[2m > [22m[2mRecommendations API Route[2m > [22m[2mIntegration with Cache Service[2m > [22m[2mshould continue working if cache service fails
[22m[39mGET /api/recommendations error: TypeError: Cannot read properties of undefined (reading 'get')
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\recommendations\route.ts:62:45[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\recommendations\route.test.ts:242:24
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

 [31m❯[39m tests/unit/api/recommendations/route.test.ts [2m([22m[2m12 tests[22m[2m | [22m[31m8 failed[39m[2m)[22m[90m 130[2mms[22m[39m
[31m   [31m×[31m Recommendations API Route[2m > [22mGET /api/recommendations[2m > [22mshould return cached recommendations on cache hit[90m 39[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m Recommendations API Route[2m > [22mGET /api/recommendations[2m > [22mshould compute and cache recommendations on cache miss[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m Recommendations API Route[2m > [22mGET /api/recommendations[2m > [22mshould generate correct cache key for different parameters[90m 19[2mms[22m[31m[39m
[31m     → expected "spy" to be called with arguments: [ Array(1) ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m[39m
[31m   [31m×[31m Recommendations API Route[2m > [22mGET /api/recommendations[2m > [22mshould handle recommendation engine errors gracefully[90m 11[2mms[22m[31m[39m
[31m     → expected 'Cannot read properties of undefined (…' to be 'Database connection failed' // Object.is equality[39m
[31m   [31m×[31m Recommendations API Route[2m > [22mGET /api/recommendations[2m > [22mshould set appropriate cache control headers[90m 4[2mms[22m[31m[39m
[31m     → expected null to be 'private, max-age=3600' // Object.is equality[39m
[31m   [31m×[31m Recommendations API Route[2m > [22mCache Invalidation[2m > [22mshould invalidate all cache keys for a user[90m 4[2mms[22m[31m[39m
[31m     → expected "spy" to be called 16 times, but got 0 times[39m
[31m   [31m×[31m Recommendations API Route[2m > [22mIntegration with Cache Service[2m > [22mshould work with in-memory cache in development[90m 5[2mms[22m[31m[39m
[31m     → expected undefined to be false // Object.is equality[39m
[31m   [31m×[31m Recommendations API Route[2m > [22mIntegration with Cache Service[2m > [22mshould continue working if cache service fails[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[90mstdout[2m | tests/integration/api/payments/initiate.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  specify custom .env file path with { path: '/custom/path/.env' }

[90mstdout[2m | tests/unit/api/orders/timeline.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 prevent building .env in docker: https://dotenvx.com/prebuild

 [31m❯[39m tests/integration/api/payments/initiate.test.ts [2m([22m[2m0 test[22m[2m)[22m
[90mstderr[2m | tests/unit/api/orders/timeline.test.ts[2m > [22m[2m/api/orders/[id]/timeline[2m > [22m[2mshould return order timeline for authorized customer
[22m[39mTimeline fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/timeline.test.ts[2m > [22m[2m/api/orders/[id]/timeline[2m > [22m[2mshould return order timeline for authorized tailor
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Timeline fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/timeline.test.ts[2m > [22m[2m/api/orders/[id]/timeline[2m > [22m[2mshould return 401 when user is not authenticated
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Timeline fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/timeline.test.ts[2m > [22m[2m/api/orders/[id]/timeline[2m > [22m[2mshould return 400 for invalid order ID format
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Timeline fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/timeline.test.ts[2m > [22m[2m/api/orders/[id]/timeline[2m > [22m[2mshould return 404 when order is not found
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Timeline fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/timeline.test.ts[2m > [22m[2m/api/orders/[id]/timeline[2m > [22m[2mshould return 403 when user is not authorized to access order
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Timeline fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/timeline.test.ts[2m > [22m[2m/api/orders/[id]/timeline[2m > [22m[2mshould handle timeline calculation with no milestones
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Timeline fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/timeline.test.ts[2m > [22m[2m/api/orders/[id]/timeline[2m > [22m[2mshould handle database errors gracefully
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Timeline fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/orders/timeline.test.ts[2m > [22m[2m/api/orders/[id]/timeline[2m > [22m[2mshould calculate days remaining correctly
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Timeline fetch error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

 [31m❯[39m tests/unit/api/orders/timeline.test.ts [2m([22m[2m9 tests[22m[2m | [22m[31m9 failed[39m[2m)[22m[90m 228[2mms[22m[39m
[31m   [31m×[31m /api/orders/[id]/timeline[2m > [22mshould return order timeline for authorized customer[90m 153[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/timeline[2m > [22mshould return order timeline for authorized tailor[90m 7[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/timeline[2m > [22mshould return 401 when user is not authenticated[90m 10[2mms[22m[31m[39m
[31m     → expected 500 to be 401 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/timeline[2m > [22mshould return 400 for invalid order ID format[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 400 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/timeline[2m > [22mshould return 404 when order is not found[90m 6[2mms[22m[31m[39m
[31m     → expected 500 to be 404 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/timeline[2m > [22mshould return 403 when user is not authorized to access order[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 403 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/timeline[2m > [22mshould handle timeline calculation with no milestones[90m 6[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/orders/[id]/timeline[2m > [22mshould handle database errors gracefully[90m 17[2mms[22m[31m[39m
[31m     → expected [ 'Internal server error' ] to include 'Failed to fetch milestones'[39m
[31m   [31m×[31m /api/orders/[id]/timeline[2m > [22mshould calculate days remaining correctly[90m 16[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
 [31m❯[39m tests/unit/components/auth/LoginForm.test.tsx [2m([22m[2m13 tests[22m[2m | [22m[31m13 failed[39m[2m)[22m[90m 151[2mms[22m[39m
[31m   [31m×[31m LoginForm[2m > [22mrenders login form with email option selected by default[90m 77[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m LoginForm[2m > [22mswitches between email and phone input types[90m 9[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m LoginForm[2m > [22mvalidates email input correctly[90m 6[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m LoginForm[2m > [22mvalidates phone input correctly[90m 5[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m LoginForm[2m > [22mvalidates password requirement[90m 5[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m LoginForm[2m > [22mtoggles password visibility[90m 7[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m LoginForm[2m > [22mhandles successful login with email[90m 7[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m LoginForm[2m > [22mhandles successful login with phone[90m 6[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m LoginForm[2m > [22mhandles login with remember me option[90m 7[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m LoginForm[2m > [22mdisplays error message on login failure[90m 5[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m LoginForm[2m > [22mshows loading state during login[90m 5[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m LoginForm[2m > [22mincludes forgot password and register links[90m 4[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m LoginForm[2m > [22mclears error when switching between login types[90m 5[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[90mstdout[2m | tests/unit/components/features/tailors/FavoriteButton.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  specify custom .env file path with { path: '/custom/path/.env' }

[90mstderr[2m | tests/unit/components/features/tailors/FavoriteButton.test.tsx[2m > [22m[2mFavoriteButton[2m > [22m[2mClick Handling[2m > [22m[2mshould call toggleFavorite when clicked
[22m[39mAn update to FavoriteButton inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/unit/components/features/tailors/FavoriteButton.test.tsx[2m > [22m[2mFavoriteButton[2m > [22m[2mClick Handling[2m > [22m[2mshould prevent event propagation when clicked
[22m[39mAn update to FavoriteButton inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32m✓[39m tests/unit/components/features/tailors/FavoriteButton.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[33m 580[2mms[22m[39m
[90mstdout[2m | tests/unit/components/features/milestones/MilestoneProgress.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com

 [31m❯[39m tests/unit/components/features/milestones/MilestoneProgress.test.tsx [2m([22m[2m15 tests[22m[2m | [22m[31m5 failed[39m[2m)[22m[33m 1302[2mms[22m[39m
[31m   [31m×[31m MilestoneProgress Component[2m > [22mhighlights current milestone correctly[90m 114[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: Cutting Started

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[31m
  [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
[36m>[31m
  [0mCutting Started[0m
[36m</p>[31m

Ignored nodes: comments, script, style
[36m<h4[31m
  [33mclass[31m=[32m"font-medium text-primary"[31m
[36m>[31m
  [0mCutting Started[0m
[36m</h4>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
      [36m>[31m
        [36m<h3[31m
          [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[31m
        [36m>[31m
          [36m<span>[31m
            [0mProgress Tracking[0m
          [36m</span>[31m
          [36m<div[31m
            [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground text-sm"[31m
          [36m>[31m
            [0m1[0m
            [0m of [0m
            [0m7[0m
            [0m Complete[0m
          [36m</div>[31m
        [36m</h3>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-2"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex justify-between text-sm text-muted-foreground"[31m
          [36m>[31m
            [36m<span>[31m
              [0mOverall Progress[0m
            [36m</span>[31m
            [36m<span>[31m
              [0m14[0m
              [0m%[0m
            [36m</span>[31m
          [36m</div>[31m
          [36m<div[31m
            [33maria-valuemax[31m=[32m"100"[31m
            [33maria-valuemin[31m=[32m"0"[31m
            [33mclass[31m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[31m
            [33mdata-max[31m=[32m"100"[31m
            [33mdata-state[31m=[32m"indeterminate"[31m
            [33mrole[31m=[32m"progressbar"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"h-full w-full flex-1 bg-primary transition-all"[31m
              [33mdata-max[31m=[32m"100"[31m
              [33mdata-state[31m=[32m"indeterminate"[31m
              [33mstyle[31m=[32m"transform: translateX(-85.71428571428572%);"[31m
            [36m/>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"p-6 pt-0 space-y-4"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-4 bg-muted rounded-lg"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-3"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"p-2 rounded-full text-white bg-orange-500"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-camera h-4 w-4"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"13"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</div>[31m
            [36m<div>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"font-medium"[31m
              [36m>[31m
                [0mCurrent Stage[0m
              [36m</h3>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mCutting Started[0m
              [36m</p>[31m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-3"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-4 p-3 rounded-lg border transition-colors bg-green-50 border-green-200"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-shrink-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-green-500 text-white"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-check h-4 w-4"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M20 6 9 17l-5-5"[31m
                  [36m/>[31m
                [36m</svg>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-1 min-w-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center gap-2"[31m
              [36m>[31m
                [36m<h4[31m
                  [33mclass[31m=[32m"font-medium"[31m
                [36m>[31m
                  [0mFabric Selection[0m
                [36m</h4>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-check h-4 w-4 text-green-600"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[...[39m
[31m   [31m×[31m MilestoneProgress Component[2m > [22mshows rejected milestone with rejected badge[90m 94[2mms[22m[31m[39m
[31m     → [2mexpect([22m[31melement[31m[2m).toHaveClass([22m[32m[32m"bg-red-500 text-red-foreground"[32m[31m[2m)[22m

Expected the element to have class:
[32m  bg-red-500 text-red-foreground[31m
Received:
[31m  inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80[31m[39m
[31m   [31m×[31m MilestoneProgress Component[2m > [22mshows next step information when not at final milestone[90m 87[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: Tailor has begun cutting the fabric

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[31m
  [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
[36m>[31m
  [0mTailor has begun cutting the fabric[0m
[36m</p>[31m

Ignored nodes: comments, script, style
[36m<p[31m
  [33mclass[31m=[32m"text-sm text-blue-700 mt-1"[31m
[36m>[31m
  [0mTailor has begun cutting the fabric[0m
[36m</p>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
      [36m>[31m
        [36m<h3[31m
          [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[31m
        [36m>[31m
          [36m<span>[31m
            [0mProgress Tracking[0m
          [36m</span>[31m
          [36m<div[31m
            [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground text-sm"[31m
          [36m>[31m
            [0m0[0m
            [0m of [0m
            [0m7[0m
            [0m Complete[0m
          [36m</div>[31m
        [36m</h3>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-2"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex justify-between text-sm text-muted-foreground"[31m
          [36m>[31m
            [36m<span>[31m
              [0mOverall Progress[0m
            [36m</span>[31m
            [36m<span>[31m
              [0m0[0m
              [0m%[0m
            [36m</span>[31m
          [36m</div>[31m
          [36m<div[31m
            [33maria-valuemax[31m=[32m"100"[31m
            [33maria-valuemin[31m=[32m"0"[31m
            [33mclass[31m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[31m
            [33mdata-max[31m=[32m"100"[31m
            [33mdata-state[31m=[32m"indeterminate"[31m
            [33mrole[31m=[32m"progressbar"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"h-full w-full flex-1 bg-primary transition-all"[31m
              [33mdata-max[31m=[32m"100"[31m
              [33mdata-state[31m=[32m"indeterminate"[31m
              [33mstyle[31m=[32m"transform: translateX(-100%);"[31m
            [36m/>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"p-6 pt-0 space-y-4"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-4 bg-muted rounded-lg"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-3"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"p-2 rounded-full text-white bg-orange-500"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-camera h-4 w-4"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"13"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</div>[31m
            [36m<div>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"font-medium"[31m
              [36m>[31m
                [0mCurrent Stage[0m
              [36m</h3>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mCutting Started[0m
              [36m</p>[31m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-3"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-4 p-3 rounded-lg border transition-colors"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-shrink-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-gray-200 text-gray-600"[31m
              [36m>[31m
                [0m1[0m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-1 min-w-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center gap-2"[31m
              [36m>[31m
                [36m<h4[31m
                  [33mclass[31m=[32m"font-medium"[31m
                [36m>[31m
                  [0mFabric Selection[0m
                [36m</h4>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"h-4 w-4 rounded-full border-2 border-gray-300"[31m
                [36m/>[31m
              [36m</div>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mCustomer has selected and approved fabric[0m
              [36m</p>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-shrink-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-gray-500"[31m
              [36m>[31m
                [0mNot Started[0m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-4 p-3 rounded-lg border transition-colors border-primary bg-primary/5"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-shrink-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-gray-200 text-gray-600 ring-2 ring-primary ring-offset-2"[31m
              [36m>[31m
                [0m2[0m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-1 min-w-0"[31m
            [36m>[31m
              [...[39m
[31m   [31m×[31m MilestoneProgress Component[2m > [22mdisplays all milestone types in correct order[90m 98[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: Cutting Started

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[31m
  [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
[36m>[31m
  [0mCutting Started[0m
[36m</p>[31m

Ignored nodes: comments, script, style
[36m<h4[31m
  [33mclass[31m=[32m"font-medium text-primary"[31m
[36m>[31m
  [0mCutting Started[0m
[36m</h4>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
      [36m>[31m
        [36m<h3[31m
          [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[31m
        [36m>[31m
          [36m<span>[31m
            [0mProgress Tracking[0m
          [36m</span>[31m
          [36m<div[31m
            [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground text-sm"[31m
          [36m>[31m
            [0m0[0m
            [0m of [0m
            [0m7[0m
            [0m Complete[0m
          [36m</div>[31m
        [36m</h3>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-2"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex justify-between text-sm text-muted-foreground"[31m
          [36m>[31m
            [36m<span>[31m
              [0mOverall Progress[0m
            [36m</span>[31m
            [36m<span>[31m
              [0m0[0m
              [0m%[0m
            [36m</span>[31m
          [36m</div>[31m
          [36m<div[31m
            [33maria-valuemax[31m=[32m"100"[31m
            [33maria-valuemin[31m=[32m"0"[31m
            [33mclass[31m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[31m
            [33mdata-max[31m=[32m"100"[31m
            [33mdata-state[31m=[32m"indeterminate"[31m
            [33mrole[31m=[32m"progressbar"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"h-full w-full flex-1 bg-primary transition-all"[31m
              [33mdata-max[31m=[32m"100"[31m
              [33mdata-state[31m=[32m"indeterminate"[31m
              [33mstyle[31m=[32m"transform: translateX(-100%);"[31m
            [36m/>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"p-6 pt-0 space-y-4"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-4 bg-muted rounded-lg"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-3"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"p-2 rounded-full text-white bg-orange-500"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-camera h-4 w-4"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"13"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</div>[31m
            [36m<div>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"font-medium"[31m
              [36m>[31m
                [0mCurrent Stage[0m
              [36m</h3>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mCutting Started[0m
              [36m</p>[31m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-3"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-4 p-3 rounded-lg border transition-colors"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-shrink-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-gray-200 text-gray-600"[31m
              [36m>[31m
                [0m1[0m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-1 min-w-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center gap-2"[31m
              [36m>[31m
                [36m<h4[31m
                  [33mclass[31m=[32m"font-medium"[31m
                [36m>[31m
                  [0mFabric Selection[0m
                [36m</h4>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"h-4 w-4 rounded-full border-2 border-gray-300"[31m
                [36m/>[31m
              [36m</div>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mCustomer has selected and approved fabric[0m
              [36m</p>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-shrink-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-gray-500"[31m
              [36m>[31m
                [0mNot Started[0m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-4 p-3 rounded-lg border transition-colors border-primary bg-primary/5"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-shrink-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-gray-200 text-gray-600 ring-2 ring-primary ring-offset-2"[31m
              [36m>[31m
                [0m2[0m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-1 min-w-0"[31m
            [36m>[31m
              [...[39m
[31m   [31m×[31m MilestoneProgress Component[2m > [22mshows proper styling for current milestone with ring indicator[90m 75[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: Cutting Started

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[31m
  [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
[36m>[31m
  [0mCutting Started[0m
[36m</p>[31m

Ignored nodes: comments, script, style
[36m<h4[31m
  [33mclass[31m=[32m"font-medium text-primary"[31m
[36m>[31m
  [0mCutting Started[0m
[36m</h4>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
      [36m>[31m
        [36m<h3[31m
          [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[31m
        [36m>[31m
          [36m<span>[31m
            [0mProgress Tracking[0m
          [36m</span>[31m
          [36m<div[31m
            [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground text-sm"[31m
          [36m>[31m
            [0m0[0m
            [0m of [0m
            [0m7[0m
            [0m Complete[0m
          [36m</div>[31m
        [36m</h3>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-2"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex justify-between text-sm text-muted-foreground"[31m
          [36m>[31m
            [36m<span>[31m
              [0mOverall Progress[0m
            [36m</span>[31m
            [36m<span>[31m
              [0m0[0m
              [0m%[0m
            [36m</span>[31m
          [36m</div>[31m
          [36m<div[31m
            [33maria-valuemax[31m=[32m"100"[31m
            [33maria-valuemin[31m=[32m"0"[31m
            [33mclass[31m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[31m
            [33mdata-max[31m=[32m"100"[31m
            [33mdata-state[31m=[32m"indeterminate"[31m
            [33mrole[31m=[32m"progressbar"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"h-full w-full flex-1 bg-primary transition-all"[31m
              [33mdata-max[31m=[32m"100"[31m
              [33mdata-state[31m=[32m"indeterminate"[31m
              [33mstyle[31m=[32m"transform: translateX(-100%);"[31m
            [36m/>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"p-6 pt-0 space-y-4"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-4 bg-muted rounded-lg"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-3"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"p-2 rounded-full text-white bg-orange-500"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-camera h-4 w-4"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"13"[31m
                  [33mr[31m=[32m"3"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</div>[31m
            [36m<div>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"font-medium"[31m
              [36m>[31m
                [0mCurrent Stage[0m
              [36m</h3>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mCutting Started[0m
              [36m</p>[31m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-3"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-4 p-3 rounded-lg border transition-colors"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-shrink-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-gray-200 text-gray-600"[31m
              [36m>[31m
                [0m1[0m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-1 min-w-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center gap-2"[31m
              [36m>[31m
                [36m<h4[31m
                  [33mclass[31m=[32m"font-medium"[31m
                [36m>[31m
                  [0mFabric Selection[0m
                [36m</h4>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"h-4 w-4 rounded-full border-2 border-gray-300"[31m
                [36m/>[31m
              [36m</div>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mCustomer has selected and approved fabric[0m
              [36m</p>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-shrink-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-gray-500"[31m
              [36m>[31m
                [0mNot Started[0m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-4 p-3 rounded-lg border transition-colors border-primary bg-primary/5"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-shrink-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-gray-200 text-gray-600 ring-2 ring-primary ring-offset-2"[31m
              [36m>[31m
                [0m2[0m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex-1 min-w-0"[31m
            [36m>[31m
              [...[39m
[90mstdout[2m | tests/unit/components/features/orders/OrderCreationWizard.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  enable debug logging with { debug: true }

[90mstderr[2m | tests/unit/components/AdminDisputeDashboard.test.tsx[2m > [22m[2mAdminDisputeDashboard[2m > [22m[2mshows loading state
[22m[39mAn update to AdminDisputeDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to AdminDisputeDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to AdminDisputeDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to AdminDisputeDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to AdminDisputeDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/unit/components/AdminDisputeDashboard.test.tsx[2m > [22m[2mAdminDisputeDashboard[2m > [22m[2mapplies custom className
[22m[39mAn update to AdminDisputeDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to AdminDisputeDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to AdminDisputeDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to AdminDisputeDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to AdminDisputeDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [31m❯[39m tests/unit/components/AdminDisputeDashboard.test.tsx [2m([22m[2m15 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[33m 11205[2mms[22m[39m
   [33m[2m✓[22m[39m AdminDisputeDashboard[2m > [22mrenders dashboard with header and stats [33m698[2mms[22m[39m
   [33m[2m✓[22m[39m AdminDisputeDashboard[2m > [22mrenders dispute list [33m385[2mms[22m[39m
[31m   [31m×[31m AdminDisputeDashboard[2m > [22mdisplays dispute priority and status badges[33m 1238[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: HIGH. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6 test-class"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-center justify-between"[31m
      [36m>[31m
        [36m<div>[31m
          [36m<h1[31m
            [33mclass[31m=[32m"text-2xl font-bold text-gray-900"[31m
          [36m>[31m
            [0mDispute Management[0m
          [36m</h1>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-gray-600"[31m
          [36m>[31m
            [0mManage and resolve customer disputes efficiently[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center space-x-2"[31m
        [36m>[31m
          [36m<button[31m
            [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-download h-4 w-4 mr-2"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M12 15V3"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"m7 10 5 5 5-5"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mExport[0m
          [36m</button>[31m
          [36m<button[31m
            [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-refresh-cw h-4 w-4 mr-2"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M21 3v5h-5"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M8 16H3v5"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mRefresh[0m
          [36m</button>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center space-x-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-file-text h-5 w-5 text-blue-500"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M10 9H8"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M16 13H8"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M16 17H8"[31m
              [36m/>[31m
            [36m</svg>[31m
            [36m<div>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm font-medium text-gray-600"[31m
              [36m>[31m
                [0mTotal Disputes[0m
              [36m</p>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-2xl font-bold"[31m
              [36m>[31m
                [0m25[0m
              [36m</p>[31m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center space-x-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-triangle-alert h-5 w-5 text-yellow-500"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[3...

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-6 test-class"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center justify-between"[31m
        [36m>[31m
          [36m<div>[31m
            [36m<h1[31m
              [33mclass[31m=[32m"text-2xl font-bold text-gray-900"[31m
            [36m>[31m
              [0mDispute Management[0m
            [36m</h1>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-gray-600"[31m
            [36m>[31m
              [0mManage and resolve customer disputes efficiently[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center space-x-2"[31m
          [36m>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-download h-4 w-4 mr-2"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M12 15V3"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"m7 10 5 5 5-5"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mExport[0m
            [36m</button>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-refresh-cw h-4 w-4 mr-2"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M21 3v5h-5"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M8 16H3v5"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mRefresh[0m
            [36m</button>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center space-x-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-file-text h-5 w-5 text-blue-500"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M10 9H8"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M16 13H8"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M16 17H8"[31m
                [36m/>[31m
              [36m</svg>[31m
              [36m<div>[31m
                [36m<p[31m
                  [33mclass[31m=[32m"text-sm font-medium text-gray-600"[31m
                [36m>[31m
                  [0mTotal Disputes[0m
                [36m</p>[31m
                [36m<p[31m
                  [33mclass[31m=[32m"text-2xl font-bold"[31m
                [36m>[31m
                  [0m25[0m
                [36m</p>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center space-x-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
           ...[39m
[31m   [31m×[31m AdminDisputeDashboard[2m > [22mshows overdue styling for overdue disputes[33m 1261[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: Overdue

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[31m
  [33mclass[31m=[32m"text-sm font-medium text-gray-600"[31m
[36m>[31m
  [0mOverdue[0m
[36m</p>[31m

Ignored nodes: comments, script, style
[36m<button[31m
  [33maria-controls[31m=[32m"radix-«r1o»-content-overdue"[31m
  [33maria-selected[31m=[32m"false"[31m
  [33mclass[31m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[31m
  [33mdata-orientation[31m=[32m"horizontal"[31m
  [33mdata-radix-collection-item[31m=[32m""[31m
  [33mdata-state[31m=[32m"inactive"[31m
  [33mid[31m=[32m"radix-«r1o»-trigger-overdue"[31m
  [33mrole[31m=[32m"tab"[31m
  [33mtabindex[31m=[32m"-1"[31m
  [33mtype[31m=[32m"button"[31m
[36m>[31m
  [0mOverdue[0m
[36m</button>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6 test-class"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-center justify-between"[31m
      [36m>[31m
        [36m<div>[31m
          [36m<h1[31m
            [33mclass[31m=[32m"text-2xl font-bold text-gray-900"[31m
          [36m>[31m
            [0mDispute Management[0m
          [36m</h1>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-gray-600"[31m
          [36m>[31m
            [0mManage and resolve customer disputes efficiently[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center space-x-2"[31m
        [36m>[31m
          [36m<button[31m
            [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-download h-4 w-4 mr-2"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M12 15V3"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"m7 10 5 5 5-5"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mExport[0m
          [36m</button>[31m
          [36m<button[31m
            [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-refresh-cw h-4 w-4 mr-2"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M21 3v5h-5"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M8 16H3v5"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mRefresh[0m
          [36m</button>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center space-x-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-file-text h-5 w-5 text-blue-500"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M10 9H8"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M16 13H8"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M16 17H8"[31m
              [36m/>[31m
            [36m</svg>[31m
            [36m<div>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm font-medium text-gray-600"[31m
              [36m>[31m
                [0mTotal Disputes[0m
              [36m</p>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-2xl font-bold"[31m
              [36m>[31m
                [0m25[0m
              [36m</p>[31m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center space-x-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-triangle-alert h-5 w-5 text-yellow-500"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[3...

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-6 test-class"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center justify-between"[31m
        [36m>[31m
          [36m<div>[31m
            [36m<h1[31m
              [33mclass[31m=[32m"text-2xl font-bold text-gray-900"[31m
            [36m>[31m
              [0mDispute Management[0m
            [36m</h1>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-gray-600"[31m
            [36m>[31m
              [0mManage and resolve customer disputes efficiently[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center space-x-2"[31m
          [36m>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-download h-4 w-4 mr-2"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M12 15V3"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"m7 10 5 5 5-5"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mExport[0m
            [36m</button>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-refresh-cw h-4 w-4 mr-2"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M21 3v5h-5"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M8 16H3v5"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mRefresh[0m
            [36m</button>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center space-x-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-file-text h-5 w-5 text-blue-500"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M10 9H8"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M16 13H8"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M16 17H8"[31m
                [36m/>[31m
              [36m</svg>[31m
              [36m<div>[31m
                [36m<p[31m
                  [33mclass[31m=[32m"text-sm font-medium text-gray-600"[31m
                [36m>[31m
                  [0mTotal Disputes[0m
                [36m</p>[31m
                [36m<p[31m
                  [33mclass[31m=[32m"text-2xl font-bold"[31m
                [36m>[31m
                  [0m25[0m
                [36m</p>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center space-x-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
           ...[39m
   [33m[2m✓[22m[39m AdminDisputeDashboard[2m > [22mdisplays message and evidence counts [33m405[2mms[22m[39m
   [33m[2m✓[22m[39m AdminDisputeDashboard[2m > [22mhandles search functionality [33m3346[2mms[22m[39m
[31m   [31m×[31m AdminDisputeDashboard[2m > [22mhandles filter changes[33m 458[2mms[22m[31m[39m
[31m     → Unable to perform pointer interaction as the element has `pointer-events: none`:

SPAN[39m
[31m   [31m×[31m AdminDisputeDashboard[2m > [22mhandles tab switching[33m 492[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: Overdue

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[31m
  [33mclass[31m=[32m"text-sm font-medium text-gray-600"[31m
[36m>[31m
  [0mOverdue[0m
[36m</p>[31m

Ignored nodes: comments, script, style
[36m<button[31m
  [33maria-controls[31m=[32m"radix-«r40»-content-overdue"[31m
  [33maria-selected[31m=[32m"false"[31m
  [33mclass[31m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[31m
  [33mdata-orientation[31m=[32m"horizontal"[31m
  [33mdata-radix-collection-item[31m=[32m""[31m
  [33mdata-state[31m=[32m"inactive"[31m
  [33mid[31m=[32m"radix-«r40»-trigger-overdue"[31m
  [33mrole[31m=[32m"tab"[31m
  [33mtabindex[31m=[32m"-1"[31m
  [33mtype[31m=[32m"button"[31m
[36m>[31m
  [0mOverdue[0m
[36m</button>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6 test-class"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-center justify-between"[31m
      [36m>[31m
        [36m<div>[31m
          [36m<h1[31m
            [33mclass[31m=[32m"text-2xl font-bold text-gray-900"[31m
          [36m>[31m
            [0mDispute Management[0m
          [36m</h1>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-gray-600"[31m
          [36m>[31m
            [0mManage and resolve customer disputes efficiently[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex items-center space-x-2"[31m
        [36m>[31m
          [36m<button[31m
            [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-download h-4 w-4 mr-2"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M12 15V3"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"m7 10 5 5 5-5"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mExport[0m
          [36m</button>[31m
          [36m<button[31m
            [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-refresh-cw h-4 w-4 mr-2"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M21 3v5h-5"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M8 16H3v5"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mRefresh[0m
          [36m</button>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center space-x-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-file-text h-5 w-5 text-blue-500"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M10 9H8"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M16 13H8"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M16 17H8"[31m
              [36m/>[31m
            [36m</svg>[31m
            [36m<div>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm font-medium text-gray-600"[31m
              [36m>[31m
                [0mTotal Disputes[0m
              [36m</p>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-2xl font-bold"[31m
              [36m>[31m
                [0m25[0m
              [36m</p>[31m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center space-x-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-triangle-alert h-5 w-5 text-yellow-500"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[3...[39m
   [33m[2m✓[22m[39m AdminDisputeDashboard[2m > [22mhandles dispute selection [33m433[2mms[22m[39m
   [33m[2m✓[22m[39m AdminDisputeDashboard[2m > [22mhandles dispute assignment [33m477[2mms[22m[39m
   [33m[2m✓[22m[39m AdminDisputeDashboard[2m > [22mhandles refresh action [33m638[2mms[22m[39m
   [33m[2m✓[22m[39m AdminDisputeDashboard[2m > [22mshows empty state when no disputes [33m463[2mms[22m[39m
   [33m[2m✓[22m[39m AdminDisputeDashboard[2m > [22mhandles API errors [33m442[2mms[22m[39m
[90mstdout[2m | tests/unit/api/orders/reorder.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 prevent committing .env to code: https://dotenvx.com/precommit

[90mstdout[2m | tests/unit/api/tailors/search.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  load multiple .env files with { path: ['.env.local', '.env'] }

[90mstderr[2m | tests/unit/api/orders/reorder.test.ts[2m > [22m[2mPOST /api/orders/reorder[2m > [22m[2mshould return 404 when original order not found
[22m[39mPOST /api/orders/reorder error: Error: Order not found
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\orders\reorder.test.ts:159:7
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/api/orders/reorder.test.ts[2m > [22m[2mPOST /api/orders/reorder[2m > [22m[2mshould return 400 when order cannot be reordered
[22m[39mPOST /api/orders/reorder error: Error: Cannot reorder: Only completed orders can be reordered
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\orders\reorder.test.ts:183:7
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/api/orders/reorder.test.ts[2m > [22m[2mPOST /api/orders/reorder[2m > [22m[2mshould return 409 when tailor not available
[22m[39mPOST /api/orders/reorder error: Error: Tailor is not available: Tailor is at capacity
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\orders\reorder.test.ts:207:7
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/api/orders/reorder.test.ts[2m > [22m[2mPOST /api/orders/reorder[2m > [22m[2mshould return 500 for unexpected errors
[22m[39mPOST /api/orders/reorder error: Error: Database connection failed
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\orders\reorder.test.ts:291:7
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

 [32m✓[39m tests/unit/api/orders/reorder.test.ts [2m([22m[2m11 tests[22m[2m)[22m[90m 79[2mms[22m[39m
[90mstdout[2m | tests/unit/api/loyalty/redeem.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 prevent building .env in docker: https://dotenvx.com/prebuild

[90mstderr[2m | tests/unit/api/tailors/search.test.ts[2m > [22m[2m/api/tailors/search[2m > [22m[2mGET[2m > [22m[2mshould return 400 for invalid parameters
[22m[39mSearch API error: ZodError: [
  {
    "code": "too_big",
    "maximum": 5,
    "type": "number",
    "inclusive": true,
    "exact": false,
    "message": "Number must be less than or equal to 5",
    "path": [
      "minRating"
    ]
  }
]
    at Object.get error [as error] (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/zod@3.22.3/node_modules/[4mzod[24m/lib/index.mjs:538:31)
    at ZodEffects.parse (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/zod@3.22.3/node_modules/[4mzod[24m/lib/index.mjs:638:22)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:98:47[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:182:24
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15) {
  issues: [
    {
      code: [32m'too_big'[39m,
      maximum: [33m5[39m,
      type: [32m'number'[39m,
      inclusive: [33mtrue[39m,
      exact: [33mfalse[39m,
      message: [32m'Number must be less than or equal to 5'[39m,
      path: [36m[Array][39m
    }
  ],
  addIssue: [36m[Function (anonymous)][39m,
  addIssues: [36m[Function (anonymous)][39m,
  errors: [
    {
      code: [32m'too_big'[39m,
      maximum: [33m5[39m,
      type: [32m'number'[39m,
      inclusive: [33mtrue[39m,
      exact: [33mfalse[39m,
      message: [32m'Number must be less than or equal to 5'[39m,
      path: [36m[Array][39m
    }
  ]
}

[90mstderr[2m | tests/unit/api/tailors/search.test.ts[2m > [22m[2m/api/tailors/search[2m > [22m[2mGET[2m > [22m[2mshould handle search service errors
[22m[39mSearch API error: Error: Database connection failed
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:194:43
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)

[90mstderr[2m | tests/unit/api/tailors/search.test.ts[2m > [22m[2m/api/tailors/search[2m > [22m[2mGET[2m > [22m[2mshould apply rate limiting
[22m[39mSearch API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
Search API error: TypeError: data is not JSON serializable
    at Function.json (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/happy-dom@18.0.1/node_modules/[4mhappy-dom[24m/src/fetch/Response.ts:409:10)
    at Function.json (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\web\spec-extension\response.ts:113:41)
    at GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\search\route.ts:108:35[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\search.test.ts:219:26
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

 [32m✓[39m tests/unit/api/tailors/search.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 344[2mms[22m[39m
[90mstdout[2m | tests/unit/components/features/orders/GarmentTypeSelection.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com

 [31m❯[39m tests/unit/components/features/orders/GarmentTypeSelection.test.tsx [2m([22m[2m0 test[22m[2m)[22m
 [31m❯[39m tests/unit/api/loyalty/redeem.test.ts [2m([22m[2m10 tests[22m[2m | [22m[31m10 failed[39m[2m)[22m[90m 68[2mms[22m[39m
[31m   [31m×[31m POST /api/loyalty/redeem[2m > [22mshould successfully redeem reward with sufficient points[90m 27[2mms[22m[31m[39m
[31m     → Cannot read properties of undefined (reading 'get')[39m
[31m   [31m×[31m POST /api/loyalty/redeem[2m > [22mshould return 401 when user not authenticated[90m 9[2mms[22m[31m[39m
[31m     → Cannot read properties of undefined (reading 'get')[39m
[31m   [31m×[31m POST /api/loyalty/redeem[2m > [22mshould return 400 when rewardId missing[90m 3[2mms[22m[31m[39m
[31m     → Cannot read properties of undefined (reading 'get')[39m
[31m   [31m×[31m POST /api/loyalty/redeem[2m > [22mshould return 400 when user has insufficient points[90m 5[2mms[22m[31m[39m
[31m     → Cannot read properties of undefined (reading 'get')[39m
[31m   [31m×[31m POST /api/loyalty/redeem[2m > [22mshould return 404 when reward not found[90m 4[2mms[22m[31m[39m
[31m     → Cannot read properties of undefined (reading 'get')[39m
[31m   [31m×[31m POST /api/loyalty/redeem[2m > [22mshould return 410 when reward is no longer active[90m 3[2mms[22m[31m[39m
[31m     → Cannot read properties of undefined (reading 'get')[39m
[31m   [31m×[31m POST /api/loyalty/redeem[2m > [22mshould handle orderId as optional parameter[90m 4[2mms[22m[31m[39m
[31m     → Cannot read properties of undefined (reading 'get')[39m
[31m   [31m×[31m POST /api/loyalty/redeem[2m > [22mshould return discount details when reward has fixed amount[90m 2[2mms[22m[31m[39m
[31m     → Cannot read properties of undefined (reading 'get')[39m
[31m   [31m×[31m POST /api/loyalty/redeem[2m > [22mshould return null discount for non-discount rewards[90m 3[2mms[22m[31m[39m
[31m     → Cannot read properties of undefined (reading 'get')[39m
[31m   [31m×[31m POST /api/loyalty/redeem[2m > [22mshould return 500 for unexpected errors[90m 3[2mms[22m[31m[39m
[31m     → Cannot read properties of undefined (reading 'get')[39m
[90mstdout[2m | tests/unit/components/features/tailors/GroupOrderMessaging.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🗂️ backup and recover secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/components/auth/RegistrationForm.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 prevent building .env in docker: https://dotenvx.com/prebuild

 [32m✓[39m tests/unit/components/features/orders/OrderCreationWizard.test.tsx [2m([22m[2m11 tests[22m[2m)[22m[33m 1873[2mms[22m[39m
   [33m[2m✓[22m[39m OrderCreationWizard[2m > [22mrenders the order creation wizard [33m322[2mms[22m[39m
   [33m[2m✓[22m[39m OrderCreationWizard[2m > [22mproceeds to next step when validation passes [33m378[2mms[22m[39m
[90mstdout[2m | tests/unit/lib/services/cache.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  suppress all logs with { quiet: true }

 [31m❯[39m tests/unit/components/features/tailors/GroupOrderMessaging.test.tsx [2m([22m[2m15 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[33m 2044[2mms[22m[39m
[31m   [31m×[31m GroupOrderMessaging[2m > [22mrenders with participants[90m 280[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: 2 participants. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6 "[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-message-square h-5 w-5"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mGroup Order Messaging[0m
          [36m</h3>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
          [36m>[31m
            [0mCommunicate with all participants or send individual messages[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-6 pt-0"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-4"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-users h-5 w-5 text-muted-foreground"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M16 3.128a4 4 0 0 1 0 7.744"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M22 21v-2a4 4 0 0 0-3-3.87"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"9"[31m
                  [33mcy[31m=[32m"7"[31m
                  [33mr[31m=[32m"4"[31m
                [36m/>[31m
              [36m</svg>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm"[31m
              [36m>[31m
                [36m<strong>[31m
                  [0m2[0m
                [36m</strong>[31m
                [0m participants[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-smartphone h-3 w-3 mr-1"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<rect[31m
                  [33mheight[31m=[32m"20"[31m
                  [33mrx[31m=[32m"2"[31m
                  [33mry[31m=[32m"2"[31m
                  [33mwidth[31m=[32m"14"[31m
                  [33mx[31m=[32m"5"[31m
                  [33my[31m=[32m"2"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M12 18h.01"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mWhatsApp Enabled[0m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mdata-orientation[31m=[32m"horizontal"[31m
        [33mdir[31m=[32m"ltr"[31m
      [36m>[31m
        [36m<div[31m
          [33maria-orientation[31m=[32m"horizontal"[31m
          [33mclass[31m=[32m"h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-2"[31m
          [33mdata-orientation[31m=[32m"horizontal"[31m
          [33mrole[31m=[32m"tablist"[31m
          [33mstyle[31m=[32m"outline-color: none; outline-style: none; outline-width: initial;"[31m
          [33mtabindex[31m=[32m"0"[31m
        [36m>[31m
          [36m<button[31m
            [33maria-controls[31m=[32m"radix-«r0»-content-broadcast"[31m
            [33maria-selected[31m=[32m"true"[31m
            [33mclass[31m=[32m"justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm flex items-center gap-2"[31m
            [33mdata-orientation[31m=[32m"horizontal"[31m
            [33mdata-radix-collection-item[31m=[32m""[31m
            [33mdata-state[31m=[32m"active"[31m
            [33mid[31m=[32m"radix-«r0»-trigger-broadcast"[31m
            [33mrole[31m=[32m"tab"[31m
            [33mtabindex[31m=[32m"-1"[31m
            [33mtype[31m=[32m"button"[31m
          [36m>[31m
            [36m<svg[31m
         ...[39m
[31m   [31m×[31m GroupOrderMessaging[2m > [22mshows recipient selector in individual mode[90m 125[2mms[22m[31m[39m
[31m     → Unable to find a label with the text of: /Select Recipient/i

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6 "[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-message-square h-5 w-5"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mGroup Order Messaging[0m
          [36m</h3>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
          [36m>[31m
            [0mCommunicate with all participants or send individual messages[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-6 pt-0"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-4"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-users h-5 w-5 text-muted-foreground"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M16 3.128a4 4 0 0 1 0 7.744"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M22 21v-2a4 4 0 0 0-3-3.87"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"9"[31m
                  [33mcy[31m=[32m"7"[31m
                  [33mr[31m=[32m"4"[31m
                [36m/>[31m
              [36m</svg>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm"[31m
              [36m>[31m
                [36m<strong>[31m
                  [0m2[0m
                [36m</strong>[31m
                [0m participants[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-smartphone h-3 w-3 mr-1"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<rect[31m
                  [33mheight[31m=[32m"20"[31m
                  [33mrx[31m=[32m"2"[31m
                  [33mry[31m=[32m"2"[31m
                  [33mwidth[31m=[32m"14"[31m
                  [33mx[31m=[32m"5"[31m
                  [33my[31m=[32m"2"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M12 18h.01"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mWhatsApp Enabled[0m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mdata-orientation[31m=[32m"horizontal"[31m
        [33mdir[31m=[32m"ltr"[31m
      [36m>[31m
        [36m<div[31m
          [33maria-orientation[31m=[32m"horizontal"[31m
          [33mclass[31m=[32m"h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-2"[31m
          [33mdata-orientation[31m=[32m"horizontal"[31m
          [33mrole[31m=[32m"tablist"[31m
          [33mstyle[31m=[32m"outline-color: none; outline-style: none; outline-width: initial;"[31m
          [33mtabindex[31m=[32m"0"[31m
        [36m>[31m
          [36m<button[31m
            [33maria-controls[31m=[32m"radix-«r9»-content-broadcast"[31m
            [33maria-selected[31m=[32m"true"[31m
            [33mclass[31m=[32m"justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm flex items-center gap-2"[31m
            [33mdata-orientation[31m=[32m"horizontal"[31m
            [33mdata-radix-collection-item[31m=[32m""[31m
            [33mdata-state[31m=[32m"active"[31m
            [33mid[31m=[32m"radix-«r9»-trigger-broadcast"[31m
            [33mrole[31m=[32m"tab"[31m
            [33mtabindex[31m=[32m"-1"[31m
            [33mtype[31m=[32m"button"[31m
          [36m>[31m
            [36m<svg[31m
         ...[39m
[31m   [31m×[31m GroupOrderMessaging[2m > [22mallows switching between WhatsApp and SMS[90m 120[2mms[22m[31m[39m
[31m     → Found multiple elements with the role "button" and name `/WhatsApp/i`

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<button[31m
  [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2 flex-1"[31m
[36m>[31m
  [36m<svg[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mclass[31m=[32m"lucide lucide-smartphone h-4 w-4 mr-2"[31m
    [33mfill[31m=[32m"none"[31m
    [33mheight[31m=[32m"24"[31m
    [33mstroke[31m=[32m"currentColor"[31m
    [33mstroke-linecap[31m=[32m"round"[31m
    [33mstroke-linejoin[31m=[32m"round"[31m
    [33mstroke-width[31m=[32m"2"[31m
    [33mviewBox[31m=[32m"0 0 24 24"[31m
    [33mwidth[31m=[32m"24"[31m
    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
  [36m>[31m
    [36m<rect[31m
      [33mheight[31m=[32m"20"[31m
      [33mrx[31m=[32m"2"[31m
      [33mry[31m=[32m"2"[31m
      [33mwidth[31m=[32m"14"[31m
      [33mx[31m=[32m"5"[31m
      [33my[31m=[32m"2"[31m
    [36m/>[31m
    [36m<path[31m
      [33md[31m=[32m"M12 18h.01"[31m
    [36m/>[31m
  [36m</svg>[31m
  [0mWhatsApp[0m
[36m</button>[31m

Ignored nodes: comments, script, style
[36m<button[31m
  [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8"[31m
  [33mdisabled[31m=[32m""[31m
[36m>[31m
  [36m<svg[31m
    [33maria-hidden[31m=[32m"true"[31m
    [33mclass[31m=[32m"lucide lucide-send h-4 w-4 mr-2"[31m
    [33mfill[31m=[32m"none"[31m
    [33mheight[31m=[32m"24"[31m
    [33mstroke[31m=[32m"currentColor"[31m
    [33mstroke-linecap[31m=[32m"round"[31m
    [33mstroke-linejoin[31m=[32m"round"[31m
    [33mstroke-width[31m=[32m"2"[31m
    [33mviewBox[31m=[32m"0 0 24 24"[31m
    [33mwidth[31m=[32m"24"[31m
    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
  [36m>[31m
    [36m<path[31m
      [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
    [36m/>[31m
    [36m<path[31m
      [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
    [36m/>[31m
  [36m</svg>[31m
  [0mSend via WhatsApp[0m
[36m</button>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6 "[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-message-square h-5 w-5"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mGroup Order Messaging[0m
          [36m</h3>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
          [36m>[31m
            [0mCommunicate with all participants or send individual messages[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-6 pt-0"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center gap-4"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-users h-5 w-5 text-muted-foreground"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M16 3.128a4 4 0 0 1 0 7.744"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M22 21v-2a4 4 0 0 0-3-3.87"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"9"[31m
                  [33mcy[31m=[32m"7"[31m
                  [33mr[31m=[32m"4"[31m
                [36m/>[31m
              [36m</svg>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm"[31m
              [36m>[31m
                [36m<strong>[31m
                  [0m2[0m
                [36m</strong>[31m
                [0m participants[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-smartphone h-3 w-3 mr-1"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<rect[31m
                  [33mheight[31m=[32m"20"[31m
                  [33mrx[31m=[32m"2"[31m
                  [33mry[31m=[32m"2"[31m
                  [33mwidth[31m=[32m"14"[31m
                  [33mx[31m=[32m"5"[31m
                  [33my[31m=[32m"2"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M12 18h.01"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mWhatsApp Enabled[0m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mdata-orientation[31m=[32m"horizontal"[31m
        [33mdir[31m=[32m"ltr"[31m
      [36m>[31m
        [36m<div[31m
          [33maria-orientation[31m=[32m"horizontal"[31m
          [33mclass[31m=[32m"h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-2"[31m
          [33mdata-orientation[31m=[32m"horizontal"[31m
          [33mrole[31m=[32m"tablist"[31m
          [33mstyle[31m=[32m"outline-color: none; outline-style: none; outline-width: initial;"[31m
          [33mtabindex[31m=[32m"0"[31m
        [36m>[31m
          [36m<button[31m
            [33maria-controls[31m=[32m"radix-«ri»-content-broadcast"[31m
            [33maria-selected[31m=[32m"true"[31m
            [33mclass[31m=[32m"justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm flex items-center gap-2"[31m
            [33mdata-orientation[31m=[32m"horizontal"[31m
            [33mdata-radix-collection-item[31m=[32m""[31m
            [33mdata-state[31m=[32m"active"[31m
            [33mid[31m=[32m"radix-«ri»-trigger-broadcast"[31m
            [33mrole[31m=[32m"tab"[31m
            [33mtabindex[31m=[32m"-1"[31m
            [33mtype[31m=[32m"button"[31m
          [36m>[31m
            [36m<svg[31m
         ...[39m
[31m   [31m×[31m GroupOrderMessaging[2m > [22mrequires recipient selection for individual messages[90m 139[2mms[22m[31m[39m
[31m     → [2mexpect([22m[31melement[31m[2m).toBeDisabled()[22m

Received element is not disabled:
  [31m<button
  class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8"
/>[31m[39m
[90mstderr[2m | tests/unit/lib/services/cache.service.test.ts[2m > [22m[2mRedisCacheService[2m > [22m[2mget operations[2m > [22m[2mshould handle Redis errors gracefully
[22m[39mRedis GET error: Error: Redis connection failed
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\cache.service.test.ts:150:39
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/lib/services/cache.service.test.ts[2m > [22m[2mRedisCacheService[2m > [22m[2mget operations[2m > [22m[2mshould handle invalid JSON gracefully
[22m[39mRedis GET error: SyntaxError: Unexpected token 'i', "invalid-json{" is not valid JSON
    at JSON.parse (<anonymous>)
    at RedisCacheService.get [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\cache.service.ts:86:27[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\cache.service.test.ts:160:22
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/lib/services/cache.service.test.ts[2m > [22m[2mRedisCacheService[2m > [22m[2mset operations[2m > [22m[2mshould handle Redis set errors gracefully
[22m[39mRedis SET error: Error: Redis write failed
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\cache.service.test.ts:181:41
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

[90mstderr[2m | tests/unit/lib/services/cache.service.test.ts[2m > [22m[2mRedisCacheService[2m > [22m[2mdelete operations[2m > [22m[2mshould handle delete errors gracefully
[22m[39mRedis DELETE error: Error: Redis delete failed
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\cache.service.test.ts:206:39
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)

 [32m✓[39m tests/unit/lib/services/cache.service.test.ts [2m([22m[2m22 tests[22m[2m)[22m[90m 115[2mms[22m[39m
 [31m❯[39m tests/unit/components/auth/RegistrationForm.test.tsx [2m([22m[2m10 tests[22m[2m | [22m[31m10 failed[39m[2m)[22m[90m 134[2mms[22m[39m
[31m   [31m×[31m RegistrationForm[2m > [22mrenders all required form fields[90m 80[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m RegistrationForm[2m > [22mtoggles between email and phone input[90m 9[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m RegistrationForm[2m > [22mshows password visibility toggle[90m 5[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m RegistrationForm[2m > [22mvalidates email format[90m 5[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m RegistrationForm[2m > [22mvalidates password requirements[90m 5[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m RegistrationForm[2m > [22mvalidates password confirmation match[90m 4[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m RegistrationForm[2m > [22mrequires terms acceptance[90m 5[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m RegistrationForm[2m > [22mcalls onSuccess callback on successful submission[90m 6[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m RegistrationForm[2m > [22mswitches role between customer and tailor[90m 5[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m RegistrationForm[2m > [22mformats Ghana phone numbers correctly[90m 5[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[90mstdout[2m | tests/unit/components/auth/OTPVerification.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com

[90mstdout[2m | tests/unit/api/disputes/[id]/resolve.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com

 [31m❯[39m tests/unit/components/auth/OTPVerification.test.tsx [2m([22m[2m16 tests[22m[2m | [22m[31m16 failed[39m[2m)[22m[90m 181[2mms[22m[39m
[31m   [31m×[31m OTPVerification[2m > [22mrenders with email identifier[90m 91[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m OTPVerification[2m > [22mrenders with phone identifier[90m 4[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m OTPVerification[2m > [22mrenders 6 OTP input fields[90m 5[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m OTPVerification[2m > [22mauto-focuses the first input field[90m 5[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m OTPVerification[2m > [22mmoves focus to next input when digit is entered[90m 8[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m OTPVerification[2m > [22mmoves focus to previous input on backspace when current field is empty[90m 6[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m OTPVerification[2m > [22monly allows numeric input[90m 5[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m OTPVerification[2m > [22mhandles paste of 6-digit code[90m 4[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m OTPVerification[2m > [22mauto-submits when all 6 digits are entered[90m 4[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m OTPVerification[2m > [22mdisables verify button when OTP is incomplete[90m 4[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m OTPVerification[2m > [22menables verify button when OTP is complete[90m 3[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m OTPVerification[2m > [22mshows resend timer countdown[90m 2[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m OTPVerification[2m > [22menables resend button after timer expires[90m 3[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m OTPVerification[2m > [22mcalls onCancel when cancel button is clicked[90m 3[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m OTPVerification[2m > [22mdisplays error message when verification fails[90m 4[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m OTPVerification[2m > [22mclears OTP fields after failed verification[90m 3[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[90mstderr[2m | tests/unit/api/disputes/[id]/resolve.test.ts[2m > [22m[2m/api/disputes/[id]/resolve[2m > [22m[2mshould resolve dispute successfully with refund
[22m[39mResolve dispute error: Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at throwForMissingRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:273:9)
    at getExpectedRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:240:5)
    at Proxy.cookies (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\request\cookies.ts:132:47)
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\disputes\[id]\resolve\route.ts:24:31[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\disputes\[id]\resolve.test.ts:86:22
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

[90mstderr[2m | tests/unit/api/disputes/[id]/resolve.test.ts[2m > [22m[2m/api/disputes/[id]/resolve[2m > [22m[2mshould resolve dispute without refund
[22m[39mResolve dispute error: Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at throwForMissingRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:273:9)
    at getExpectedRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:240:5)
    at Proxy.cookies (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\request\cookies.ts:132:47)
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\disputes\[id]\resolve\route.ts:24:31[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\disputes\[id]\resolve.test.ts:133:22
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

[90mstderr[2m | tests/unit/api/disputes/[id]/resolve.test.ts[2m > [22m[2m/api/disputes/[id]/resolve[2m > [22m[2mshould return 401 for unauthenticated user
[22m[39mResolve dispute error: Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at throwForMissingRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:273:9)
    at getExpectedRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:240:5)
    at Proxy.cookies (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\request\cookies.ts:132:47)
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\disputes\[id]\resolve\route.ts:24:31[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\disputes\[id]\resolve.test.ts:155:22
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

[90mstderr[2m | tests/unit/api/disputes/[id]/resolve.test.ts[2m > [22m[2m/api/disputes/[id]/resolve[2m > [22m[2mshould return 403 for non-admin user
[22m[39mResolve dispute error: Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at throwForMissingRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:273:9)
    at getExpectedRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:240:5)
    at Proxy.cookies (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\request\cookies.ts:132:47)
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\disputes\[id]\resolve\route.ts:24:31[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\disputes\[id]\resolve.test.ts:180:22
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

[90mstderr[2m | tests/unit/api/disputes/[id]/resolve.test.ts[2m > [22m[2m/api/disputes/[id]/resolve[2m > [22m[2mshould return 400 for missing required fields
[22m[39mResolve dispute error: Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at throwForMissingRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:273:9)
    at getExpectedRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:240:5)
    at Proxy.cookies (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\request\cookies.ts:132:47)
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\disputes\[id]\resolve\route.ts:24:31[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\disputes\[id]\resolve.test.ts:203:22
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

[90mstderr[2m | tests/unit/api/disputes/[id]/resolve.test.ts[2m > [22m[2m/api/disputes/[id]/resolve[2m > [22m[2mshould return 400 for refund without amount
[22m[39mResolve dispute error: Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at throwForMissingRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:273:9)
    at getExpectedRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:240:5)
    at Proxy.cookies (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\request\cookies.ts:132:47)
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\disputes\[id]\resolve\route.ts:24:31[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\disputes\[id]\resolve.test.ts:228:22
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

[90mstderr[2m | tests/unit/api/disputes/[id]/resolve.test.ts[2m > [22m[2m/api/disputes/[id]/resolve[2m > [22m[2mshould handle resolution service errors
[22m[39mResolve dispute error: Error: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context
    at throwForMissingRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:273:9)
    at getExpectedRequestStore (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\app-render\work-unit-async-storage.external.ts:240:5)
    at Proxy.cookies (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0\node_modules\[4mnext[24m\src\server\request\cookies.ts:132:47)
    at Module.POST [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\disputes\[id]\resolve\route.ts:24:31[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\disputes\[id]\resolve.test.ts:259:22
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:5
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:11)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)

 [31m❯[39m tests/unit/api/disputes/[id]/resolve.test.ts [2m([22m[2m7 tests[22m[2m | [22m[31m7 failed[39m[2m)[22m[90m 92[2mms[22m[39m
[31m   [31m×[31m /api/disputes/[id]/resolve[2m > [22mshould resolve dispute successfully with refund[90m 69[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/disputes/[id]/resolve[2m > [22mshould resolve dispute without refund[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m /api/disputes/[id]/resolve[2m > [22mshould return 401 for unauthenticated user[90m 3[2mms[22m[31m[39m
[31m     → expected 500 to be 401 // Object.is equality[39m
[31m   [31m×[31m /api/disputes/[id]/resolve[2m > [22mshould return 403 for non-admin user[90m 3[2mms[22m[31m[39m
[31m     → expected 500 to be 403 // Object.is equality[39m
[31m   [31m×[31m /api/disputes/[id]/resolve[2m > [22mshould return 400 for missing required fields[90m 3[2mms[22m[31m[39m
[31m     → expected 500 to be 400 // Object.is equality[39m
[31m   [31m×[31m /api/disputes/[id]/resolve[2m > [22mshould return 400 for refund without amount[90m 3[2mms[22m[31m[39m
[31m     → expected 500 to be 400 // Object.is equality[39m
[31m   [31m×[31m /api/disputes/[id]/resolve[2m > [22mshould handle resolution service errors[90m 3[2mms[22m[31m[39m
[31m     → expected 500 to be 400 // Object.is equality[39m
[90mstdout[2m | tests/unit/lib/services/tailor-search.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  write to custom object with { processEnv: myObject }

[90mstderr[2m | tests/unit/lib/services/tailor-search.service.test.ts[2m > [22m[2mTailorSearchService[2m > [22m[2mgetAutocomplete[2m > [22m[2mshould handle autocomplete errors gracefully
[22m[39mAutocomplete failed: Error: Database error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\tailor-search.service.test.ts:191:56
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)

[90mstderr[2m | tests/unit/lib/services/tailor-search.service.test.ts[2m > [22m[2mTailorSearchService[2m > [22m[2mgetFeaturedTailors[2m > [22m[2mshould handle featured tailors errors gracefully
[22m[39mGet featured tailors failed: Error: Database error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\tailor-search.service.test.ts:233:59
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)

 [31m❯[39m tests/unit/lib/services/tailor-search.service.test.ts [2m([22m[2m14 tests[22m[2m | [22m[31m9 failed[39m[2m)[22m[90m 140[2mms[22m[39m
[31m   [31m×[31m TailorSearchService[2m > [22msearchTailors[2m > [22mshould validate search filters and throw error for invalid data[90m 45[2mms[22m[31m[39m
[31m     → promise resolved "undefined" instead of rejecting[39m
[31m   [31m×[31m TailorSearchService[2m > [22msearchTailors[2m > [22mshould enforce maximum limit[90m 15[2mms[22m[31m[39m
[31m     → promise resolved "undefined" instead of rejecting[39m
[31m   [31m×[31m TailorSearchService[2m > [22msearchTailors[2m > [22mshould cache search results[90m 6[2mms[22m[31m[39m
[31m     → expected "spy" to be called 1 times, but got 2 times[39m
[31m   [31m×[31m TailorSearchService[2m > [22msearchTailors[2m > [22mshould validate price range consistency[90m 3[2mms[22m[31m[39m
[31m     → promise resolved "undefined" instead of rejecting[39m
[31m   [31m×[31m TailorSearchService[2m > [22msearchTailors[2m > [22mshould validate search radius[90m 3[2mms[22m[31m[39m
[31m     → promise resolved "undefined" instead of rejecting[39m
[31m   [31m×[31m TailorSearchService[2m > [22mgetAutocomplete[2m > [22mshould return autocomplete suggestions[90m 14[2mms[22m[31m[39m
[31m     → expected "spy" to be called with arguments: [ 'kente', 10 ][90m

Received: 

[1m  1st spy call:

[22m[2m  Array [[22m
[2m    "kente",[22m
[32m-   10,[90m
[31m+   undefined,[90m
[2m  ][22m
[31m[90m

Number of calls: [1m1[22m
[31m[39m
[31m   [31m×[31m TailorSearchService[2m > [22mgetAutocomplete[2m > [22mshould return empty results for short queries[90m 4[2mms[22m[31m[39m
[31m     → Cannot read properties of undefined (reading 'suggestions')[39m
[31m   [31m×[31m TailorSearchService[2m > [22mgetAutocomplete[2m > [22mshould cache autocomplete results[90m 4[2mms[22m[31m[39m
[31m     → expected "spy" to be called 1 times, but got 2 times[39m
[31m   [31m×[31m TailorSearchService[2m > [22mgetFeaturedTailors[2m > [22mshould return featured tailors[90m 5[2mms[22m[31m[39m
[31m     → expected "spy" to be called with arguments: [ {} ][90m

Received: 

[1m  1st spy call:

[22m[2m  Array [[22m
[32m-   Object {},[90m
[31m+   Object {[90m
[31m+     "limit": 10,[90m
[31m+   },[90m
[2m  ][22m
[31m[90m

Number of calls: [1m1[22m
[31m[39m
[90mstdout[2m | tests/unit/components/features/tailors/BulkProgressUpdater.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  specify custom .env file path with { path: '/custom/path/.env' }

[90mstdout[2m | tests/unit/lib/services/hubtel.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  suppress all logs with { quiet: true }

[90mstdout[2m | tests/unit/services/auth.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 📡 add observability to secrets: https://dotenvx.com/ops

[90mstderr[2m | tests/unit/lib/services/hubtel.service.test.ts[2m > [22m[2mHubtelService[2m > [22m[2mverifyWebhookSignature[2m > [22m[2mshould reject invalid webhook signatures
[22m[39mWebhook signature verification error: RangeError: Input buffers must have the same byte length
    at HubtelService.verifyWebhookSignature [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\hubtel.service.ts:186:21[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\hubtel.service.test.ts:153:37
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15) {
  code: [32m'ERR_CRYPTO_TIMING_SAFE_EQUAL_LENGTH'[39m
}

[90mstderr[2m | tests/unit/lib/services/hubtel.service.test.ts[2m > [22m[2mHubtelService[2m > [22m[2mverifyWebhookSignature[2m > [22m[2mshould handle signature verification errors gracefully
[22m[39mWebhook signature verification error: RangeError: Input buffers must have the same byte length
    at HubtelService.verifyWebhookSignature [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\services\hubtel.service.ts:186:21[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\lib\services\hubtel.service.test.ts:163:37
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15) {
  code: [32m'ERR_CRYPTO_TIMING_SAFE_EQUAL_LENGTH'[39m
}

 [31m❯[39m tests/unit/lib/services/hubtel.service.test.ts [2m([22m[2m11 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[90m 74[2mms[22m[39m
[31m   [31m×[31m HubtelService[2m > [22mGhana phone number validation[2m > [22mshould validate MTN phone numbers correctly[90m 28[2mms[22m[31m[39m
[31m     → expected undefined to be true // Object.is equality[39m
[31m   [31m×[31m HubtelService[2m > [22mGhana phone number validation[2m > [22mshould validate Vodafone phone numbers correctly[90m 3[2mms[22m[31m[39m
[31m     → expected undefined to be true // Object.is equality[39m
[31m   [31m×[31m HubtelService[2m > [22mGhana phone number validation[2m > [22mshould validate AirtelTigo phone numbers correctly[90m 2[2mms[22m[31m[39m
[31m     → expected undefined to be true // Object.is equality[39m
[31m   [31m×[31m HubtelService[2m > [22mGhana phone number validation[2m > [22mshould reject invalid phone numbers[90m 2[2mms[22m[31m[39m
[31m     → expected undefined to be false // Object.is equality[39m
 [31m❯[39m tests/unit/services/auth.service.test.ts [2m([22m[2m10 tests[22m[2m | [22m[31m10 failed[39m[2m)[22m[90m 59[2mms[22m[39m
[31m   [31m×[31m AuthService[2m > [22mregister[2m > [22mshould register user with email[90m 38[2mms[22m[31m[39m
[31m     → mockSupabase.auth.signUp.mockResolvedValue is not a function[39m
[31m   [31m×[31m AuthService[2m > [22mregister[2m > [22mshould register user with phone[90m 3[2mms[22m[31m[39m
[31m     → mockSupabase.auth.signUp.mockResolvedValue is not a function[39m
[31m   [31m×[31m AuthService[2m > [22mregister[2m > [22mshould throw error on registration failure[90m 2[2mms[22m[31m[39m
[31m     → mockSupabase.auth.signUp.mockResolvedValue is not a function[39m
[31m   [31m×[31m AuthService[2m > [22mverifyOTP[2m > [22mshould verify email OTP[90m 2[2mms[22m[31m[39m
[31m     → mockSupabase.auth.verifyOtp.mockResolvedValue is not a function[39m
[31m   [31m×[31m AuthService[2m > [22mverifyOTP[2m > [22mshould verify phone OTP[90m 2[2mms[22m[31m[39m
[31m     → mockSupabase.auth.verifyOtp.mockResolvedValue is not a function[39m
[31m   [31m×[31m AuthService[2m > [22mverifyOTP[2m > [22mshould throw error on invalid OTP[90m 1[2mms[22m[31m[39m
[31m     → mockSupabase.auth.verifyOtp.mockResolvedValue is not a function[39m
[31m   [31m×[31m AuthService[2m > [22mresendOTP[2m > [22mshould resend email OTP[90m 1[2mms[22m[31m[39m
[31m     → mockSupabase.auth.resend.mockResolvedValue is not a function[39m
[31m   [31m×[31m AuthService[2m > [22mresendOTP[2m > [22mshould resend phone OTP[90m 1[2mms[22m[31m[39m
[31m     → mockSupabase.auth.resend.mockResolvedValue is not a function[39m
[31m   [31m×[31m AuthService[2m > [22msignIn[2m > [22mshould sign in with email[90m 1[2mms[22m[31m[39m
[31m     → mockSupabase.auth.signInWithPassword.mockResolvedValue is not a function[39m
[31m   [31m×[31m AuthService[2m > [22msignIn[2m > [22mshould sign in with phone[90m 2[2mms[22m[31m[39m
[31m     → mockSupabase.auth.signInWithPassword.mockResolvedValue is not a function[39m
[90mstdout[2m | tests/unit/api/tailors/profile.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 👥 sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstderr[2m | tests/unit/api/tailors/profile.test.ts[2m > [22m[2mTailor Profile API[2m > [22m[2mPUT /api/tailors/[id]/profile[2m > [22m[2mshould return 403 for unauthorized user
[22m[39mError updating tailor profile: Error: Unauthorized
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\profile.test.ts:183:71
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)

 [32m✓[39m tests/unit/api/tailors/profile.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 60[2mms[22m[39m
 [31m❯[39m tests/unit/components/features/tailors/BulkProgressUpdater.test.tsx [2m([22m[2m13 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 1816[2mms[22m[39m
[31m   [31m×[31m BulkProgressUpdater[2m > [22mshows update form when items are selected[90m 198[2mms[22m[31m[39m
[31m     → Found a label with the text of: /New Status/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6 "[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-square-check-big h-5 w-5"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"m9 11 3 3L22 4"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mBulk Progress Updater[0m
          [36m</h3>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
          [36m>[31m
            [0mUpdate progress for multiple items simultaneously and notify customers[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-6 pt-0"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center justify-between"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-4"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-base px-3 py-1"[31m
              [36m>[31m
                [0m1[0m
                [0m Selected[0m
              [36m</div>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mof [0m
                [0m2[0m
                [0m total items[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs"[31m
            [36m>[31m
              [0mClear Selection[0m
            [36m</button>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold tracking-tight text-base"[31m
          [36m>[31m
            [0mQuick Select by Stage[0m
          [36m</h3>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
          [36m>[31m
            [0mSelect all items at the same production stage[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-6 pt-0"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex flex-wrap gap-2"[31m
          [36m>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs bg-indigo-100 text-indigo-800"[31m
            [36m>[31m
              [0min progress[0m
              [0m ([0m
              [0m2[0m
              [0m)[0m
            [36m</button>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-3"[31m
      [36m>[31m
        [36m<h3[31m
          [33mclass[31m=[32m"text-lg font-semibold"[31m
        [36m>[31m
          [0mSelect Items to Update[0m
        [36m</h3>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-2"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow cursor-pointer transition-all hover:shadow-md border-primary ring-2 ring-primary"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"p-4"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center gap-4"[31m
              [36m>[31m
                [36m<button[31m
                  [33maria-checked[31m=[32m"true"[31m
                  [33mclass[31m=[32m"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground"[31m
                  [33mdata-state[31m=[32m"checked"[31m
                  [33mrole[31m=[32m"checkbox"[31m
                  [33mtype[31m=[32m"button"[31m
                  [33mvalue[31m=[32m"on"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"flex items-center justify-center text-current"[31m
                    [33mdata-state[31m=[32m"checked"[31m
                    [33mstyle[31m=[32m"pointer-events: none;"[31m
                  [36m>[31m
                    [36m<svg[31m
                      [33maria-hidden[31m=[32m"true"[31m
                      [33mclass[31m=[32m"lucide lucide-check h-4 w-4"[31m
        ...[39m
[31m   [31m×[31m BulkProgressUpdater[2m > [22mcalls onUpdate with correct data[90m 126[2mms[22m[31m[39m
[31m     → Found a label with the text of: /New Status/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6 "[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-square-check-big h-5 w-5"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"m9 11 3 3L22 4"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mBulk Progress Updater[0m
          [36m</h3>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
          [36m>[31m
            [0mUpdate progress for multiple items simultaneously and notify customers[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-6 pt-0"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center justify-between"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center gap-4"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-base px-3 py-1"[31m
              [36m>[31m
                [0m1[0m
                [0m Selected[0m
              [36m</div>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mof [0m
                [0m2[0m
                [0m total items[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs"[31m
            [36m>[31m
              [0mClear Selection[0m
            [36m</button>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold tracking-tight text-base"[31m
          [36m>[31m
            [0mQuick Select by Stage[0m
          [36m</h3>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
          [36m>[31m
            [0mSelect all items at the same production stage[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-6 pt-0"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex flex-wrap gap-2"[31m
          [36m>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs bg-indigo-100 text-indigo-800"[31m
            [36m>[31m
              [0min progress[0m
              [0m ([0m
              [0m2[0m
              [0m)[0m
            [36m</button>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-3"[31m
      [36m>[31m
        [36m<h3[31m
          [33mclass[31m=[32m"text-lg font-semibold"[31m
        [36m>[31m
          [0mSelect Items to Update[0m
        [36m</h3>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-2"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow cursor-pointer transition-all hover:shadow-md border-primary ring-2 ring-primary"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"p-4"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center gap-4"[31m
              [36m>[31m
                [36m<button[31m
                  [33maria-checked[31m=[32m"true"[31m
                  [33mclass[31m=[32m"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground"[31m
                  [33mdata-state[31m=[32m"checked"[31m
                  [33mrole[31m=[32m"checkbox"[31m
                  [33mtype[31m=[32m"button"[31m
                  [33mvalue[31m=[32m"on"[31m
                [36m>[31m
                  [36m<span[31m
                    [33mclass[31m=[32m"flex items-center justify-center text-current"[31m
                    [33mdata-state[31m=[32m"checked"[31m
                    [33mstyle[31m=[32m"pointer-events: none;"[31m
                  [36m>[31m
                    [36m<svg[31m
                      [33maria-hidden[31m=[32m"true"[31m
                      [33mclass[31m=[32m"lucide lucide-check h-4 w-4"[31m
        ...[39m
[90mstdout[2m | tests/unit/components/features/tailors/DesignSuggestionTool.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  enable debug logging with { debug: true }

[90mstdout[2m | tests/integration/api/orders/tracking.integration.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  enable debug logging with { debug: true }

 [32m✓[39m tests/integration/api/orders/tracking.integration.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 18[2mms[22m[39m
[90mstdout[2m | tests/unit/lib/services/dispute.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  load multiple .env files with { path: ['.env.local', '.env'] }

 [32m✓[39m tests/unit/lib/services/dispute.service.test.ts [2m([22m[2m10 tests[22m[2m)[22m[90m 43[2mms[22m[39m
 [31m❯[39m tests/unit/components/features/tailors/DesignSuggestionTool.test.tsx [2m([22m[2m12 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 1698[2mms[22m[39m
[31m   [31m×[31m DesignSuggestionTool[2m > [22mdisplays template guidelines when selected[90m 207[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: /Gold/i

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[31m
  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[31m
[36m>[31m
  [0mGold[0m
[36m</div>[31m

Ignored nodes: comments, script, style
[36m<div[31m
  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 bg-green-100 text-green-800"[31m
[36m>[31m
  [0m✓ [0m
  [0mGold[0m
[36m</div>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6 "[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-sparkles h-5 w-5"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M20 2v4"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M22 4h-4"[31m
              [36m/>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"4"[31m
                [33mcy[31m=[32m"20"[31m
                [33mr[31m=[32m"2"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mDesign Suggestion Tool[0m
          [36m</h3>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
          [36m>[31m
            [0mCreate coordinated design recommendations using cultural event templates[0m
          [36m</p>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-3"[31m
      [36m>[31m
        [36m<h3[31m
          [33mclass[31m=[32m"text-lg font-semibold"[31m
        [36m>[31m
          [0mSelect Cultural Event Template[0m
        [36m</h3>[31m
        [36m<div[31m
          [33mclass[31m=[32m"grid gap-3 md:grid-cols-2 lg:grid-cols-3"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow cursor-pointer transition-all hover:shadow-md border-primary ring-2 ring-primary"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
            [36m>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"font-semibold tracking-tight text-base flex items-center justify-between"[31m
              [36m>[31m
                [0mTraditional Ghanaian Wedding[0m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-circle-check-big h-5 w-5 text-primary"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m9 11 3 3L22 4"[31m
                  [36m/>[31m
                [36m</svg>[31m
              [36m</h3>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-muted-foreground text-sm"[31m
              [36m>[31m
                [0mCoordinated Kente or matching prints for family[0m
              [36m</p>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"p-6 pt-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"space-y-2"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex flex-wrap gap-1"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[31m
                  [36m>[31m
                    [0mGold[0m
                  [36m</div>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[31m
                  [36m>[31m
                    [0mRoyal Blue[0m
                  [36m</div>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[31m
                  [36m>[31m
                    [0mBurgundy[0m
                  [36m</div>[31m
                [36m</div>[31m
                [36m<p[31m
                  [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
                [36m>[31m
                  [0mBright colors symbolize joy and celebration[0m
                [36m</p>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow cursor-pointer transition-all hover:shadow-md"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
            [36m>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"font-semibold tracking-tight text-base flex items-center justify-between"...[39m
[31m   [31m×[31m DesignSuggestionTool[2m > [22mshows colors to avoid for certain events[90m 144[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: /Black/i

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[31m
  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[31m
[36m>[31m
  [0mBlack[0m
[36m</div>[31m

Ignored nodes: comments, script, style
[36m<div[31m
  [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80 text-xs"[31m
[36m>[31m
  [0m✗ [0m
  [0mBlack[0m
[36m</div>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6 "[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-sparkles h-5 w-5"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M20 2v4"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M22 4h-4"[31m
              [36m/>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"4"[31m
                [33mcy[31m=[32m"20"[31m
                [33mr[31m=[32m"2"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mDesign Suggestion Tool[0m
          [36m</h3>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
          [36m>[31m
            [0mCreate coordinated design recommendations using cultural event templates[0m
          [36m</p>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-3"[31m
      [36m>[31m
        [36m<h3[31m
          [33mclass[31m=[32m"text-lg font-semibold"[31m
        [36m>[31m
          [0mSelect Cultural Event Template[0m
        [36m</h3>[31m
        [36m<div[31m
          [33mclass[31m=[32m"grid gap-3 md:grid-cols-2 lg:grid-cols-3"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow cursor-pointer transition-all hover:shadow-md border-primary ring-2 ring-primary"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
            [36m>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"font-semibold tracking-tight text-base flex items-center justify-between"[31m
              [36m>[31m
                [0mTraditional Ghanaian Wedding[0m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-circle-check-big h-5 w-5 text-primary"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m9 11 3 3L22 4"[31m
                  [36m/>[31m
                [36m</svg>[31m
              [36m</h3>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-muted-foreground text-sm"[31m
              [36m>[31m
                [0mCoordinated Kente or matching prints for family[0m
              [36m</p>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"p-6 pt-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"space-y-2"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex flex-wrap gap-1"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[31m
                  [36m>[31m
                    [0mGold[0m
                  [36m</div>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[31m
                  [36m>[31m
                    [0mRoyal Blue[0m
                  [36m</div>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[31m
                  [36m>[31m
                    [0mBurgundy[0m
                  [36m</div>[31m
                [36m</div>[31m
                [36m<p[31m
                  [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
                [36m>[31m
                  [0mBright colors symbolize joy and celebration[0m
                [36m</p>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow cursor-pointer transition-all hover:shadow-md"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
            [36m>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"font-semibold tracking-tight text-base flex items-center justify-between"...[39m
[31m   [31m×[31m DesignSuggestionTool[2m > [22mdisplays traditional patterns for templates that have them[90m 156[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: /Kente weave/i

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[31m
  [33mclass[31m=[32m"text-sm"[31m
[36m>[31m
  [0mKente weave, Adinkra symbols, Batik prints[0m
[36m</p>[31m

Ignored nodes: comments, script, style
[36m<textarea[31m
  [33mclass[31m=[32m"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 resize-none"[31m
  [33mid[31m=[32m"suggestion"[31m
  [33mplaceholder[31m=[32m"Describe your design recommendations, coordination ideas, and specific guidance for the group..."[31m
  [33mrows[31m=[32m"8"[31m
[36m>[31m
  [0mCultural Context: Coordinated Kente or matching prints for family

Coordination Guidelines:
Family members should wear complementary colors from same fabric lot. Bride/groom colors should be distinctive but harmonious.

Recommended Patterns: Kente weave, Adinkra symbols, Batik prints

Please add your specific design recommendations below...[0m
[36m</textarea>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6 "[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-sparkles h-5 w-5"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M20 2v4"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M22 4h-4"[31m
              [36m/>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"4"[31m
                [33mcy[31m=[32m"20"[31m
                [33mr[31m=[32m"2"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mDesign Suggestion Tool[0m
          [36m</h3>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
          [36m>[31m
            [0mCreate coordinated design recommendations using cultural event templates[0m
          [36m</p>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-3"[31m
      [36m>[31m
        [36m<h3[31m
          [33mclass[31m=[32m"text-lg font-semibold"[31m
        [36m>[31m
          [0mSelect Cultural Event Template[0m
        [36m</h3>[31m
        [36m<div[31m
          [33mclass[31m=[32m"grid gap-3 md:grid-cols-2 lg:grid-cols-3"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow cursor-pointer transition-all hover:shadow-md border-primary ring-2 ring-primary"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
            [36m>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"font-semibold tracking-tight text-base flex items-center justify-between"[31m
              [36m>[31m
                [0mTraditional Ghanaian Wedding[0m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"lucide lucide-circle-check-big h-5 w-5 text-primary"[31m
                  [33mfill[31m=[32m"none"[31m
                  [33mheight[31m=[32m"24"[31m
                  [33mstroke[31m=[32m"currentColor"[31m
                  [33mstroke-linecap[31m=[32m"round"[31m
                  [33mstroke-linejoin[31m=[32m"round"[31m
                  [33mstroke-width[31m=[32m"2"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [33mwidth[31m=[32m"24"[31m
                  [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[31m
                  [36m/>[31m
                  [36m<path[31m
                    [33md[31m=[32m"m9 11 3 3L22 4"[31m
                  [36m/>[31m
                [36m</svg>[31m
              [36m</h3>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-muted-foreground text-sm"[31m
              [36m>[31m
                [0mCoordinated Kente or matching prints for family[0m
              [36m</p>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"p-6 pt-0"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"space-y-2"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex flex-wrap gap-1"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[31m
                  [36m>[31m
                    [0mGold[0m
                  [36m</div>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[31m
                  [36m>[31m
                    [0mRoyal Blue[0m
                  [36m</div>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[31m
                  [36m>[31m
                    [0mBurgundy[0m
                  [36m</div>[31m
                [36m</div>[31m
                [36m<p[31m
                  [33mclass[31m=[32m"text-xs text-muted-foreground"[31m
                [36m>[31m
                  [0mBright colors symbolize joy and celebration[0m
                [36m</p>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow cursor-pointer transition-all hover:shadow-md"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
            [36m>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"font-semibold tracking-tight text-base flex items-center justify-between"...[39m
[90mstdout[2m | tests/unit/components/features/tailors/ProductionSchedulePlanner.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔑 add access controls to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/lib/supabase/errors.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  override existing env vars with { override: true }

 [32m✓[39m tests/unit/lib/supabase/errors.test.ts [2m([22m[2m13 tests[22m[2m)[22m[90m 36[2mms[22m[39m
[90mstdout[2m | tests/unit/components/features/tailors/CoordinationChecklist.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ✅ audit secrets and track compliance: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/components/features/tailors/TailorGroupOrderDashboard.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 👥 sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/components/features/orders/EscrowStatus.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔄 add secrets lifecycle management: https://dotenvx.com/ops

[90mstderr[2m | tests/unit/components/features/orders/EscrowStatus.test.tsx[2m > [22m[2mEscrowStatus[2m > [22m[2mshould handle network errors
[22m[39mError fetching escrow status: Error: Network error
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\components\features\orders\EscrowStatus.test.tsx:141:33
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runSuite (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1205:15)
    at runFiles (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1262:5)
    at startTests (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1271:3)
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 [31m❯[39m tests/unit/components/features/orders/EscrowStatus.test.tsx [2m([22m[2m11 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 932[2mms[22m[39m
[31m   [31m×[31m EscrowStatus[2m > [22mshould display escrow status data correctly[90m 255[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: GH₵ 250.00

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[31m
  [33mclass[31m=[32m"text-sm text-gray-600"[31m
[36m>[31m
  [0mGH₵ [0m
  [0m250.00[0m
  [36m<span[31m
    [33mclass[31m=[32m"ml-2 text-green-600"[31m
  [36m>[31m
    [0m✓ Paid[0m
  [36m</span>[31m
[36m</p>[31m

Ignored nodes: comments, script, style
[36m<p[31m
  [33mclass[31m=[32m"text-sm text-gray-600"[31m
[36m>[31m
  [0mGH₵ [0m
  [0m250.00[0m
  [36m<span[31m
    [33mclass[31m=[32m"ml-2 text-gray-500"[31m
  [36m>[31m
    [0m• Pending[0m
  [36m</span>[31m
[36m</p>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
      [36m>[31m
        [36m<h3[31m
          [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center space-x-2"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-dollar-sign h-5 w-5"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<line[31m
              [33mx1[31m=[32m"12"[31m
              [33mx2[31m=[32m"12"[31m
              [33my1[31m=[32m"2"[31m
              [33my2[31m=[32m"22"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<span>[31m
            [0mPayment Progress[0m
          [36m</span>[31m
        [36m</h3>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"p-6 pt-0"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"space-y-6"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex justify-between text-sm"[31m
            [36m>[31m
              [36m<span>[31m
                [0mProgress[0m
              [36m</span>[31m
              [36m<span>[31m
                [0m75[0m
                [0m%[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"w-full bg-gray-200 rounded-full h-2"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"bg-green-600 h-2 rounded-full transition-all duration-300"[31m
                [33mstyle[31m=[32m"width: 75%;"[31m
              [36m/>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-3"[31m
          [36m>[31m
            [36m<h4[31m
              [33mclass[31m=[32m"font-medium"[31m
            [36m>[31m
              [0mPayment Breakdown[0m
            [36m</h4>[31m
            [36m<div[31m
              [33mclass[31m=[32m"grid grid-cols-1 gap-3"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center justify-between p-3 rounded-lg border bg-green-50 border-green-200"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center space-x-3"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex-shrink-0 text-green-600"[31m
                  [36m>[31m
                    [36m<svg[31m
                      [33maria-hidden[31m=[32m"true"[31m
                      [33mclass[31m=[32m"lucide lucide-circle-check-big h-5 w-5"[31m
                      [33mfill[31m=[32m"none"[31m
                      [33mheight[31m=[32m"24"[31m
                      [33mstroke[31m=[32m"currentColor"[31m
                      [33mstroke-linecap[31m=[32m"round"[31m
                      [33mstroke-linejoin[31m=[32m"round"[31m
                      [33mstroke-width[31m=[32m"2"[31m
                      [33mviewBox[31m=[32m"0 0 24 24"[31m
                      [33mwidth[31m=[32m"24"[31m
                      [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                    [36m>[31m
                      [36m<path[31m
                        [33md[31m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[31m
                      [36m/>[31m
                      [36m<path[31m
                        [33md[31m=[32m"m9 11 3 3L22 4"[31m
                      [36m/>[31m
                    [36m</svg>[31m
                  [36m</div>[31m
                  [36m<div>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"font-medium"[31m
                    [36m>[31m
                      [0mDeposit (25%)[0m
                    [36m</p>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-sm text-gray-600"[31m
                    [36m>[31m
                      [0mGH₵ [0m
                      [0m250.00[0m
                      [36m<span[31m
                        [33mclass[31m=[32m"ml-2 text-green-600"[31m
                      [36m>[31m
                        [0m✓ Paid[0m
                      [36m</span>[31m
                    [36m</p>[31m
                  [36m</div>[31m
                [36m</div>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center justify-between p-3 rounded-lg border bg-yellow-50 border-yellow-200"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center space-x-3"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex-shrink-0 text-yellow-600"[31m
                  [36m>[31m
                    [36m<svg[31m
                      [33maria-hidden[31m=[32m"true"[31m
                      [33mclass[31m=[32m"lucide lucide-clock h-5 w-5"[31m
                      [33mfill[31m=[32m"none"[31m
                      [33mheight[31m=[32m"24"[31m
                      [33mstroke[31m=[32m"currentColor"[31m
                      [33mstroke-linecap[31m=[32m"round"[31m
                      [33mstroke-linejoin[31m=[32m"round"[31m
                      [33mstroke-width[31m=[32m"2"[31m
                      [33mviewBox[31m=[32m"0 0 24 24"[31m
                      [33mwidth[31m=[32m"24"[31m
                      [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                    [36m>[31m
                      [36m<path[31m
                        [33md[31m=[32m"M12 6v6l4 2"[31m
                      [36m/>[31m
                      [36m<circle[31m
                        [33mcx[31m=[32m"12"[31m
                        [33mcy[31m=[32m"12"[31m
                        [33mr[31m=[32m"10"[31m
                      [36m/>[31m
                    [36m</svg>[31m
                  [36m</div>[31m
                  [36m<div>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"font-medium"[31m
                    [36m>[31m
                      [0mFitting Payment (50%)[0m
                    [36m</p>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-sm text-gray-600"[31m
                    [36m>[31m
                      [0mGH₵ [0m
                      [0m500.00[0m
                      [36m<span[31m
                        [33mclass[31m=[32m"ml-2 text-yellow-600"[31m
                      [36m>[31m
                        [0m• Current[0m
                      [36m</span>[31m
                    [36m</p>[31m
                  [36m</div>[31m
                [36m</div>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center justify-between p-3 rounded-lg border bg-gray-50 border-gray-200"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center space-x-3"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"flex-shrink-0 text-gray-400"[31m
                  [36m>[31m
                    [36m<svg[31m
                      [33maria-hidden[31m=[32m"true"[31m
                      [33mclass[31m=[32m"lucide lucide-clock h-5 w-5"[31m
                      [33mfill[31m=[32m"none"[31m
                      [33mheight[31m=[32m"24"[31m
                      [33mstroke[31m=[32m"currentColor"[31m
                      [33mstroke-linecap[31m=[32m"round"[31m
                      [33mstroke-linejoin[31m=[32m"round"[31m
                      [33mstroke-width[31m=[32m"2"[31m
                      [33mviewBox[31m=[32m"0 0 24 24"[31m
                      [33mwidth[31m=[32m"24"[31m
                      [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                    [36m>[31m
                      [36m<path[31m
                        [33md[31m=[32m"M12 6v6l4 2"[31m
                      [36m/>[31m
                      [36m<circle[31m
                        [33mcx[31m=[32m"12"[31m
                        [33mcy[31m=[32m"12"[31m
                        [33mr[31m=[32m"10"[31m
                      [36m/>[31m
                    [36m</svg>[31m
                  [36m</div>[31m
                  [36m<div>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"font-medium"[31m
                    [36m>[31m
                      [0mFinal Payment (25%)[0m
                    [36m</p>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-sm text-gray-600"[31m
                    [36m>[31m
                      [0mGH₵ [0m
                      [0m250.00[0m
                      [36m<span[31m
                        [33mclass[31m=[32m"ml-2 text-gray-500"[31m
                      [36m>[31m
                        [0m• Pending[0m
                      [36m</span>[31m
                    [36m</p>[31m
                  [36m</div>[31m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"p-4 bg-blue-50 rounded-lg"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex items-center space-x-2 mb-2"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-clock h-4 w-4 text-blue-600"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M12 6v6l4 2"[31m
                [36m/>[31m
                [36m<circle[31m
                  [33mcx[31m=[32m"12"[31m
                  [33mcy[31m=[32m"12"[31m
                  [33mr[31m=[32m"10"[31m
                [36m/>[31m
              [36m</svg>[31m
              [36m<span[31m
                [33mclass[31m=[32m"font-medium text-blue-900"[31m
              [36m>[31m
                [0mCurrent Stage[0m
              [36m</span>[31m
            [36m</div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-blue-800"[31m
            [36m>[31m
              [0mDeposit paid. Tailor will proceed with garment creation and fitting[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-blue-700 mt-2"[31m
            [36m>[31m
              [36m<strong>[31m
                [0mNext:[0m
              [36m</strong>[31m
              [0m [0m
              [0mDelivery confirmation required[0m
            [36m</p>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"grid grid-cols-2 gap-4 text-sm"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"space-y-1"[31m
            [36m>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-gray-600"[31m
              [36m>[31m
                [0mTotal Amount[0m
              [36m</p>[31m
              [36m<p[31m
                [33mclass[31m=[32m"font-medium"[31m
              [36m>[31m
                [0mGH₵ [0m
                [0m1000.00[0m
              [36m</p>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"space-y-1"[31m
            [36m>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-gray-600"[31m
              [36m>[31m
                [0mRemaining in Escrow[0m
              [36m</p>[31m
              [36m<p[31m
                [33mclass[31m=[32m"font-medium"[31m
              [36m>[31m
                [0mGH₵ [0m
                [0m750.00[0m
              [36m</p>[31m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m EscrowStatus[2m > [22mshould not render when orderId is not provided[90m 21[2mms[22m[31m[39m
[31m     → [2mexpect([22m[31melement[31m[2m).not.toBeInTheDocument()[22m

[31mexpected document not to contain element, found <span>
  Loading escrow status...
</span> instead[31m[39m
[90mstdout[2m | tests/unit/lib/utils/escrow-calculator.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  write to custom object with { processEnv: myObject }

 [32m✓[39m tests/unit/lib/utils/escrow-calculator.test.ts [2m([22m[2m17 tests[22m[2m)[22m[90m 26[2mms[22m[39m
[90mstdout[2m | tests/unit/lib/supabase/retry.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 👥 sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstderr[2m | tests/unit/lib/supabase/retry.test.ts[2m > [22m[2mRetry Mechanism[2m > [22m[2mwithRetry[2m > [22m[2mshould retry on retryable errors
[22m[39mDatabase operation retry attempt 1: Connection timeout

[90mstderr[2m | tests/unit/lib/supabase/retry.test.ts[2m > [22m[2mRetry Mechanism[2m > [22m[2mwithRetry[2m > [22m[2mshould retry on retryable errors
[22m[39mDatabase operation retry attempt 2: Connection timeout

 [31m❯[39m tests/unit/components/features/tailors/ProductionSchedulePlanner.test.tsx [2m([22m[2m13 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 1550[2mms[22m[39m
[31m   [31m×[31m ProductionSchedulePlanner[2m > [22mdisplays event date and days remaining[90m 145[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: /30 days remaining/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6 "[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center justify-between"[31m
          [36m>[31m
            [36m<div>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"font-semibold leading-none tracking-tight"[31m
              [36m>[31m
                [0mProduction Schedule Planner[0m
              [36m</h3>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mOrganize production order and manage deadlines[0m
              [36m</p>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 text-sm px-3 py-1"[31m
            [36m>[31m
              [0m100[0m
              [0m% On Track[0m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-6 pt-0 space-y-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground bg-background text-foreground"[31m
            [33mrole[31m=[32m"alert"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-calendar h-4 w-4"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M8 2v4"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M16 2v4"[31m
              [36m/>[31m
              [36m<rect[31m
                [33mheight[31m=[32m"18"[31m
                [33mrx[31m=[32m"2"[31m
                [33mwidth[31m=[32m"18"[31m
                [33mx[31m=[32m"3"[31m
                [33my[31m=[32m"4"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M3 10h18"[31m
              [36m/>[31m
            [36m</svg>[31m
            [36m<div[31m
              [33mclass[31m=[32m"text-sm [&_p]:leading-relaxed"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center justify-between"[31m
              [36m>[31m
                [36m<span>[31m
                  [0mEvent Date: [0m
                  [36m<strong>[31m
                    [0mNovember 14, 2025[0m
                  [36m</strong>[31m
                [36m</span>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
                [36m>[31m
                  [0m29[0m
                  [0m days remaining[0m
                [36m</span>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex gap-2"[31m
          [36m>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-refresh-cw h-4 w-4 mr-2"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M21 3v5h-5"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M8 16H3v5"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mRecalculate Dates[0m
            [36m</button>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"tracking-tight text-sm font-medium"[31m
          [36m>[31m
            [0mSchedule Health[0m
          [36m</h3>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-6 pt-0"[31m
        [36m>[31m
          [36m<div[31m
            [33maria-valuemax[31m=[32m"100"[31m
            [33maria-valuemin[31m=[32m"0"[31m
            [33mclass[31m=[32m"relative w-full overflow-hidden rounded-full h-3 bg-green-100"[31m
            [33mdata-max[31m=[32m"100"[31m
            [33mdata-state[31m=[32m"indeterminate"[31m
            [33mrole[31m=[32m"progressbar"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"h-full w-full flex-1 bg-primary transi...[39m
[31m   [31m×[31m ProductionSchedulePlanner[2m > [22mdisplays production timeline visualization[90m 149[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: /Event Date/i

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<span>[31m
  [0mEvent Date: [0m
  [36m<strong>[31m
    [0mNovember 14, 2025[0m
  [36m</strong>[31m
[36m</span>[31m

Ignored nodes: comments, script, style
[36m<p[31m
  [33mclass[31m=[32m"font-bold text-green-600"[31m
[36m>[31m
  [0mEvent Date[0m
[36m</p>[31m

Ignored nodes: comments, script, style
[36m<span>[31m
  [0mAllow buffer time before event date for final adjustments[0m
[36m</span>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6 "[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex items-center justify-between"[31m
          [36m>[31m
            [36m<div>[31m
              [36m<h3[31m
                [33mclass[31m=[32m"font-semibold leading-none tracking-tight"[31m
              [36m>[31m
                [0mProduction Schedule Planner[0m
              [36m</h3>[31m
              [36m<p[31m
                [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
              [36m>[31m
                [0mOrganize production order and manage deadlines[0m
              [36m</p>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 text-sm px-3 py-1"[31m
            [36m>[31m
              [0m100[0m
              [0m% On Track[0m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-6 pt-0 space-y-4"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground bg-background text-foreground"[31m
            [33mrole[31m=[32m"alert"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-calendar h-4 w-4"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<path[31m
                [33md[31m=[32m"M8 2v4"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M16 2v4"[31m
              [36m/>[31m
              [36m<rect[31m
                [33mheight[31m=[32m"18"[31m
                [33mrx[31m=[32m"2"[31m
                [33mwidth[31m=[32m"18"[31m
                [33mx[31m=[32m"3"[31m
                [33my[31m=[32m"4"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M3 10h18"[31m
              [36m/>[31m
            [36m</svg>[31m
            [36m<div[31m
              [33mclass[31m=[32m"text-sm [&_p]:leading-relaxed"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"flex items-center justify-between"[31m
              [36m>[31m
                [36m<span>[31m
                  [0mEvent Date: [0m
                  [36m<strong>[31m
                    [0mNovember 14, 2025[0m
                  [36m</strong>[31m
                [36m</span>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
                [36m>[31m
                  [0m29[0m
                  [0m days remaining[0m
                [36m</span>[31m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex gap-2"[31m
          [36m>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs"[31m
            [36m>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-refresh-cw h-4 w-4 mr-2"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M21 3v5h-5"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[31m
                [36m/>[31m
                [36m<path[31m
                  [33md[31m=[32m"M8 16H3v5"[31m
                [36m/>[31m
              [36m</svg>[31m
              [0mRecalculate Dates[0m
            [36m</button>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"tracking-tight text-sm font-medium"[31m
          [36m>[31m
            [0mSchedule Health[0m
          [36m</h3>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-6 pt-0"[31m
        [36m>[31m
          [36m<div[31m
            [33maria-valuemax[31m=[32m"100"[31m
            [33maria-valuemin[31m=[32m"0"[31m
            [33mclass[31m=[32m"relative w-full overflow-hidden rounded-full h-3 bg-green-100"[31m
            [33mdata-max[31m=[32m"100"[31m
            [33mdata-state[31m=[32m"indeterminate"[31m
            [33mrole[31m=[32m"progressbar"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"h-full w-full flex-1 bg-primary transi...[39m
[90mstderr[2m | tests/unit/lib/supabase/retry.test.ts[2m > [22m[2mRetry Mechanism[2m > [22m[2mwithRetry[2m > [22m[2mshould fail after max attempts
[22m[39mDatabase operation retry attempt 1: Server error

[90mstderr[2m | tests/unit/lib/supabase/retry.test.ts[2m > [22m[2mRetry Mechanism[2m > [22m[2mwithRetry[2m > [22m[2mshould apply exponential backoff
[22m[39mDatabase operation retry attempt 1: Connection timeout

[90mstderr[2m | tests/unit/lib/supabase/retry.test.ts[2m > [22m[2mRetry Mechanism[2m > [22m[2mwithRetry[2m > [22m[2mshould apply exponential backoff
[22m[39mDatabase operation retry attempt 2: Connection timeout

[90mstderr[2m | tests/unit/lib/supabase/retry.test.ts[2m > [22m[2mRetry Mechanism[2m > [22m[2mCircuitBreaker[2m > [22m[2mshould open after failure threshold
[22m[39mCircuit breaker opened after 2 failures. Will retry after 1000ms

[90mstderr[2m | tests/unit/lib/supabase/retry.test.ts[2m > [22m[2mRetry Mechanism[2m > [22m[2mCircuitBreaker[2m > [22m[2mshould transition to half-open after timeout
[22m[39mCircuit breaker opened after 1 failures. Will retry after 100ms

[90mstdout[2m | tests/unit/lib/supabase/retry.test.ts[2m > [22m[2mRetry Mechanism[2m > [22m[2mCircuitBreaker[2m > [22m[2mshould transition to half-open after timeout
[22m[39mCircuit breaker reset - connection restored

[90mstdout[2m | tests/unit/lib/supabase/retry.test.ts[2m > [22m[2mRetry Mechanism[2m > [22m[2mCircuitBreaker[2m > [22m[2mshould reset failure count on successful operation
[22m[39mCircuit breaker reset - connection restored

 [32m✓[39m tests/unit/lib/supabase/retry.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 2769[2mms[22m[39m
   [33m[2m✓[22m[39m Retry Mechanism[2m > [22mwithRetry[2m > [22mshould retry on retryable errors [33m977[2mms[22m[39m
   [33m[2m✓[22m[39m Retry Mechanism[2m > [22mwithRetry[2m > [22mshould fail after max attempts [33m832[2mms[22m[39m
   [33m[2m✓[22m[39m Retry Mechanism[2m > [22mwithRetry[2m > [22mshould apply exponential backoff [33m508[2mms[22m[39m
[90mstdout[2m | tests/unit/api/disputes/create.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  specify custom .env file path with { path: '/custom/path/.env' }

 [31m❯[39m tests/unit/components/features/tailors/TailorGroupOrderDashboard.test.tsx [2m([22m[2m14 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 1696[2mms[22m[39m
[31m   [31m×[31m TailorGroupOrderDashboard[2m > [22mfilters by status[90m 244[2mms[22m[31m[39m
[31m     → [2mexpect([22m[31melement[31m[2m).not.toBeInTheDocument()[22m

[31mexpected document not to contain element, found <h3
  class="text-lg font-semibold"
>
  Mensah Family Naming Ceremony
</h3> instead[31m[39m
[31m   [31m×[31m TailorGroupOrderDashboard[2m > [22mcalls onSelectGroupOrder when manage button clicked[90m 95[2mms[22m[31m[39m
[31m     → expected "spy" to be called with arguments: [ 'group-1' ][90m

Received: 

[1m  1st spy call:

[22m[2m  Array [[22m
[32m-   "group-1",[90m
[31m+   "group-2",[90m
[2m  ][22m
[31m[90m

Number of calls: [1m1[22m
[31m[39m
 [32m✓[39m tests/unit/components/features/tailors/CoordinationChecklist.test.tsx [2m([22m[2m15 tests[22m[2m)[22m[33m 7203[2mms[22m[39m
   [33m[2m✓[22m[39m CoordinationChecklist[2m > [22mrenders with standard checklist items [33m525[2mms[22m[39m
   [33m[2m✓[22m[39m CoordinationChecklist[2m > [22mupdates completion percentage when items are checked [33m318[2mms[22m[39m
   [33m[2m✓[22m[39m CoordinationChecklist[2m > [22mshows ready for approval when all items checked [33m1261[2mms[22m[39m
   [33m[2m✓[22m[39m CoordinationChecklist[2m > [22mcalls onSubmit when approved for completion [33m1393[2mms[22m[39m
   [33m[2m✓[22m[39m CoordinationChecklist[2m > [22mshows submitting state [33m1381[2mms[22m[39m
 [31m❯[39m tests/unit/api/disputes/create.test.ts [2m([22m[2m6 tests[22m[2m | [22m[31m5 failed[39m[2m)[22m[90m 83[2mms[22m[39m
[31m   [31m×[31m /api/disputes/create[2m > [22mshould create dispute successfully[90m 63[2mms[22m[31m[39m
[31m     → expected 400 to be 201 // Object.is equality[39m
[31m   [31m×[31m /api/disputes/create[2m > [22mshould return 401 for unauthenticated user[90m 3[2mms[22m[31m[39m
[31m     → expected 400 to be 401 // Object.is equality[39m
[31m   [31m×[31m /api/disputes/create[2m > [22mshould return 404 for non-existent order[90m 3[2mms[22m[31m[39m
[31m     → expected 400 to be 404 // Object.is equality[39m
[31m   [31m×[31m /api/disputes/create[2m > [22mshould return 403 for unauthorized user[90m 3[2mms[22m[31m[39m
[31m     → expected 400 to be 403 // Object.is equality[39m
[31m   [31m×[31m /api/disputes/create[2m > [22mshould handle database errors gracefully[90m 3[2mms[22m[31m[39m
[31m     → expected 400 to be 500 // Object.is equality[39m
[90mstdout[2m | tests/integration/api/tailors/payments/dashboard.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ✅ audit secrets and track compliance: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/components/features/tailors/FabricAllocationCalculator.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  override existing env vars with { override: true }

[90mstderr[2m | tests/integration/api/tailors/payments/dashboard.test.ts[2m > [22m[2mGET /api/tailors/payments/dashboard[2m > [22m[2mshould handle service errors gracefully
[22m[39mError fetching payment dashboard: paymentService.getTailorPaymentDashboard is not a function

 [31m❯[39m tests/integration/api/tailors/payments/dashboard.test.ts [2m([22m[2m5 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[90m 79[2mms[22m[39m
[31m   [31m×[31m GET /api/tailors/payments/dashboard[2m > [22mshould return dashboard data for authenticated tailor[90m 63[2mms[22m[31m[39m
[31m     → expected { success: true, data: { …(4) } } to deeply equal { success: true, data: { …(4) } }[39m
[31m   [31m×[31m GET /api/tailors/payments/dashboard[2m > [22mshould handle service errors gracefully[90m 6[2mms[22m[31m[39m
[31m     → expected { …(2) } to deeply equal { …(2) }[39m
 [31m❯[39m tests/unit/components/features/tailors/FabricAllocationCalculator.test.tsx [2m([22m[2m13 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1205[2mms[22m[39m
[31m   [31m×[31m FabricAllocationCalculator[2m > [22mupdates buffer percentage when changed[90m 165[2mms[22m[31m[39m
[31m     → Unable to find an element with the text: 1.12 yds. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6 "[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex flex-col space-y-1.5 p-6"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-calculator h-5 w-5"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<rect[31m
                [33mheight[31m=[32m"20"[31m
                [33mrx[31m=[32m"2"[31m
                [33mwidth[31m=[32m"16"[31m
                [33mx[31m=[32m"4"[31m
                [33my[31m=[32m"2"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"8"[31m
                [33mx2[31m=[32m"16"[31m
                [33my1[31m=[32m"6"[31m
                [33my2[31m=[32m"6"[31m
              [36m/>[31m
              [36m<line[31m
                [33mx1[31m=[32m"16"[31m
                [33mx2[31m=[32m"16"[31m
                [33my1[31m=[32m"14"[31m
                [33my2[31m=[32m"18"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M16 10h.01"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M12 10h.01"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M8 10h.01"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M12 14h.01"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M8 14h.01"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M12 18h.01"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M8 18h.01"[31m
              [36m/>[31m
            [36m</svg>[31m
            [0mFabric Allocation Calculator[0m
          [36m</h3>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
          [36m>[31m
            [0mCalculate total fabric needs with buffer for waste and errors[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"p-6 pt-0 space-y-6"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"grid gap-4 md:grid-cols-3"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"rounded-xl border text-card-foreground shadow bg-blue-50 border-blue-200"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"p-6 pt-6"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center justify-between"[31m
                [36m>[31m
                  [36m<div>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-sm font-medium text-blue-600"[31m
                    [36m>[31m
                      [0mTotal Needed[0m
                    [36m</p>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-2xl font-bold text-blue-900"[31m
                    [36m>[31m
                      [0m7.50[0m
                      [0m yds[0m
                    [36m</p>[31m
                  [36m</div>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-ruler h-8 w-8 text-blue-600"[31m
                    [33mfill[31m=[32m"none"[31m
                    [33mheight[31m=[32m"24"[31m
                    [33mstroke[31m=[32m"currentColor"[31m
                    [33mstroke-linecap[31m=[32m"round"[31m
                    [33mstroke-linejoin[31m=[32m"round"[31m
                    [33mstroke-width[31m=[32m"2"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                    [33mwidth[31m=[32m"24"[31m
                    [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"m14.5 12.5 2-2"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"m11.5 9.5 2-2"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"m8.5 6.5 2-2"[31m
                    [36m/>[31m
                    [36m<path[31m
                      [33md[31m=[32m"m17.5 15.5 2-2"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                [36m</div>[31m
              [36m</div>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"rounded-xl border text-card-foreground shadow bg-yellow-50 border-yellow-200"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"p-6 pt-6"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"flex items-center justify-between"[31m
                [36m>[31m
                  [36m<div>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-sm font-medium text-yellow-600"[31m
                    [36m>[31m
                      [0mBuffer ([0m
                      [0m15[0m
                      [0m%)[0m
                    [36m</p>[31m
                    [36m<p[31m
                      [33mclass[31m=[32m"text-2xl font-bold text-yellow-900"[31m
                    [36m>[31m
                      [0m1.13[0m
                      [0m yds[0m
                    [36m</p>[31m
                  [36m</div>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"lucide lucide-tr...[39m
[90mstdout[2m | tests/unit/api/admin/roles.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  override existing env vars with { override: true }

[90mstderr[2m | tests/unit/api/admin/roles.test.ts[2m > [22m[2mAdmin Role Change API - Fixed[2m > [22m[2mshould return 401 for unauthenticated requests
[22m[39mAdmin role change error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/admin/roles.test.ts[2m > [22m[2mAdmin Role Change API - Fixed[2m > [22m[2mshould return 400 for invalid request data
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Admin role change error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

[90mstderr[2m | tests/unit/api/admin/roles.test.ts[2m > [22m[2mAdmin Role Change API - Fixed[2m > [22m[2mshould successfully change user role
[22m[39mMultiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.
Admin role change error: TypeError: Cannot read properties of undefined (reading 'getAll')
    at Object.getAll [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\server.ts:29:32[90m)[39m
    at getAll (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:115:42)
    at Object.getItem (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0\node_modules\[4m@supabase\ssr[24m\src\cookies.ts:326:34)
    at getItemAsync (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\lib\helpers.ts:129:31)
    at SupabaseAuthClient.__loadSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1358:46)
    at SupabaseAuthClient._useSession (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1316:33)
    at SupabaseAuthClient._getUser (C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1468:25)
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1452:25
    at C:\dev\sew4mi-marketplace\sew4mi\node_modules\[4m.pnpm[24m\@supabase+auth-js@2.71.1\node_modules\[4m@supabase\auth-js[24m\src\GoTrueClient.ts:1226:24
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m

 [31m❯[39m tests/unit/api/admin/roles.test.ts [2m([22m[2m3 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[90m 136[2mms[22m[39m
[31m   [31m×[31m Admin Role Change API - Fixed[2m > [22mshould return 401 for unauthenticated requests[90m 122[2mms[22m[31m[39m
[31m     → expected 500 to be 401 // Object.is equality[39m
[31m   [31m×[31m Admin Role Change API - Fixed[2m > [22mshould return 400 for invalid request data[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 400 // Object.is equality[39m
[31m   [31m×[31m Admin Role Change API - Fixed[2m > [22mshould successfully change user role[90m 4[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[90mstdout[2m | tests/unit/api/tailors/group-orders.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  specify custom .env file path with { path: '/custom/path/.env' }

[90mstdout[2m | tests/unit/lib/repositories/userRepository.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔑 add access controls to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/hydration-complete.integration.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 👥 sync secrets across teammates & machines: https://dotenvx.com/ops

 [32m✓[39m tests/unit/lib/repositories/userRepository.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 69[2mms[22m[39m
[90mstderr[2m | tests/unit/api/tailors/group-orders.test.ts[2m > [22m[2mGET /api/tailors/group-orders[2m > [22m[2mreturns 401 when user is not authenticated
[22m[39mError fetching tailor group orders: Error: [vitest] No "createClient" export is defined on the "@/lib/supabase/server" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:389:22)
    at Module.get [as createServerSupabaseClient] [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\index.ts:7:151[90m)[39m
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\group-orders\route.ts:18:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\group-orders.test.ts:38:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m {
  codeFrame: [32m'vi\x1B[33m.\x1B[39m\x1B[34mmock\x1B[39m(\x1B[35mimport\x1B[39m(\x1B[32m"@/lib/supabase/server"\x1B[39m)\x1B[33m,\x1B[39m \x1B[35masync\x1B[39m (importOriginal) \x1B[33m=>\x1B[39m {\n'[39m +
    [32m'  \x1B[35mconst\x1B[39m actual \x1B[33m=\x1B[39m \x1B[35mawait\x1B[39m \x1B[34mimportOriginal\x1B[39m()\n'[39m +
    [32m'  \x1B[35mreturn\x1B[39m {\n'[39m +
    [32m'    \x1B[33m...\x1B[39mactual\x1B[33m,\x1B[39m\n'[39m +
    [32m'    \x1B[90m// your mocked methods\x1B[39m\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

[90mstderr[2m | tests/unit/api/tailors/group-orders.test.ts[2m > [22m[2mGET /api/tailors/group-orders[2m > [22m[2mreturns 403 when user is not a tailor
[22m[39mError fetching tailor group orders: Error: [vitest] No "createClient" export is defined on the "@/lib/supabase/server" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:389:22)
    at Module.get [as createServerSupabaseClient] [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\index.ts:7:151[90m)[39m
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\group-orders\route.ts:18:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\group-orders.test.ts:61:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m {
  codeFrame: [32m'vi\x1B[33m.\x1B[39m\x1B[34mmock\x1B[39m(\x1B[35mimport\x1B[39m(\x1B[32m"@/lib/supabase/server"\x1B[39m)\x1B[33m,\x1B[39m \x1B[35masync\x1B[39m (importOriginal) \x1B[33m=>\x1B[39m {\n'[39m +
    [32m'  \x1B[35mconst\x1B[39m actual \x1B[33m=\x1B[39m \x1B[35mawait\x1B[39m \x1B[34mimportOriginal\x1B[39m()\n'[39m +
    [32m'  \x1B[35mreturn\x1B[39m {\n'[39m +
    [32m'    \x1B[33m...\x1B[39mactual\x1B[33m,\x1B[39m\n'[39m +
    [32m'    \x1B[90m// your mocked methods\x1B[39m\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

[90mstderr[2m | tests/unit/api/tailors/group-orders.test.ts[2m > [22m[2mGET /api/tailors/group-orders[2m > [22m[2mreturns group orders for authenticated tailor
[22m[39mError fetching tailor group orders: Error: [vitest] No "createClient" export is defined on the "@/lib/supabase/server" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:389:22)
    at Module.get [as createServerSupabaseClient] [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\index.ts:7:151[90m)[39m
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\group-orders\route.ts:18:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\group-orders.test.ts:110:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m {
  codeFrame: [32m'vi\x1B[33m.\x1B[39m\x1B[34mmock\x1B[39m(\x1B[35mimport\x1B[39m(\x1B[32m"@/lib/supabase/server"\x1B[39m)\x1B[33m,\x1B[39m \x1B[35masync\x1B[39m (importOriginal) \x1B[33m=>\x1B[39m {\n'[39m +
    [32m'  \x1B[35mconst\x1B[39m actual \x1B[33m=\x1B[39m \x1B[35mawait\x1B[39m \x1B[34mimportOriginal\x1B[39m()\n'[39m +
    [32m'  \x1B[35mreturn\x1B[39m {\n'[39m +
    [32m'    \x1B[33m...\x1B[39mactual\x1B[33m,\x1B[39m\n'[39m +
    [32m'    \x1B[90m// your mocked methods\x1B[39m\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

[90mstderr[2m | tests/unit/api/tailors/group-orders.test.ts[2m > [22m[2mGET /api/tailors/group-orders[2m > [22m[2mapplies status filter when provided
[22m[39mError fetching tailor group orders: Error: [vitest] No "createClient" export is defined on the "@/lib/supabase/server" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:389:22)
    at Module.get [as createServerSupabaseClient] [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\index.ts:7:151[90m)[39m
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\group-orders\route.ts:18:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\group-orders.test.ts:149:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m {
  codeFrame: [32m'vi\x1B[33m.\x1B[39m\x1B[34mmock\x1B[39m(\x1B[35mimport\x1B[39m(\x1B[32m"@/lib/supabase/server"\x1B[39m)\x1B[33m,\x1B[39m \x1B[35masync\x1B[39m (importOriginal) \x1B[33m=>\x1B[39m {\n'[39m +
    [32m'  \x1B[35mconst\x1B[39m actual \x1B[33m=\x1B[39m \x1B[35mawait\x1B[39m \x1B[34mimportOriginal\x1B[39m()\n'[39m +
    [32m'  \x1B[35mreturn\x1B[39m {\n'[39m +
    [32m'    \x1B[33m...\x1B[39mactual\x1B[33m,\x1B[39m\n'[39m +
    [32m'    \x1B[90m// your mocked methods\x1B[39m\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

[90mstderr[2m | tests/unit/api/tailors/group-orders.test.ts[2m > [22m[2mGET /api/tailors/group-orders[2m > [22m[2mhandles database errors gracefully
[22m[39mError fetching tailor group orders: Error: [vitest] No "createClient" export is defined on the "@/lib/supabase/server" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:321:19)
    at Object.get (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/vitest@2.1.9_@types+node@20.19.10_happy-dom@18.0.1_msw@2.10.5/node_modules/[4mvitest[24m/dist/chunks/execute.2pr0rHgK.js:389:22)
    at Module.get [as createServerSupabaseClient] [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mlib\supabase\index.ts:7:151[90m)[39m
    at Module.GET [90m(C:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mapp\api\tailors\group-orders\route.ts:18:28[90m)[39m
    at [90mC:\dev\sew4mi-marketplace\sew4mi\apps\web\[39mtests\unit\api\tailors\group-orders.test.ts:183:28
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:146:14
    at file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:533:11
    at runWithTimeout (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:39:7)
    at runTest (file:///C:/dev/sew4mi-marketplace/sew4mi/node_modules/[4m.pnpm[24m/@vitest+runner@2.1.9/node_modules/[4m@vitest/runner[24m/dist/index.js:1056:17)
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m {
  codeFrame: [32m'vi\x1B[33m.\x1B[39m\x1B[34mmock\x1B[39m(\x1B[35mimport\x1B[39m(\x1B[32m"@/lib/supabase/server"\x1B[39m)\x1B[33m,\x1B[39m \x1B[35masync\x1B[39m (importOriginal) \x1B[33m=>\x1B[39m {\n'[39m +
    [32m'  \x1B[35mconst\x1B[39m actual \x1B[33m=\x1B[39m \x1B[35mawait\x1B[39m \x1B[34mimportOriginal\x1B[39m()\n'[39m +
    [32m'  \x1B[35mreturn\x1B[39m {\n'[39m +
    [32m'    \x1B[33m...\x1B[39mactual\x1B[33m,\x1B[39m\n'[39m +
    [32m'    \x1B[90m// your mocked methods\x1B[39m\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

 [31m❯[39m tests/unit/api/tailors/group-orders.test.ts [2m([22m[2m5 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[90m 88[2mms[22m[39m
[31m   [31m×[31m GET /api/tailors/group-orders[2m > [22mreturns 401 when user is not authenticated[90m 66[2mms[22m[31m[39m
[31m     → expected 500 to be 401 // Object.is equality[39m
[31m   [31m×[31m GET /api/tailors/group-orders[2m > [22mreturns 403 when user is not a tailor[90m 6[2mms[22m[31m[39m
[31m     → expected 500 to be 403 // Object.is equality[39m
[31m   [31m×[31m GET /api/tailors/group-orders[2m > [22mreturns group orders for authenticated tailor[90m 5[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[31m   [31m×[31m GET /api/tailors/group-orders[2m > [22mapplies status filter when provided[90m 4[2mms[22m[31m[39m
[31m     → expected 500 to be 200 // Object.is equality[39m
[90mstdout[2m | tests/unit/components/DisputeCreationForm.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com

 [31m❯[39m tests/integration/hydration-complete.integration.test.ts [2m([22m[2m0 test[22m[2m)[22m
[90mstdout[2m | tests/integration/api/orders/create-flow.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 📡 add observability to secrets: https://dotenvx.com/ops

 [32m✓[39m tests/integration/api/orders/create-flow.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 19[2mms[22m[39m
[90mstdout[2m | tests/unit/accessibility/basic-a11y.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com

 [32m✓[39m tests/unit/accessibility/basic-a11y.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 22[2mms[22m[39m
[90mstdout[2m | tests/unit/components/auth/autocomplete-attributes.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🔄 add secrets lifecycle management: https://dotenvx.com/ops

[90mstdout[2m | tests/unit/components/hydration-fix.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  enable debug logging with { debug: true }

 [32m✓[39m tests/unit/components/hydration-fix.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[90m 192[2mms[22m[39m
[90mstdout[2m | tests/unit/components/features/payments/PaymentSummaryCard.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ✅ audit secrets and track compliance: https://dotenvx.com/ops

 [31m❯[39m tests/unit/components/DisputeCreationForm.test.tsx [2m([22m[2m6 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 6661[2mms[22m[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mrenders form with order details[33m 447[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: Create Dispute

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<h2[31m
  [33mclass[31m=[32m"text-xl font-semibold text-gray-900"[31m
[36m>[31m
  [0mCreate Dispute[0m
[36m</h2>[31m

Ignored nodes: comments, script, style
[36m<button[31m
  [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2 flex-1"[31m
  [33mtype[31m=[32m"submit"[31m
[36m>[31m
  [0mCreate Dispute[0m
[36m</button>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full max-w-2xl mx-auto p-6"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-6"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"border-b pb-4"[31m
        [36m>[31m
          [36m<h2[31m
            [33mclass[31m=[32m"text-xl font-semibold text-gray-900"[31m
          [36m>[31m
            [0mCreate Dispute[0m
          [36m</h2>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-gray-600 mt-1"[31m
          [36m>[31m
            [0mReport an issue with your order for fair resolution[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"bg-gray-50 rounded-lg p-4"[31m
        [36m>[31m
          [36m<h3[31m
            [33mclass[31m=[32m"font-medium text-gray-900 mb-2"[31m
          [36m>[31m
            [0mOrder Details[0m
          [36m</h3>[31m
          [36m<div[31m
            [33mclass[31m=[32m"grid grid-cols-2 gap-4 text-sm"[31m
          [36m>[31m
            [36m<div>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-gray-600"[31m
              [36m>[31m
                [0mCustomer:[0m
              [36m</span>[31m
              [0m [0m
              [0mJohn Doe[0m
            [36m</div>[31m
            [36m<div>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-gray-600"[31m
              [36m>[31m
                [0mTailor:[0m
              [36m</span>[31m
              [0m [0m
              [0mJane Tailor[0m
            [36m</div>[31m
            [36m<div>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-gray-600"[31m
              [36m>[31m
                [0mAmount:[0m
              [36m</span>[31m
              [0m GH₵ [0m
              [0m250[0m
            [36m</div>[31m
            [36m<div>[31m
              [36m<span[31m
                [33mclass[31m=[32m"text-gray-600"[31m
              [36m>[31m
                [0mStatus:[0m
              [36m</span>[31m
              [36m<div[31m
                [33mclass[31m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground ml-1"[31m
              [36m>[31m
                [0mIN_PROGRESS[0m
              [36m</div>[31m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<form[31m
          [33mclass[31m=[32m"space-y-6"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
              [33mfor[31m=[32m"category"[31m
            [36m>[31m
              [0mDispute Category *[0m
            [36m</label>[31m
            [36m<button[31m
              [33maria-autocomplete[31m=[32m"none"[31m
              [33maria-controls[31m=[32m"radix-«r0»"[31m
              [33maria-expanded[31m=[32m"false"[31m
              [33mclass[31m=[32m"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1"[31m
              [33mdata-placeholder[31m=[32m""[31m
              [33mdata-state[31m=[32m"closed"[31m
              [33mdir[31m=[32m"ltr"[31m
              [33mrole[31m=[32m"combobox"[31m
              [33mtype[31m=[32m"button"[31m
            [36m>[31m
              [36m<span[31m
                [33mstyle[31m=[32m"pointer-events: none;"[31m
              [36m>[31m
                [0mSelect the type of issue[0m
              [36m</span>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-chevron-down h-4 w-4 opacity-50"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"m6 9 6 6 6-6"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</button>[31m
            [36m<select[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mstyle[31m=[32m"position: absolute; border: 0px; width: 1px; height: 1px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; word-wrap: normal;"[31m
              [33mtabindex[31m=[32m"-1"[31m
            [36m>[31m
              [36m<option[31m
                [33mvalue[31m=[32m""[31m
              [36m/>[31m
              [36m<option[31m
                [33mvalue[31m=[32m"QUALITY_ISSUE"[31m
              [36m>[31m
                [0m🔍Quality IssueIssues with garment quality, fit, or workmanship[0m
              [36m</option>[31m
              [36m<option[31m
                [33mvalue[31m=[32m"DELIVERY_DELAY"[31m
              [36m>[31m
                [0m📅Delivery DelayLate delivery or missed deadlines[0m
              [36m</option>[31m
              [36m<option[31m
                [33mvalue[31m=[32m"PAYMENT_PROBLEM"[31m
              [36m>[31m
                [0m💰Payment ProblemPayment-related disputes and refund requests[0m
              [36m</option>[31m
              [36m<option[31m
                [33mvalue[31m=[32m"COMMUNICATION_ISSUE"[31m
              [36m>[31m
                [0m💬Communication IssuePoor communication or unresponsive service[0m
              [36m</option>[31m
              [36m<option[31m
                [33mvalue[31m=[32m"MILESTONE_REJECTION"[31m
              [36m>[31m
                [0m🚫Milestone RejectionDisputes arising from rejected milestone approvals[0m
              [36m</option>[31m
              [36m<option[31m
                [33mvalue[31m=[32m"OTHER"[31m
              [36m>[31m
                [0m❓OtherOther issues not covered by standard categories[0m
              [36m</option>[31m
            [36m</select>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
              [33mfor[31m=[32m"title"[31m
            [36m>[31m
              [0mDispute Title *[0m
            [36m</label>[31m
            [36m<input[31m
              [33mclass[31m=[32m"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"[31m
              [33mid[31m=[32m"title"[31m
              [33mmaxlength[31m=[32m"200"[31m
              [33mplaceholder[31m=[32m"Brief summary of the issue"[31m
              [33mvalue[31m=[32m""[31m
            [36m/>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex justify-between text-xs text-gray-500"[31m
            [36m>[31m
              [36m<span />[31m
              [36m<span>[31m
                [0m0[0m
                [0m/[0m
                [0m200[0m
              [36m</span>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
              [33mfor[31m=[32m"description"[31m
            [36m>[31m
              [0mDetailed Description *[0m
            [36m</label>[31m
            [36m<textarea[31m
              [33mclass[31m=[32m"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"[31m
              [33mid[31m=[32m"description"[31m
              [33mmaxlength[31m=[32m"2000"[31m
              [33mplaceholder[31m=[32m"Provide a detailed explanation of the issue, including what went wrong and what you expected"[31m
              [33mrows[31m=[32m"5"[31m
            [36m/>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex justify-between text-xs text-gray-500"[31m
            [36m>[31m
              [36m<span />[31m
              [36m<span>[31m
                [0m0[0m
                [0m/[0m
                [0m2000[0m
              [36m</span>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
            [36m>[31m
              [0mSupporting Evidence[0m
            [36m</label>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-gray-600"[31m
            [36m>[31m
              [0mUpload photos, documents, or messages that support your dispute (optional)[0m
            [36m</p>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"evidence-upload"[31m
            [36m>[31m
              [36m<button>[31m
                [0mUpload Evidence[0m
              [36m</button>[31m
              [36m<button>[31m
                [0mTrigger Error[0m
              [36m</button>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground bg-background text-foreground"[31m
            [33mrole[31m=[32m"alert"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-info h-4 w-4"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"12"[31m
                [33mcy[31m=[32m"12"[31m
                [33mr[31m=[32m"10"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M12 16v-4"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M12 8h.01"[31m
              [36m/>[31m
            [36m</svg>[31m
            [36m<div[31m
              [33mclass[31m=[32m"text-sm [&_p]:leading-relaxed"[31m
            [36m>[31m
              [36m<p[31m
                [33mclass[31m=[32m"font-medium mb-1"[31m
              [36m>[31m
                [0mWhat happens next?[0m
              [36m</p>[31m
              [36m<ul[31m
                [33mclass[31m=[32m"text-sm space-y-1"[31m
              [36m>[31m
                [36m<li>[31m
                  [0m• Your dispute will be reviewed by our admin team[0m
                [36m</li>[31m
                [36m<li>[31m
                  [0m• You'll receive a response within 48 hours (or faster for urgent issues)[0m
                [36m</li>[31m
                [36m<li>[31m
                  [0m• You can communicate with the tailor and admin through messaging[0m
                [36m</li>[31m
                [36m<li>[31m
                  [0m• We'll work toward a fair resolution for all parties[0m
                [36m</li>[31m
              [36m</ul>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex space-x-3 pt-4 border-t"[31m
          [36m>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 flex-1"[31m
              [33mtype[31m=[32m"button"[31m
            [36m>[31m
              [0mCancel[0m
            [36m</button>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2 flex-1"[31m
              [33mtype[31m=[32m"submit"[31m
            [36m>[31m
              [0mCreate Dispute[0m
            [36m</button>[31m
          [36m</div>[31m
        [36m</form>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22mrenders form without order details[90m 198[2mms[22m[31m[39m
[31m     → Found multiple elements with the text: Create Dispute

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<h2[31m
  [33mclass[31m=[32m"text-xl font-semibold text-gray-900"[31m
[36m>[31m
  [0mCreate Dispute[0m
[36m</h2>[31m

Ignored nodes: comments, script, style
[36m<button[31m
  [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2 flex-1"[31m
  [33mtype[31m=[32m"submit"[31m
[36m>[31m
  [0mCreate Dispute[0m
[36m</button>[31m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full max-w-2xl mx-auto p-6"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"space-y-6"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"border-b pb-4"[31m
        [36m>[31m
          [36m<h2[31m
            [33mclass[31m=[32m"text-xl font-semibold text-gray-900"[31m
          [36m>[31m
            [0mCreate Dispute[0m
          [36m</h2>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-gray-600 mt-1"[31m
          [36m>[31m
            [0mReport an issue with your order for fair resolution[0m
          [36m</p>[31m
        [36m</div>[31m
        [36m<form[31m
          [33mclass[31m=[32m"space-y-6"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
              [33mfor[31m=[32m"category"[31m
            [36m>[31m
              [0mDispute Category *[0m
            [36m</label>[31m
            [36m<button[31m
              [33maria-autocomplete[31m=[32m"none"[31m
              [33maria-controls[31m=[32m"radix-«r7»"[31m
              [33maria-expanded[31m=[32m"false"[31m
              [33mclass[31m=[32m"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1"[31m
              [33mdata-placeholder[31m=[32m""[31m
              [33mdata-state[31m=[32m"closed"[31m
              [33mdir[31m=[32m"ltr"[31m
              [33mrole[31m=[32m"combobox"[31m
              [33mtype[31m=[32m"button"[31m
            [36m>[31m
              [36m<span[31m
                [33mstyle[31m=[32m"pointer-events: none;"[31m
              [36m>[31m
                [0mSelect the type of issue[0m
              [36m</span>[31m
              [36m<svg[31m
                [33maria-hidden[31m=[32m"true"[31m
                [33mclass[31m=[32m"lucide lucide-chevron-down h-4 w-4 opacity-50"[31m
                [33mfill[31m=[32m"none"[31m
                [33mheight[31m=[32m"24"[31m
                [33mstroke[31m=[32m"currentColor"[31m
                [33mstroke-linecap[31m=[32m"round"[31m
                [33mstroke-linejoin[31m=[32m"round"[31m
                [33mstroke-width[31m=[32m"2"[31m
                [33mviewBox[31m=[32m"0 0 24 24"[31m
                [33mwidth[31m=[32m"24"[31m
                [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
              [36m>[31m
                [36m<path[31m
                  [33md[31m=[32m"m6 9 6 6 6-6"[31m
                [36m/>[31m
              [36m</svg>[31m
            [36m</button>[31m
            [36m<select[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mstyle[31m=[32m"position: absolute; border: 0px; width: 1px; height: 1px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; word-wrap: normal;"[31m
              [33mtabindex[31m=[32m"-1"[31m
            [36m>[31m
              [36m<option[31m
                [33mvalue[31m=[32m""[31m
              [36m/>[31m
              [36m<option[31m
                [33mvalue[31m=[32m"QUALITY_ISSUE"[31m
              [36m>[31m
                [0m🔍Quality IssueIssues with garment quality, fit, or workmanship[0m
              [36m</option>[31m
              [36m<option[31m
                [33mvalue[31m=[32m"DELIVERY_DELAY"[31m
              [36m>[31m
                [0m📅Delivery DelayLate delivery or missed deadlines[0m
              [36m</option>[31m
              [36m<option[31m
                [33mvalue[31m=[32m"PAYMENT_PROBLEM"[31m
              [36m>[31m
                [0m💰Payment ProblemPayment-related disputes and refund requests[0m
              [36m</option>[31m
              [36m<option[31m
                [33mvalue[31m=[32m"COMMUNICATION_ISSUE"[31m
              [36m>[31m
                [0m💬Communication IssuePoor communication or unresponsive service[0m
              [36m</option>[31m
              [36m<option[31m
                [33mvalue[31m=[32m"MILESTONE_REJECTION"[31m
              [36m>[31m
                [0m🚫Milestone RejectionDisputes arising from rejected milestone approvals[0m
              [36m</option>[31m
              [36m<option[31m
                [33mvalue[31m=[32m"OTHER"[31m
              [36m>[31m
                [0m❓OtherOther issues not covered by standard categories[0m
              [36m</option>[31m
            [36m</select>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
              [33mfor[31m=[32m"title"[31m
            [36m>[31m
              [0mDispute Title *[0m
            [36m</label>[31m
            [36m<input[31m
              [33mclass[31m=[32m"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"[31m
              [33mid[31m=[32m"title"[31m
              [33mmaxlength[31m=[32m"200"[31m
              [33mplaceholder[31m=[32m"Brief summary of the issue"[31m
              [33mvalue[31m=[32m""[31m
            [36m/>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex justify-between text-xs text-gray-500"[31m
            [36m>[31m
              [36m<span />[31m
              [36m<span>[31m
                [0m0[0m
                [0m/[0m
                [0m200[0m
              [36m</span>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
              [33mfor[31m=[32m"description"[31m
            [36m>[31m
              [0mDetailed Description *[0m
            [36m</label>[31m
            [36m<textarea[31m
              [33mclass[31m=[32m"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"[31m
              [33mid[31m=[32m"description"[31m
              [33mmaxlength[31m=[32m"2000"[31m
              [33mplaceholder[31m=[32m"Provide a detailed explanation of the issue, including what went wrong and what you expected"[31m
              [33mrows[31m=[32m"5"[31m
            [36m/>[31m
            [36m<div[31m
              [33mclass[31m=[32m"flex justify-between text-xs text-gray-500"[31m
            [36m>[31m
              [36m<span />[31m
              [36m<span>[31m
                [0m0[0m
                [0m/[0m
                [0m2000[0m
              [36m</span>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"space-y-2"[31m
          [36m>[31m
            [36m<label[31m
              [33mclass[31m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[31m
            [36m>[31m
              [0mSupporting Evidence[0m
            [36m</label>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-gray-600"[31m
            [36m>[31m
              [0mUpload photos, documents, or messages that support your dispute (optional)[0m
            [36m</p>[31m
            [36m<div[31m
              [33mdata-testid[31m=[32m"evidence-upload"[31m
            [36m>[31m
              [36m<button>[31m
                [0mUpload Evidence[0m
              [36m</button>[31m
              [36m<button>[31m
                [0mTrigger Error[0m
              [36m</button>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground bg-background text-foreground"[31m
            [33mrole[31m=[32m"alert"[31m
          [36m>[31m
            [36m<svg[31m
              [33maria-hidden[31m=[32m"true"[31m
              [33mclass[31m=[32m"lucide lucide-info h-4 w-4"[31m
              [33mfill[31m=[32m"none"[31m
              [33mheight[31m=[32m"24"[31m
              [33mstroke[31m=[32m"currentColor"[31m
              [33mstroke-linecap[31m=[32m"round"[31m
              [33mstroke-linejoin[31m=[32m"round"[31m
              [33mstroke-width[31m=[32m"2"[31m
              [33mviewBox[31m=[32m"0 0 24 24"[31m
              [33mwidth[31m=[32m"24"[31m
              [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
            [36m>[31m
              [36m<circle[31m
                [33mcx[31m=[32m"12"[31m
                [33mcy[31m=[32m"12"[31m
                [33mr[31m=[32m"10"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M12 16v-4"[31m
              [36m/>[31m
              [36m<path[31m
                [33md[31m=[32m"M12 8h.01"[31m
              [36m/>[31m
            [36m</svg>[31m
            [36m<div[31m
              [33mclass[31m=[32m"text-sm [&_p]:leading-relaxed"[31m
            [36m>[31m
              [36m<p[31m
                [33mclass[31m=[32m"font-medium mb-1"[31m
              [36m>[31m
                [0mWhat happens next?[0m
              [36m</p>[31m
              [36m<ul[31m
                [33mclass[31m=[32m"text-sm space-y-1"[31m
              [36m>[31m
                [36m<li>[31m
                  [0m• Your dispute will be reviewed by our admin team[0m
                [36m</li>[31m
                [36m<li>[31m
                  [0m• You'll receive a response within 48 hours (or faster for urgent issues)[0m
                [36m</li>[31m
                [36m<li>[31m
                  [0m• You can communicate with the tailor and admin through messaging[0m
                [36m</li>[31m
                [36m<li>[31m
                  [0m• We'll work toward a fair resolution for all parties[0m
                [36m</li>[31m
              [36m</ul>[31m
            [36m</div>[31m
          [36m</div>[31m
          [36m<div[31m
            [33mclass[31m=[32m"flex space-x-3 pt-4 border-t"[31m
          [36m>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 flex-1"[31m
              [33mtype[31m=[32m"button"[31m
            [36m>[31m
              [0mCancel[0m
            [36m</button>[31m
            [36m<button[31m
              [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2 flex-1"[31m
              [33mtype[31m=[32m"submit"[31m
            [36m>[31m
              [0mCreate Dispute[0m
            [36m</button>[31m
          [36m</div>[31m
        [36m</form>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
   [33m[2m✓[22m[39m DisputeCreationForm[2m > [22mvalidates required fields [33m494[2mms[22m[39m
[31m   [31m×[31m DisputeCreationForm[2m > [22msubmits form with valid data[33m 5153[2mms[22m[31m[39m
[31m     → Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
 [32m✓[39m tests/unit/components/features/payments/PaymentSummaryCard.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[90m 291[2mms[22m[39m
 [31m❯[39m tests/unit/components/auth/autocomplete-attributes.test.tsx [2m([22m[2m6 tests[22m[2m | [22m[31m5 failed[39m[2m)[22m[90m 111[2mms[22m[39m
[31m   [31m×[31m Autocomplete Attributes[2m > [22mLoginForm[2m > [22mshould have proper autocomplete attributes on email field[90m 75[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m Autocomplete Attributes[2m > [22mLoginForm[2m > [22mshould have proper autocomplete attributes on password field[90m 6[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m Autocomplete Attributes[2m > [22mRegistrationForm[2m > [22mshould have proper autocomplete attributes on email field[90m 10[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m Autocomplete Attributes[2m > [22mRegistrationForm[2m > [22mshould have proper autocomplete attributes on password fields[90m 4[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[31m   [31m×[31m Autocomplete Attributes[2m > [22mAccessibility Standards[2m > [22mshould provide password managers with proper context[90m 6[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[90mstdout[2m | tests/unit/components/auth/LoginForm.simple.test.tsx
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 📡 add observability to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/tailor-group-coordination/bulk-update-workflow.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 🛠️  run anywhere with `dotenvx run -- yourcommand`

 [32m✓[39m tests/integration/tailor-group-coordination/bulk-update-workflow.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 21[2mms[22m[39m
 [31m❯[39m tests/unit/components/auth/LoginForm.simple.test.tsx [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[90m 83[2mms[22m[39m
[31m   [31m×[31m LoginForm[2m > [22mrenders login form with basic elements[90m 78[2mms[22m[31m[39m
[31m     → useAuth must be used within an AuthProvider[39m
[90mstdout[2m | tests/unit/webpack/cache-optimization.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  write to custom object with { processEnv: myObject }

 [32m✓[39m tests/unit/webpack/cache-optimization.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 14[2mms[22m[39m
[90mstdout[2m | tests/integration/hydration.integration.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: ⚙️  suppress all logs with { quiet: true }

[90mstdout[2m | tests/unit/example.test.ts
[22m[39m[dotenv@17.2.3] injecting env (9) from .env.test -- tip: 👥 sync secrets across teammates & machines: https://dotenvx.com/ops

 [32m✓[39m tests/unit/example.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 8[2mms[22m[39m
 [31m❯[39m tests/integration/hydration.integration.test.ts [2m([22m[2m0 test[22m[2m)[22m
[2m9:06:57 PM[22m [33m[1m[vite][22m[39m [33mwarning: [33mThis case clause will never be evaluated because it duplicates an earlier case clause[33m
97 |            query = query.order('rating', { ascending: order === 'asc' });
98 |            break;
99 |          case 'rating': // fallback for popularity
   |               ^
100|            query = query.order('total_orders', { ascending: order === 'asc' });
101|            break;
[39m
  Plugin: [35mvite:esbuild[39m
  File: [36mC:/dev/sew4mi-marketplace/sew4mi/apps/web/lib/repositories/tailor-profile.repository.ts[39m

[31m⎯⎯⎯⎯⎯⎯[1m[7m Failed Suites 18 [27m[22m⎯⎯⎯⎯⎯⎯[39m

[31m[1m[7m FAIL [27m[22m[39m tests/integration/advanced-search-workflow.test.ts[2m [ tests/integration/advanced-search-workflow.test.ts ][22m
[31m[1mError[22m: Failed to resolve import "supertest" from "tests/integration/advanced-search-workflow.test.ts". Does the file exist?[39m
  Plugin: [35mvite:import-analysis[39m
  File: [36mC:/dev/sew4mi-marketplace/sew4mi/apps/web/tests/integration/advanced-search-workflow.test.ts[39m:8:20
[33m  1  |  import { describe, it, expect, beforeAll, afterAll, beforeEach, afterEach } from "vitest";
  2  |  import { createClient } from "@supabase/supabase-js";
  3  |  import request from "supertest";
     |                       ^
  4  |  const TEST_SUPABASE_URL = process.env.TEST_SUPABASE_URL || "http://localhost:54321";
  5  |  const TEST_SUPABASE_ANON_KEY = process.env.TEST_SUPABASE_ANON_KEY || "test-anon-key";[39m
[90m [2m❯[22m TransformPluginContext._formatError ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m49258:41[22m[39m
[90m [2m❯[22m TransformPluginContext.error ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m49253:16[22m[39m
[90m [2m❯[22m normalizeUrl ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m64291:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m64423:39[22m[39m
[90m [2m❯[22m TransformPluginContext.transform ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m64350:7[22m[39m
[90m [2m❯[22m PluginContainer.transform ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m49099:18[22m[39m
[90m [2m❯[22m loadAndTransform ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m51977:27[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/integration/database.integration.test.ts[2m > [22mDatabase Integration Tests
[31m[1mError[22m: Failed to connect to Supabase: TypeError: Cannot read properties of undefined (reading 'status')[39m
[36m [2m❯[22m tests/integration/database.integration.test.ts:[2m30:13[22m[39m
    [90m 28| [39m    [35mconst[39m { error } [33m=[39m [35mawait[39m supabaseClient[33m.[39m[35mfrom[39m([32m'users'[39m)[33m.[39m[34mselect[39m([32m'count[39m…
    [90m 29| [39m    [35mif[39m (error) {
    [90m 30| [39m      [35mthrow[39m [35mnew[39m [33mError[39m([32m`Failed to connect to Supabase: [39m[36m${[39merror[33m.[39mmessage[36m}[39m…
    [90m   | [39m            [31m^[39m
    [90m 31| [39m    }
    [90m 32| [39m  })

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/integration/hydration-complete.integration.test.ts[2m [ tests/integration/hydration-complete.integration.test.ts ][22m
[31m[1mError[22m: Playwright Test did not expect test.describe() to be called here.
Most common reasons include:
- You are calling test.describe() in a configuration file.
- You are calling test.describe() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.[39m
[90m [2m❯[22m TestTypeImpl._currentSuite ../../node_modules/.pnpm/playwright@1.54.2/node_modules/playwright/lib/common/testType.js:[2m74:13[22m[39m
[90m [2m❯[22m TestTypeImpl._describe ../../node_modules/.pnpm/playwright@1.54.2/node_modules/playwright/lib/common/testType.js:[2m114:24[22m[39m
[90m [2m❯[22m Function.describe ../../node_modules/.pnpm/playwright@1.54.2/node_modules/playwright/lib/transform/transform.js:[2m275:12[22m[39m
[36m [2m❯[22m tests/integration/hydration-complete.integration.test.ts:[2m8:6[22m[39m
    [90m  6| [39m[35mimport[39m { test[33m,[39m expect } [35mfrom[39m [32m'@playwright/test'[39m
    [90m  7| [39m
    [90m  8| [39mtest[33m.[39m[34mdescribe[39m([32m'Complete Hydration Resolution Tests'[39m[33m,[39m () [33m=>[39m {
    [90m   | [39m     [31m^[39m
    [90m  9| [39m  [34mtest[39m([32m'should have no hydration errors on any auth page'[39m[33m,[39m [35masync[39m ({ pa…
    [90m 10| [39m    [35mconst[39m consoleErrors[33m:[39m string[] [33m=[39m []

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/integration/hydration.integration.test.ts[2m [ tests/integration/hydration.integration.test.ts ][22m
[31m[1mError[22m: Playwright Test did not expect test.describe() to be called here.
Most common reasons include:
- You are calling test.describe() in a configuration file.
- You are calling test.describe() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.[39m
[90m [2m❯[22m TestTypeImpl._currentSuite ../../node_modules/.pnpm/playwright@1.54.2/node_modules/playwright/lib/common/testType.js:[2m74:13[22m[39m
[90m [2m❯[22m TestTypeImpl._describe ../../node_modules/.pnpm/playwright@1.54.2/node_modules/playwright/lib/common/testType.js:[2m114:24[22m[39m
[90m [2m❯[22m Function.describe ../../node_modules/.pnpm/playwright@1.54.2/node_modules/playwright/lib/transform/transform.js:[2m275:12[22m[39m
[36m [2m❯[22m tests/integration/hydration.integration.test.ts:[2m8:6[22m[39m
    [90m  6| [39m[35mimport[39m { test[33m,[39m expect } [35mfrom[39m [32m'@playwright/test'[39m
    [90m  7| [39m
    [90m  8| [39mtest[33m.[39m[34mdescribe[39m([32m'Hydration Integration Tests'[39m[33m,[39m () [33m=>[39m {
    [90m   | [39m     [31m^[39m
    [90m  9| [39m  [34mtest[39m([32m'should not have hydration errors on auth pages'[39m[33m,[39m [35masync[39m ({ page…
    [90m 10| [39m    [90m// Capture console errors to detect hydration mismatches[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/integration/group-orders/group-order-api.integration.test.ts[2m > [22mGroup Order API Integration Tests
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'ok')[39m
[90m [2m❯[22m _handleRequest ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/fetch.ts:[2m194:15[22m[39m
[90m [2m❯[22m _request ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/fetch.ts:[2m157:16[22m[39m
[90m [2m❯[22m SupabaseAuthClient.signUp ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m502:15[22m[39m
[36m [2m❯[22m tests/integration/group-orders/group-order-api.integration.test.ts:[2m30:50[22m[39m
    [90m 28| [39m    [90m// Create test user[39m
    [90m 29| [39m    [35mconst[39m testEmail [33m=[39m [32m`test-group-order-[39m[36m${[39m[33mDate[39m[33m.[39m[34mnow[39m()[36m}[39m[32m@example.com`[39m[33m;[39m
    [90m 30| [39m    [35mconst[39m { data[33m:[39m authData[33m,[39m error[33m:[39m authError } [33m=[39m [35mawait[39m supabaseClient[33m.[39m…
    [90m   | [39m                                                 [31m^[39m
    [90m 31| [39m      email[33m:[39m testEmail[33m,[39m
    [90m 32| [39m      password[33m:[39m [32m'TestPassword123!'[39m[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/accessibility/FamilyProfileSelector.a11y.test.tsx[2m [ tests/unit/accessibility/FamilyProfileSelector.a11y.test.tsx ][22m
[31m[1mReferenceError[22m: jest is not defined[39m
[36m [2m❯[22m tests/unit/accessibility/FamilyProfileSelector.a11y.test.tsx:[2m76:20[22m[39m
    [90m 74| [39m  profiles[33m:[39m mockProfiles[33m,[39m
    [90m 75| [39m  selectedProfileId[33m:[39m undefined[33m,[39m
    [90m 76| [39m  onSelectProfile[33m:[39m jest[33m.[39m[34mfn[39m()[33m,[39m
    [90m   | [39m                   [31m^[39m
    [90m 77| [39m  onCreateNewProfile[33m:[39m jest[33m.[39m[34mfn[39m()[33m,[39m
    [90m 78| [39m  onEditProfile[33m:[39m jest[33m.[39m[34mfn[39m()[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/integration/api/payments/initiate.test.ts[2m [ tests/integration/api/payments/initiate.test.ts ][22m
[31m[1m[7m FAIL [27m[22m[39m tests/integration/api/webhooks/hubtel.test.ts[2m [ tests/integration/api/webhooks/hubtel.test.ts ][22m
[31m[1mError[22m: Missing required Hubtel environment variables: HUBTEL_CLIENT_ID, HUBTEL_CLIENT_SECRET, HUBTEL_MERCHANT_ACCOUNT_ID, HUBTEL_WEBHOOK_SECRET, HUBTEL_CALLBACK_URL[39m
[36m [2m❯[22m Module.validateHubtelEnvironment lib/config/env.ts:[2m59:11[22m[39m
    [90m 57| [39m  
    [90m 58| [39m  [35mif[39m (missing[33m.[39mlength [33m>[39m [34m0[39m) {
    [90m 59| [39m    [35mthrow[39m [35mnew[39m [33mError[39m(
    [90m   | [39m          [31m^[39m
    [90m 60| [39m      [32m`Missing required Hubtel environment variables: [39m[36m${[39mmissing[33m.[39m[34mjoin[39m([32m'[39m…
    [90m 61| [39m    )[33m;[39m
[90m [2m❯[22m new HubtelService lib/services/hubtel.service.ts:[2m30:5[22m[39m
[90m [2m❯[22m lib/services/hubtel.service.ts:[2m269:30[22m[39m
[90m [2m❯[22m lib/services/payment.service.ts:[2m1:1[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/disputes/evidence-upload.test.ts[2m [ tests/unit/api/disputes/evidence-upload.test.ts ][22m
[31m[1mError[22m: [vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock[39m
[36m [2m❯[22m app/api/disputes/evidence/upload/route.ts:[2m4:31[22m[39m
    [90m  5| [39m */[39m
    [90m  6| [39m
    [90m  7| [39m[35mimport[39m { [33mNextRequest[39m[33m,[39m [33mNextResponse[39m } [35mfrom[39m [32m'next/server'[39m[33m;[39m
    [90m   | [39m  [31m^[39m
    [90m  8| [39m[35mimport[39m { z } [35mfrom[39m [32m'zod'[39m[33m;[39m
    [90m  9| [39m[35mimport[39m { createClient } [35mfrom[39m [32m'@/lib/supabase'[39m[33m;[39m

[31m[1mCaused by: ReferenceError[22m: Cannot access 'mockUploadToSupabaseStorage' before initialization[39m
[36m [2m❯[22m tests/unit/api/disputes/evidence-upload.test.ts:[2m6:28[22m[39m
[90m [2m❯[22m app/api/disputes/evidence/upload/route.ts:[2m4:31[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/create.test.ts[2m [ tests/unit/api/orders/create.test.ts ][22m
[31m[1mError[22m: Failed to resolve import "@supabase/auth-helpers-nextjs" from "tests/unit/api/orders/create.test.ts". Does the file exist?[39m
  Plugin: [35mvite:import-analysis[39m
  File: [36mC:/dev/sew4mi-marketplace/sew4mi/apps/web/tests/unit/api/orders/create.test.ts[39m:7:38
[33m  5  |  const __vi_import_0__ = await import('next/server')
  6  |  const __vi_import_1__ = await import('@/app/api/orders/create/route')
  7  |  const __vi_import_2__ = await import('@supabase/auth-helpers-nextjs')
     |                                       ^
  8  |  const __vi_import_3__ = await import('@sew4mi/shared/types')
  9  |  import { describe, it, expect, beforeEach, vi } from "vitest";[39m
[90m [2m❯[22m TransformPluginContext._formatError ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m49258:41[22m[39m
[90m [2m❯[22m TransformPluginContext.error ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m49253:16[22m[39m
[90m [2m❯[22m normalizeUrl ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m64291:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m64423:39[22m[39m
[90m [2m❯[22m TransformPluginContext.transform ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m64350:7[22m[39m
[90m [2m❯[22m PluginContainer.transform ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m49099:18[22m[39m
[90m [2m❯[22m loadAndTransform ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m51977:27[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/group-order.service.test.ts[2m [ tests/unit/lib/services/group-order.service.test.ts ][22m
[31m[1mError[22m: [vitest] No "createClient" export is defined on the "@/lib/supabase/server" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
vi[33m.[39m[34mmock[39m([35mimport[39m([32m"@/lib/supabase/server"[39m)[33m,[39m [35masync[39m (importOriginal) [33m=>[39m {
  [35mconst[39m actual [33m=[39m [35mawait[39m [34mimportOriginal[39m()
  [35mreturn[39m {
    [33m...[39mactual[33m,[39m
    [90m// your mocked methods[39m
  }
})

[36m [2m❯[22m Module.get [as createServerSupabaseClient] lib/supabase/index.ts:[2m7:151[22m[39m
    [90m  6| [39m[90m// Server-side exports[39m
    [90m  7| [39m[35mexport[39m { createServiceRoleClient[33m,[39m createClient } [35mfrom[39m [32m'./server'[39m[33m;[39m
    [90m  8| [39m[35mexport[39m { createClient [35mas[39m createServerSupabaseClient } [35mfrom[39m [32m'./server'[39m[33m;[39m…
    [90m   | [39m                                 [31m^[39m
    [90m  9| [39m
    [90m 10| [39m[90m// Client-side exports[39m
[90m [2m❯[22m new GroupOrderService lib/services/group-order.service.ts:[2m45:22[22m[39m
[90m [2m❯[22m lib/services/group-order.service.ts:[2m565:34[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[10/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/hubtel.service.test.ts[2m > [22mHubtelService[2m > [22mgetTransactionStatus
[31m[1mError[22m: No test found in suite getTransactionStatus[39m
[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[11/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/repositories/payment.repository.test.ts[2m [ tests/unit/lib/repositories/payment.repository.test.ts ][22m
[31m[1mReferenceError[22m: Cannot access 'mockSupabase' before initialization[39m
[36m [2m❯[22m Proxy.<anonymous> tests/unit/lib/repositories/payment.repository.test.ts:[2m3:51[22m[39m
    [90m  1| [39m[35mimport[39m { describe[33m,[39m it[33m,[39m expect[33m,[39m vi[33m,[39m beforeEach[33m,[39m afterEach } [35mfrom[39m [32m'vites[39m…
    [90m  2| [39m[35mimport[39m { [33mPaymentRepository[39m } [35mfrom[39m [32m'@/lib/repositories/payment.reposito[39m…
    [90m  3| [39m[90m// import { createClient } from '@supabase/supabase-js'; // Removed un[39m…
    [90m   | [39m                                                  [31m^[39m
    [90m  4| [39m
    [90m  5| [39m[90m// Mock Supabase client[39m
[90m [2m❯[22m new PaymentRepository lib/repositories/payment.repository.ts:[2m29:21[22m[39m
[90m [2m❯[22m lib/repositories/payment.repository.ts:[2m289:34[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[12/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/milestones/analytics.test.ts[2m [ tests/unit/api/admin/milestones/analytics.test.ts ][22m
[31m[1mError[22m: [vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock[39m
[36m [2m❯[22m app/api/admin/milestones/analytics/route.ts:[2m3:31[22m[39m
    [90m  1| [39m[90m/**
    [90m  2| [39m * Admin milestone analytics API endpoint
    [90m  3| [39m * GET /api/admin/milestones/analytics
    [90m   | [39m                              [31m^[39m
    [90m  4| [39m * @file route.ts
    [90m  5| [39m */[39m

[31m[1mCaused by: ReferenceError[22m: Cannot access 'mockCreateClient' before initialization[39m
[36m [2m❯[22m tests/unit/api/admin/milestones/analytics.test.ts:[2m3:17[22m[39m
[90m [2m❯[22m app/api/admin/milestones/analytics/route.ts:[2m3:31[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[13/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/GarmentTypeSelection.test.tsx[2m [ tests/unit/components/features/orders/GarmentTypeSelection.test.tsx ][22m
[31m[1mError[22m: [vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock[39m
[36m [2m❯[22m components/features/orders/GarmentTypeSelection.tsx:[2m9:31[22m[39m
    [90m  7| [39m[35mimport[39m { [33mBadge[39m } [35mfrom[39m [32m'@/components/ui/badge'[39m[33m;[39m
    [90m  8| [39m[35mimport[39m { [33mTabs[39m[33m,[39m [33mTabsContent[39m[33m,[39m [33mTabsList[39m[33m,[39m [33mTabsTrigger[39m } [35mfrom[39m [32m'@/components[39m…
    [90m  9| [39m[35mimport[39m { [33mSearch[39m } [35mfrom[39m [32m'lucide-react'[39m[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m 10| [39m[35mimport[39m { 
    [90m 11| [39m  [33mGarmentTypeOption[39m[33m,[39m 

[31m[1mCaused by: ReferenceError[22m: Cannot access 'mockGarmentTypes' before initialization[39m
[36m [2m❯[22m tests/unit/components/features/orders/GarmentTypeSelection.test.tsx:[2m4:20[22m[39m
[90m [2m❯[22m components/features/orders/GarmentTypeSelection.tsx:[2m9:31[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[14/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/OrderHistory.test.tsx[2m [ tests/unit/components/features/orders/OrderHistory.test.tsx ][22m
[31m[1mError[22m: Failed to resolve import "@/components/ui/pagination" from "components/features/orders/OrderHistory.tsx". Does the file exist?[39m
  Plugin: [35mvite:import-analysis[39m
  File: [36mC:/dev/sew4mi-marketplace/sew4mi/apps/web/components/features/orders/OrderHistory.tsx[39m:19:114
[33m  10 |  import { Popover, PopoverContent, PopoverTrigger } from "@/components/ui/popover";
  11 |  import { Calendar as CalendarComponent } from "@/components/ui/calendar";
  12 |  import { Pagination, PaginationContent, PaginationItem, PaginationLink, PaginationNext, PaginationPrevious } from "@/components/ui/pagination";
     |                                                                                                                     ^
  13 |  import { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar";
  14 |  import { Skeleton } from "@/components/ui/skeleton";[39m
[90m [2m❯[22m TransformPluginContext._formatError ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m49258:41[22m[39m
[90m [2m❯[22m TransformPluginContext.error ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m49253:16[22m[39m
[90m [2m❯[22m normalizeUrl ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m64291:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m64423:39[22m[39m
[90m [2m❯[22m TransformPluginContext.transform ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m64350:7[22m[39m
[90m [2m❯[22m PluginContainer.transform ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m49099:18[22m[39m
[90m [2m❯[22m loadAndTransform ../../node_modules/.pnpm/vite@5.4.19_@types+node@20.19.10/node_modules/vite/dist/node/chunks/dep-C6uTJdX2.js:[2m51977:27[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[15/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/OrderTrackingPage.test.tsx[2m [ tests/unit/components/features/orders/OrderTrackingPage.test.tsx ][22m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'DRESS')[39m
[36m [2m❯[22m tests/unit/components/features/orders/OrderTrackingPage.test.tsx:[2m89:30[22m[39m
    [90m 87| [39m    tailorPhone[33m:[39m [32m'+233241234568'[39m[33m,[39m
    [90m 88| [39m    tailorLocation[33m:[39m [32m'Kumasi, Ghana'[39m[33m,[39m
    [90m 89| [39m    garmentType[33m:[39m [33mGarmentType[39m[33m.[39m[33mDRESS[39m[33m,[39m
    [90m   | [39m                             [31m^[39m
    [90m 90| [39m    garmentCategory[33m:[39m [32m'Evening Dress'[39m[33m,[39m
    [90m 91| [39m    size[33m:[39m [32m'M'[39m[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[16/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/MapView.test.tsx[2m [ tests/unit/components/features/tailors/MapView.test.tsx ][22m
[31m[1mTypeError[22m: 'process.env' only accepts a configurable, writable, and enumerable data descriptor[39m
[36m [2m❯[22m tests/unit/components/features/tailors/MapView.test.tsx:[2m51:8[22m[39m
    [90m 49| [39m
    [90m 50| [39m[90m// Mock environment variable[39m
    [90m 51| [39m[33mObject[39m[33m.[39m[34mdefineProperty[39m(process[33m.[39menv[33m,[39m [32m'NEXT_PUBLIC_GOOGLE_MAPS_API_KEY'[39m[33m,[39m {
    [90m   | [39m       [31m^[39m
    [90m 52| [39m  value[33m:[39m [32m'test-api-key'[39m[33m,[39m
    [90m 53| [39m  writable[33m:[39m [35mtrue[39m[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[17/561]⎯[22m[39m

[31m⎯⎯⎯⎯⎯⎯[1m[7m Failed Tests 543 [27m[22m⎯⎯⎯⎯⎯⎯[39m

[31m[1m[7m FAIL [27m[22m[39m tests/integration/websocket/order-tracking-realtime.integration.test.ts[2m > [22mOrder Tracking WebSocket Integration[2m > [22mWebSocket Connection[2m > [22mshould establish WebSocket connection for order chat
[31m[1mError[22m: Invalid Chai property: toHaveReceivedConnectionParams[39m
[36m [2m❯[22m tests/integration/websocket/order-tracking-realtime.integration.test.ts:[2m125:20[22m[39m
    [90m123| [39m      
    [90m124| [39m      [35mawait[39m server[33m.[39mconnected[33m;[39m
    [90m125| [39m      [34mexpect[39m(server)[33m.[39m[34mtoHaveReceivedConnectionParams[39m({
    [90m   | [39m                   [31m^[39m
    [90m126| [39m        userId[33m:[39m mockUserId
    [90m127| [39m      })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[18/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/integration/websocket/order-tracking-realtime.integration.test.ts[2m > [22mOrder Tracking WebSocket Integration[2m > [22mWebSocket Connection[2m > [22mshould support multiple concurrent connections
[31m[1mAssertionError[22m: expected undefined to be 2 // Object.is equality[39m

[32m- Expected:[39m 
2

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/integration/websocket/order-tracking-realtime.integration.test.ts:[2m152:42[22m[39m
    [90m150| [39m      [35mawait[39m server[33m.[39mconnected[33m;[39m
    [90m151| [39m      
    [90m152| [39m      [34mexpect[39m(server[33m.[39mserver[33m.[39mclients[33m.[39msize)[33m.[39m[34mtoBe[39m([34m2[39m)[33m;[39m
    [90m   | [39m                                         [31m^[39m
    [90m153| [39m      
    [90m154| [39m      client1[33m.[39m[34mclose[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[19/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/integration/websocket/order-tracking-realtime.integration.test.ts[2m > [22mOrder Tracking WebSocket Integration[2m > [22mError Handling and Recovery[2m > [22mshould handle malformed JSON messages
[31m[1m[7m FAIL [27m[22m[39m tests/integration/websocket/order-tracking-realtime.integration.test.ts[2m > [22mOrder Tracking WebSocket Integration[2m > [22mError Handling and Recovery[2m > [22mshould handle server errors gracefully
[31m[1m[7m FAIL [27m[22m[39m tests/integration/websocket/order-tracking-realtime.integration.test.ts[2m > [22mOrder Tracking WebSocket Integration[2m > [22mSecurity and Authentication[2m > [22mshould require valid user authentication
[31m[1m[7m FAIL [27m[22m[39m tests/integration/websocket/order-tracking-realtime.integration.test.ts[2m > [22mOrder Tracking WebSocket Integration[2m > [22mSecurity and Authentication[2m > [22mshould validate order access permissions
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22msubmits form with valid data
[31m[1mError[22m: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[20/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/integration/websocket/order-tracking-realtime.integration.test.ts[2m > [22mOrder Tracking WebSocket Integration[2m > [22mPerformance and Load Testing[2m > [22mshould handle multiple concurrent connections efficiently
[31m[1mAssertionError[22m: expected undefined to be 50 // Object.is equality[39m

[32m- Expected:[39m 
50

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/integration/websocket/order-tracking-realtime.integration.test.ts:[2m506:42[22m[39m
    [90m504| [39m      }
    [90m505| [39m      
    [90m506| [39m      [34mexpect[39m(server[33m.[39mserver[33m.[39mclients[33m.[39msize)[33m.[39m[34mtoBe[39m(connectionCount)[33m;[39m
    [90m   | [39m                                         [31m^[39m
    [90m507| [39m      
    [90m508| [39m      [90m// Broadcast a message to all clients[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[21/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/AdminDisputeDashboard.test.tsx[2m > [22mAdminDisputeDashboard[2m > [22mdisplays dispute priority and status badges
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: HIGH. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6 test-class"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-center justify-between"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
          [36m>[39m
            [0mDispute Management[0m
          [36m</h1>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
          [36m>[39m
            [0mManage and resolve customer disputes efficiently[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center space-x-2"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-download h-4 w-4 mr-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 15V3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"m7 10 5 5 5-5"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mExport[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-refresh-cw h-4 w-4 mr-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M21 3v5h-5"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M8 16H3v5"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mRefresh[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center space-x-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-file-text h-5 w-5 text-blue-500"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M10 9H8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 13H8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 17H8"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm font-medium text-gray-600"[39m
              [36m>[39m
                [0mTotal Disputes[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-2xl font-bold"[39m
              [36m>[39m
                [0m25[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center space-x-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-triangle-alert h-5 w-5 text-yellow-500"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[3...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-6 test-class"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
            [36m>[39m
              [0mDispute Management[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [36m>[39m
              [0mManage and resolve customer disputes efficiently[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center space-x-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-download h-4 w-4 mr-2"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 15V3"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m7 10 5 5 5-5"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mExport[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-refresh-cw h-4 w-4 mr-2"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 3v5h-5"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M8 16H3v5"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mRefresh[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center space-x-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-file-text h-5 w-5 text-blue-500"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M10 9H8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M16 13H8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M16 17H8"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-600"[39m
                [36m>[39m
                  [0mTotal Disputes[0m
                [36m</p>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0m25[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center space-x-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
           ...
[90m [2m❯[22m Proxy.waitForWrapper ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m❯[22m tests/unit/components/AdminDisputeDashboard.test.tsx:[2m115:11[22m[39m
    [90m113| [39m    [34mrender[39m([33m<[39m[33mAdminDisputeDashboard[39m [33m{[39m[33m...[39mmockProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m114| [39m
    [90m115| [39m    [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m          [31m^[39m
    [90m116| [39m      [90m// Check for priority badges[39m
    [90m117| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'HIGH'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[22/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/AdminDisputeDashboard.test.tsx[2m > [22mAdminDisputeDashboard[2m > [22mshows overdue styling for overdue disputes
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: Overdue

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm font-medium text-gray-600"[39m
[36m>[39m
  [0mOverdue[0m
[36m</p>[39m

Ignored nodes: comments, script, style
[36m<button[39m
  [33maria-controls[39m=[32m"radix-«r1o»-content-overdue"[39m
  [33maria-selected[39m=[32m"false"[39m
  [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
  [33mdata-orientation[39m=[32m"horizontal"[39m
  [33mdata-radix-collection-item[39m=[32m""[39m
  [33mdata-state[39m=[32m"inactive"[39m
  [33mid[39m=[32m"radix-«r1o»-trigger-overdue"[39m
  [33mrole[39m=[32m"tab"[39m
  [33mtabindex[39m=[32m"-1"[39m
  [33mtype[39m=[32m"button"[39m
[36m>[39m
  [0mOverdue[0m
[36m</button>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6 test-class"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-center justify-between"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
          [36m>[39m
            [0mDispute Management[0m
          [36m</h1>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
          [36m>[39m
            [0mManage and resolve customer disputes efficiently[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center space-x-2"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-download h-4 w-4 mr-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 15V3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"m7 10 5 5 5-5"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mExport[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-refresh-cw h-4 w-4 mr-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M21 3v5h-5"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M8 16H3v5"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mRefresh[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center space-x-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-file-text h-5 w-5 text-blue-500"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M10 9H8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 13H8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 17H8"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm font-medium text-gray-600"[39m
              [36m>[39m
                [0mTotal Disputes[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-2xl font-bold"[39m
              [36m>[39m
                [0m25[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center space-x-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-triangle-alert h-5 w-5 text-yellow-500"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[3...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-6 test-class"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
            [36m>[39m
              [0mDispute Management[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [36m>[39m
              [0mManage and resolve customer disputes efficiently[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center space-x-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-download h-4 w-4 mr-2"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 15V3"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m7 10 5 5 5-5"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mExport[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-refresh-cw h-4 w-4 mr-2"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 3v5h-5"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M8 16H3v5"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mRefresh[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center space-x-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-file-text h-5 w-5 text-blue-500"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M10 9H8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M16 13H8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M16 17H8"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-600"[39m
                [36m>[39m
                  [0mTotal Disputes[0m
                [36m</p>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0m25[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center space-x-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
           ...
[90m [2m❯[22m Proxy.waitForWrapper ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m❯[22m tests/unit/components/AdminDisputeDashboard.test.tsx:[2m129:11[22m[39m
    [90m127| [39m    [34mrender[39m([33m<[39m[33mAdminDisputeDashboard[39m [33m{[39m[33m...[39mmockProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m128| [39m
    [90m129| [39m    [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m          [31m^[39m
    [90m130| [39m      [35mconst[39m overdueText [33m=[39m screen[33m.[39m[34mgetByText[39m([32m'Overdue'[39m)[33m;[39m
    [90m131| [39m      [34mexpect[39m(overdueText)[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[23/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/AdminDisputeDashboard.test.tsx[2m > [22mAdminDisputeDashboard[2m > [22mhandles filter changes
[31m[1mError[22m: Unable to perform pointer interaction as the element has `pointer-events: none`:

SPAN[39m
[90m [2m❯[22m assertPointerEvents ../../node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.1/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:[2m45:15[22m[39m
[90m [2m❯[22m Object.enter ../../node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.1/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:[2m50:17[22m[39m
[90m [2m❯[22m PointerHost.move ../../node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.1/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:[2m51:85[22m[39m
[90m [2m❯[22m pointerAction ../../node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.1/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:[2m57:39[22m[39m
[90m [2m❯[22m Object.pointer ../../node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.1/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:[2m25:15[22m[39m
[90m [2m❯[22m Object.asyncWrapper ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m88:22[22m[39m
[36m [2m❯[22m tests/unit/components/AdminDisputeDashboard.test.tsx:[2m172:5[22m[39m
    [90m170| [39m    [90m// Open status filter[39m
    [90m171| [39m    [35mconst[39m statusFilter [33m=[39m screen[33m.[39m[34mgetByText[39m([32m'Filter by status'[39m)[33m;[39m
    [90m172| [39m    [35mawait[39m user[33m.[39m[34mclick[39m(statusFilter)[33m;[39m
    [90m   | [39m    [31m^[39m
    [90m173| [39m
    [90m174| [39m    [90m// Select OPEN status[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[24/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/AdminDisputeDashboard.test.tsx[2m > [22mAdminDisputeDashboard[2m > [22mhandles tab switching
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: Overdue

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm font-medium text-gray-600"[39m
[36m>[39m
  [0mOverdue[0m
[36m</p>[39m

Ignored nodes: comments, script, style
[36m<button[39m
  [33maria-controls[39m=[32m"radix-«r40»-content-overdue"[39m
  [33maria-selected[39m=[32m"false"[39m
  [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
  [33mdata-orientation[39m=[32m"horizontal"[39m
  [33mdata-radix-collection-item[39m=[32m""[39m
  [33mdata-state[39m=[32m"inactive"[39m
  [33mid[39m=[32m"radix-«r40»-trigger-overdue"[39m
  [33mrole[39m=[32m"tab"[39m
  [33mtabindex[39m=[32m"-1"[39m
  [33mtype[39m=[32m"button"[39m
[36m>[39m
  [0mOverdue[0m
[36m</button>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6 test-class"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-center justify-between"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
          [36m>[39m
            [0mDispute Management[0m
          [36m</h1>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
          [36m>[39m
            [0mManage and resolve customer disputes efficiently[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center space-x-2"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-download h-4 w-4 mr-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 15V3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"m7 10 5 5 5-5"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mExport[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-refresh-cw h-4 w-4 mr-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M21 3v5h-5"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M8 16H3v5"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mRefresh[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center space-x-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-file-text h-5 w-5 text-blue-500"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M10 9H8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 13H8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 17H8"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm font-medium text-gray-600"[39m
              [36m>[39m
                [0mTotal Disputes[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-2xl font-bold"[39m
              [36m>[39m
                [0m25[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center space-x-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-triangle-alert h-5 w-5 text-yellow-500"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[3...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/AdminDisputeDashboard.test.tsx:[2m195:31[22m[39m
    [90m193| [39m
    [90m194| [39m    [90m// Switch to overdue tab[39m
    [90m195| [39m    [35mconst[39m overdueTab [33m=[39m screen[33m.[39m[34mgetByText[39m([32m'Overdue'[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m196| [39m    [35mawait[39m user[33m.[39m[34mclick[39m(overdueTab)[33m;[39m
    [90m197| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[25/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mrenders form with order details
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: Create Dispute

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<h2[39m
  [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
[36m>[39m
  [0mCreate Dispute[0m
[36m</h2>[39m

Ignored nodes: comments, script, style
[36m<button[39m
  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2 flex-1"[39m
  [33mtype[39m=[32m"submit"[39m
[36m>[39m
  [0mCreate Dispute[0m
[36m</button>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full max-w-2xl mx-auto p-6"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"border-b pb-4"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
          [36m>[39m
            [0mCreate Dispute[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-gray-600 mt-1"[39m
          [36m>[39m
            [0mReport an issue with your order for fair resolution[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-gray-50 rounded-lg p-4"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-medium text-gray-900 mb-2"[39m
          [36m>[39m
            [0mOrder Details[0m
          [36m</h3>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-2 gap-4 text-sm"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mCustomer:[0m
              [36m</span>[39m
              [0m [0m
              [0mJohn Doe[0m
            [36m</div>[39m
            [36m<div>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mTailor:[0m
              [36m</span>[39m
              [0m [0m
              [0mJane Tailor[0m
            [36m</div>[39m
            [36m<div>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mAmount:[0m
              [36m</span>[39m
              [0m GH₵ [0m
              [0m250[0m
            [36m</div>[39m
            [36m<div>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mStatus:[0m
              [36m</span>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground ml-1"[39m
              [36m>[39m
                [0mIN_PROGRESS[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<form[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
              [33mfor[39m=[32m"category"[39m
            [36m>[39m
              [0mDispute Category *[0m
            [36m</label>[39m
            [36m<button[39m
              [33maria-autocomplete[39m=[32m"none"[39m
              [33maria-controls[39m=[32m"radix-«r0»"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1"[39m
              [33mdata-placeholder[39m=[32m""[39m
              [33mdata-state[39m=[32m"closed"[39m
              [33mdir[39m=[32m"ltr"[39m
              [33mrole[39m=[32m"combobox"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [36m<span[39m
                [33mstyle[39m=[32m"pointer-events: none;"[39m
              [36m>[39m
                [0mSelect the type of issue[0m
              [36m</span>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-chevron-down h-4 w-4 opacity-50"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m6 9 6 6 6-6"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
            [36m<select[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: absolute; border: 0px; width: 1px; height: 1px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; word-wrap: normal;"[39m
              [33mtabindex[39m=[32m"-1"[39m
            [36m>[39m
              [36m<option[39m
                [33mvalue[39m=[32m""[39m
              [36m/>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"QUALITY_ISSUE"[39m
              [36m>[39m
                [0m🔍Quality IssueIssues with garment quality, fit, or workmanship[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"DELIVERY_DELAY"[39m
              [36m>[39m
                [0m📅Delivery DelayLate delivery or missed deadlines[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"PAYMENT_PROBLEM"[39m
              [36m>[39m
                [0m💰Payment ProblemPayment-related disputes and refund requests[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"COMMUNICATION_ISSUE"[39m
              [36m>[39m
                [0m💬Communication IssuePoor communication or unresponsive service[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"MILESTONE_REJECTION"[39m
              [36m>[39m
                [0m🚫Milestone RejectionDisputes arising from rejected milestone approvals[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"OTHER"[39m
              [36m>[39m
                [0m❓OtherOther issues not covered by standard categories[0m
              [36m</option>[39m
            [36m</select>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
              [33mfor[39m=[32m"title"[39m
            [36m>[39m
              [0mDispute Title *[0m
            [36m</label>[39m
            [36m<input[39m
              [33mclass[39m=[32m"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"[39m
              [33mid[39m=[32m"title"[39m
              [33mmaxlength[39m=[32m"200"[39m
              [33mplaceholder[39m=[32m"Brief summary of the issue"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between text-xs text-gray-500"[39m
            [36m>[39m
              [36m<span />[39m
              [36m<span>[39m
                [0m0[0m
                [0m/[0m
                [0m200[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
              [33mfor[39m=[32m"description"[39m
            [36m>[39m
              [0mDetailed Description *[0m
            [36m</label>[39m
            [36m<textarea[39m
              [33mclass[39m=[32m"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"[39m
              [33mid[39m=[32m"description"[39m
              [33mmaxlength[39m=[32m"2000"[39m
              [33mplaceholder[39m=[32m"Provide a detailed explanation of the issue, including what went wrong and what you expected"[39m
              [33mrows[39m=[32m"5"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between text-xs text-gray-500"[39m
            [36m>[39m
              [36m<span />[39m
              [36m<span>[39m
                [0m0[0m
                [0m/[0m
                [0m2000[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
            [36m>[39m
              [0mSupporting Evidence[0m
            [36m</label>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [36m>[39m
              [0mUpload photos, documents, or messages that support your dispute (optional)[0m
            [36m</p>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"evidence-upload"[39m
            [36m>[39m
              [36m<button>[39m
                [0mUpload Evidence[0m
              [36m</button>[39m
              [36m<button>[39m
                [0mTrigger Error[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground bg-background text-foreground"[39m
            [33mrole[39m=[32m"alert"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-info h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 16v-4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 8h.01"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-sm [&_p]:leading-relaxed"[39m
            [36m>[39m
              [36m<p[39m
                [33mclass[39m=[32m"font-medium mb-1"[39m
              [36m>[39m
                [0mWhat happens next?[0m
              [36m</p>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"text-sm space-y-1"[39m
              [36m>[39m
                [36m<li>[39m
                  [0m• Your dispute will be reviewed by our admin team[0m
                [36m</li>[39m
                [36m<li>[39m
                  [0m• You'll receive a response within 48 hours (or faster for urgent issues)[0m
                [36m</li>[39m
                [36m<li>[39m
                  [0m• You can communicate with the tailor and admin through messaging[0m
                [36m</li>[39m
                [36m<li>[39m
                  [0m• We'll work toward a fair resolution for all parties[0m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex space-x-3 pt-4 border-t"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 flex-1"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mCancel[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2 flex-1"[39m
              [33mtype[39m=[32m"submit"[39m
            [36m>[39m
              [0mCreate Dispute[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</form>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/DisputeCreationForm.test.tsx:[2m45:19[22m[39m
    [90m 43| [39m    [34mrender[39m([33m<[39m[33mDisputeCreationForm[39m [33m{[39m[33m...[39mmockProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m 44| [39m
    [90m 45| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Create Dispute'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 46| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'John Doe'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m 47| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Jane Tailor'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[26/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mrenders form without order details
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: Create Dispute

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<h2[39m
  [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
[36m>[39m
  [0mCreate Dispute[0m
[36m</h2>[39m

Ignored nodes: comments, script, style
[36m<button[39m
  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2 flex-1"[39m
  [33mtype[39m=[32m"submit"[39m
[36m>[39m
  [0mCreate Dispute[0m
[36m</button>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full max-w-2xl mx-auto p-6"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"border-b pb-4"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
          [36m>[39m
            [0mCreate Dispute[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-gray-600 mt-1"[39m
          [36m>[39m
            [0mReport an issue with your order for fair resolution[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<form[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
              [33mfor[39m=[32m"category"[39m
            [36m>[39m
              [0mDispute Category *[0m
            [36m</label>[39m
            [36m<button[39m
              [33maria-autocomplete[39m=[32m"none"[39m
              [33maria-controls[39m=[32m"radix-«r7»"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1"[39m
              [33mdata-placeholder[39m=[32m""[39m
              [33mdata-state[39m=[32m"closed"[39m
              [33mdir[39m=[32m"ltr"[39m
              [33mrole[39m=[32m"combobox"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [36m<span[39m
                [33mstyle[39m=[32m"pointer-events: none;"[39m
              [36m>[39m
                [0mSelect the type of issue[0m
              [36m</span>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-chevron-down h-4 w-4 opacity-50"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m6 9 6 6 6-6"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
            [36m<select[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mstyle[39m=[32m"position: absolute; border: 0px; width: 1px; height: 1px; padding: 0px; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; word-wrap: normal;"[39m
              [33mtabindex[39m=[32m"-1"[39m
            [36m>[39m
              [36m<option[39m
                [33mvalue[39m=[32m""[39m
              [36m/>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"QUALITY_ISSUE"[39m
              [36m>[39m
                [0m🔍Quality IssueIssues with garment quality, fit, or workmanship[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"DELIVERY_DELAY"[39m
              [36m>[39m
                [0m📅Delivery DelayLate delivery or missed deadlines[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"PAYMENT_PROBLEM"[39m
              [36m>[39m
                [0m💰Payment ProblemPayment-related disputes and refund requests[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"COMMUNICATION_ISSUE"[39m
              [36m>[39m
                [0m💬Communication IssuePoor communication or unresponsive service[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"MILESTONE_REJECTION"[39m
              [36m>[39m
                [0m🚫Milestone RejectionDisputes arising from rejected milestone approvals[0m
              [36m</option>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"OTHER"[39m
              [36m>[39m
                [0m❓OtherOther issues not covered by standard categories[0m
              [36m</option>[39m
            [36m</select>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
              [33mfor[39m=[32m"title"[39m
            [36m>[39m
              [0mDispute Title *[0m
            [36m</label>[39m
            [36m<input[39m
              [33mclass[39m=[32m"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"[39m
              [33mid[39m=[32m"title"[39m
              [33mmaxlength[39m=[32m"200"[39m
              [33mplaceholder[39m=[32m"Brief summary of the issue"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between text-xs text-gray-500"[39m
            [36m>[39m
              [36m<span />[39m
              [36m<span>[39m
                [0m0[0m
                [0m/[0m
                [0m200[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
              [33mfor[39m=[32m"description"[39m
            [36m>[39m
              [0mDetailed Description *[0m
            [36m</label>[39m
            [36m<textarea[39m
              [33mclass[39m=[32m"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"[39m
              [33mid[39m=[32m"description"[39m
              [33mmaxlength[39m=[32m"2000"[39m
              [33mplaceholder[39m=[32m"Provide a detailed explanation of the issue, including what went wrong and what you expected"[39m
              [33mrows[39m=[32m"5"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between text-xs text-gray-500"[39m
            [36m>[39m
              [36m<span />[39m
              [36m<span>[39m
                [0m0[0m
                [0m/[0m
                [0m2000[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
            [36m>[39m
              [0mSupporting Evidence[0m
            [36m</label>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [36m>[39m
              [0mUpload photos, documents, or messages that support your dispute (optional)[0m
            [36m</p>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"evidence-upload"[39m
            [36m>[39m
              [36m<button>[39m
                [0mUpload Evidence[0m
              [36m</button>[39m
              [36m<button>[39m
                [0mTrigger Error[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground bg-background text-foreground"[39m
            [33mrole[39m=[32m"alert"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-info h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 16v-4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 8h.01"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-sm [&_p]:leading-relaxed"[39m
            [36m>[39m
              [36m<p[39m
                [33mclass[39m=[32m"font-medium mb-1"[39m
              [36m>[39m
                [0mWhat happens next?[0m
              [36m</p>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"text-sm space-y-1"[39m
              [36m>[39m
                [36m<li>[39m
                  [0m• Your dispute will be reviewed by our admin team[0m
                [36m</li>[39m
                [36m<li>[39m
                  [0m• You'll receive a response within 48 hours (or faster for urgent issues)[0m
                [36m</li>[39m
                [36m<li>[39m
                  [0m• You can communicate with the tailor and admin through messaging[0m
                [36m</li>[39m
                [36m<li>[39m
                  [0m• We'll work toward a fair resolution for all parties[0m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex space-x-3 pt-4 border-t"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 flex-1"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mCancel[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2 flex-1"[39m
              [33mtype[39m=[32m"submit"[39m
            [36m>[39m
              [0mCreate Dispute[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</form>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/DisputeCreationForm.test.tsx:[2m56:19[22m[39m
    [90m 54| [39m    [34mrender[39m([33m<[39m[33mDisputeCreationForm[39m [33m{[39m[33m...[39mpropsWithoutDetails[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m 55| [39m
    [90m 56| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Create Dispute'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 57| [39m    [34mexpect[39m(screen[33m.[39m[34mqueryByText[39m([32m'Order Details'[39m))[33m.[39mnot[33m.[39m[34mtoBeInTheDocument[39m(…
    [90m 58| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[27/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/hooks/useSavedSearches.test.ts[2m > [22museSavedSearches[2m > [22mCreate Saved Search[2m > [22mshould handle create errors
[31m[1mAssertionError[22m: expected "error" to be called with arguments: [ …(2) ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m[39m
[36m [2m❯[22m tests/unit/hooks/useSavedSearches.test.ts:[2m210:26[22m[39m
    [90m208| [39m      )[33m.[39mrejects[33m.[39m[34mtoThrow[39m([32m'Maximum saved searches reached'[39m)[33m;[39m
    [90m209| [39m
    [90m210| [39m      [34mexpect[39m(consoleSpy)[33m.[39m[34mtoHaveBeenCalledWith[39m([32m'Failed to create saved [39m…
    [90m   | [39m                         [31m^[39m
    [90m211| [39m
    [90m212| [39m      consoleSpy[33m.[39m[34mmockRestore[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[28/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/hooks/useSavedSearches.test.ts[2m > [22museSavedSearches[2m > [22mUpdate Saved Search[2m > [22mshould handle update errors
[31m[1mAssertionError[22m: expected "error" to be called with arguments: [ …(2) ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m[39m
[36m [2m❯[22m tests/unit/hooks/useSavedSearches.test.ts:[2m294:26[22m[39m
    [90m292| [39m      )[33m.[39mrejects[33m.[39m[34mtoThrow[39m([32m'Saved search not found'[39m)[33m;[39m
    [90m293| [39m
    [90m294| [39m      [34mexpect[39m(consoleSpy)[33m.[39m[34mtoHaveBeenCalledWith[39m([32m'Failed to update saved [39m…
    [90m   | [39m                         [31m^[39m
    [90m295| [39m
    [90m296| [39m      consoleSpy[33m.[39m[34mmockRestore[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[29/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/hooks/useSavedSearches.test.ts[2m > [22museSavedSearches[2m > [22mCheck Matches[2m > [22mshould check matches with since parameter
[31m[1mAssertionError[22m: expected "spy" to be called with arguments: [ Array(1) ][90m

Received: 

[1m  1st spy call:

[22m[2m  Array [[22m
[32m-   "/api/search/saved/search-1/check?since=2024-01-03T00:00:00.000Z",[90m
[31m+   "/api/search/saved",[90m
[2m  ][22m

[1m  2nd spy call:

[22m[2m  Array [[22m
[32m-   "/api/search/saved/search-1/check?since=2024-01-03T00:00:00.000Z",[90m
[31m+   "/api/search/saved/search-1/check?since=2024-01-03T00%3A00%3A00.000Z",[90m
[2m  ][22m
[31m[90m

Number of calls: [1m2[22m
[31m[39m
[36m [2m❯[22m tests/unit/hooks/useSavedSearches.test.ts:[2m428:28[22m[39m
    [90m426| [39m
    [90m427| [39m      [34mexpect[39m(matches)[33m.[39m[34mtoEqual[39m(mockMatches)[33m;[39m
    [90m428| [39m      [34mexpect[39m(global[33m.[39mfetch)[33m.[39m[34mtoHaveBeenCalledWith[39m(
    [90m   | [39m                           [31m^[39m
    [90m429| [39m        [32m`/api/search/saved/search-1/check?since=[39m[36m${[39msince[33m.[39m[34mtoISOString[39m()[36m}[39m[32m`[39m
    [90m430| [39m      )[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[30/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/middleware/roles.test.ts[2m > [22mRole-based Middleware[2m > [22mPublic routes[2m > [22mshould allow access to public routes without authentication
[31m[1mError[22m: request.headers must be an instance of Headers[39m
[90m [2m❯[22m handleMiddlewareField ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m18:13[22m[39m
[90m [2m❯[22m Function.next ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m150:5[22m[39m
[36m [2m❯[22m Module.middleware middleware.ts:[2m7:31[22m[39m
    [90m  5| [39m
    [90m  6| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mmiddleware[39m(request[33m:[39m [33mNextRequest[39m) {
    [90m  7| [39m  [35mlet[39m response [33m=[39m [33mNextResponse[39m[33m.[39m[34mnext[39m({
    [90m   | [39m                              [31m^[39m
    [90m  8| [39m    request[33m:[39m {
    [90m  9| [39m      headers[33m:[39m request[33m.[39mheaders[33m,[39m
[90m [2m❯[22m tests/unit/middleware/roles.test.ts:[2m81:32[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[31/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/middleware/roles.test.ts[2m > [22mRole-based Middleware[2m > [22mAuthentication required routes[2m > [22mshould redirect unauthenticated users to login
[31m[1mError[22m: request.headers must be an instance of Headers[39m
[90m [2m❯[22m handleMiddlewareField ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m18:13[22m[39m
[90m [2m❯[22m Function.next ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m150:5[22m[39m
[36m [2m❯[22m Module.middleware middleware.ts:[2m7:31[22m[39m
    [90m  5| [39m
    [90m  6| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mmiddleware[39m(request[33m:[39m [33mNextRequest[39m) {
    [90m  7| [39m  [35mlet[39m response [33m=[39m [33mNextResponse[39m[33m.[39m[34mnext[39m({
    [90m   | [39m                              [31m^[39m
    [90m  8| [39m    request[33m:[39m {
    [90m  9| [39m      headers[33m:[39m request[33m.[39mheaders[33m,[39m
[90m [2m❯[22m tests/unit/middleware/roles.test.ts:[2m96:30[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[32/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/middleware/roles.test.ts[2m > [22mRole-based Middleware[2m > [22mAuthentication required routes[2m > [22mshould redirect unauthenticated users to login with redirect parameter
[31m[1mError[22m: request.headers must be an instance of Headers[39m
[90m [2m❯[22m handleMiddlewareField ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m18:13[22m[39m
[90m [2m❯[22m Function.next ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m150:5[22m[39m
[36m [2m❯[22m Module.middleware middleware.ts:[2m7:31[22m[39m
    [90m  5| [39m
    [90m  6| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mmiddleware[39m(request[33m:[39m [33mNextRequest[39m) {
    [90m  7| [39m  [35mlet[39m response [33m=[39m [33mNextResponse[39m[33m.[39m[34mnext[39m({
    [90m   | [39m                              [31m^[39m
    [90m  8| [39m    request[33m:[39m {
    [90m  9| [39m      headers[33m:[39m request[33m.[39mheaders[33m,[39m
[90m [2m❯[22m tests/unit/middleware/roles.test.ts:[2m108:30[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[33/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/middleware/roles.test.ts[2m > [22mRole-based Middleware[2m > [22mRole-based access control[2m > [22mshould allow customer access to customer routes
[31m[1mError[22m: request.headers must be an instance of Headers[39m
[90m [2m❯[22m handleMiddlewareField ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m18:13[22m[39m
[90m [2m❯[22m Function.next ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m150:5[22m[39m
[36m [2m❯[22m Module.middleware middleware.ts:[2m7:31[22m[39m
    [90m  5| [39m
    [90m  6| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mmiddleware[39m(request[33m:[39m [33mNextRequest[39m) {
    [90m  7| [39m  [35mlet[39m response [33m=[39m [33mNextResponse[39m[33m.[39m[34mnext[39m({
    [90m   | [39m                              [31m^[39m
    [90m  8| [39m    request[33m:[39m {
    [90m  9| [39m      headers[33m:[39m request[33m.[39mheaders[33m,[39m
[90m [2m❯[22m tests/unit/middleware/roles.test.ts:[2m137:30[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[34/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/middleware/roles.test.ts[2m > [22mRole-based Middleware[2m > [22mRole-based access control[2m > [22mshould block customer access to admin routes
[31m[1mError[22m: request.headers must be an instance of Headers[39m
[90m [2m❯[22m handleMiddlewareField ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m18:13[22m[39m
[90m [2m❯[22m Function.next ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m150:5[22m[39m
[36m [2m❯[22m Module.middleware middleware.ts:[2m7:31[22m[39m
    [90m  5| [39m
    [90m  6| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mmiddleware[39m(request[33m:[39m [33mNextRequest[39m) {
    [90m  7| [39m  [35mlet[39m response [33m=[39m [33mNextResponse[39m[33m.[39m[34mnext[39m({
    [90m   | [39m                              [31m^[39m
    [90m  8| [39m    request[33m:[39m {
    [90m  9| [39m      headers[33m:[39m request[33m.[39mheaders[33m,[39m
[90m [2m❯[22m tests/unit/middleware/roles.test.ts:[2m162:30[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[35/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/middleware/roles.test.ts[2m > [22mRole-based Middleware[2m > [22mRole-based access control[2m > [22mshould allow tailor access to tailor routes
[31m[1mError[22m: request.headers must be an instance of Headers[39m
[90m [2m❯[22m handleMiddlewareField ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m18:13[22m[39m
[90m [2m❯[22m Function.next ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m150:5[22m[39m
[36m [2m❯[22m Module.middleware middleware.ts:[2m7:31[22m[39m
    [90m  5| [39m
    [90m  6| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mmiddleware[39m(request[33m:[39m [33mNextRequest[39m) {
    [90m  7| [39m  [35mlet[39m response [33m=[39m [33mNextResponse[39m[33m.[39m[34mnext[39m({
    [90m   | [39m                              [31m^[39m
    [90m  8| [39m    request[33m:[39m {
    [90m  9| [39m      headers[33m:[39m request[33m.[39mheaders[33m,[39m
[90m [2m❯[22m tests/unit/middleware/roles.test.ts:[2m188:30[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[36/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/middleware/roles.test.ts[2m > [22mRole-based Middleware[2m > [22mRole-based access control[2m > [22mshould block tailor access to customer routes
[31m[1mError[22m: request.headers must be an instance of Headers[39m
[90m [2m❯[22m handleMiddlewareField ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m18:13[22m[39m
[90m [2m❯[22m Function.next ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m150:5[22m[39m
[36m [2m❯[22m Module.middleware middleware.ts:[2m7:31[22m[39m
    [90m  5| [39m
    [90m  6| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mmiddleware[39m(request[33m:[39m [33mNextRequest[39m) {
    [90m  7| [39m  [35mlet[39m response [33m=[39m [33mNextResponse[39m[33m.[39m[34mnext[39m({
    [90m   | [39m                              [31m^[39m
    [90m  8| [39m    request[33m:[39m {
    [90m  9| [39m      headers[33m:[39m request[33m.[39mheaders[33m,[39m
[90m [2m❯[22m tests/unit/middleware/roles.test.ts:[2m213:30[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[37/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/middleware/roles.test.ts[2m > [22mRole-based Middleware[2m > [22mRole-based access control[2m > [22mshould allow admin access to all routes
[31m[1mError[22m: request.headers must be an instance of Headers[39m
[90m [2m❯[22m handleMiddlewareField ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m18:13[22m[39m
[90m [2m❯[22m Function.next ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m150:5[22m[39m
[36m [2m❯[22m Module.middleware middleware.ts:[2m7:31[22m[39m
    [90m  5| [39m
    [90m  6| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mmiddleware[39m(request[33m:[39m [33mNextRequest[39m) {
    [90m  7| [39m  [35mlet[39m response [33m=[39m [33mNextResponse[39m[33m.[39m[34mnext[39m({
    [90m   | [39m                              [31m^[39m
    [90m  8| [39m    request[33m:[39m {
    [90m  9| [39m      headers[33m:[39m request[33m.[39mheaders[33m,[39m
[90m [2m❯[22m tests/unit/middleware/roles.test.ts:[2m242:32[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[38/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/middleware/roles.test.ts[2m > [22mRole-based Middleware[2m > [22mAuth route redirects[2m > [22mshould redirect authenticated users away from auth routes to appropriate dashboard
[31m[1mError[22m: request.headers must be an instance of Headers[39m
[90m [2m❯[22m handleMiddlewareField ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m18:13[22m[39m
[90m [2m❯[22m Function.next ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m150:5[22m[39m
[36m [2m❯[22m Module.middleware middleware.ts:[2m7:31[22m[39m
    [90m  5| [39m
    [90m  6| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mmiddleware[39m(request[33m:[39m [33mNextRequest[39m) {
    [90m  7| [39m  [35mlet[39m response [33m=[39m [33mNextResponse[39m[33m.[39m[34mnext[39m({
    [90m   | [39m                              [31m^[39m
    [90m  8| [39m    request[33m:[39m {
    [90m  9| [39m      headers[33m:[39m request[33m.[39mheaders[33m,[39m
[90m [2m❯[22m tests/unit/middleware/roles.test.ts:[2m267:30[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[39/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/middleware/roles.test.ts[2m > [22mRole-based Middleware[2m > [22mAuth route redirects[2m > [22mshould redirect admin to admin dashboard from auth routes
[31m[1mError[22m: request.headers must be an instance of Headers[39m
[90m [2m❯[22m handleMiddlewareField ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m18:13[22m[39m
[90m [2m❯[22m Function.next ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m150:5[22m[39m
[36m [2m❯[22m Module.middleware middleware.ts:[2m7:31[22m[39m
    [90m  5| [39m
    [90m  6| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mmiddleware[39m(request[33m:[39m [33mNextRequest[39m) {
    [90m  7| [39m  [35mlet[39m response [33m=[39m [33mNextResponse[39m[33m.[39m[34mnext[39m({
    [90m   | [39m                              [31m^[39m
    [90m  8| [39m    request[33m:[39m {
    [90m  9| [39m      headers[33m:[39m request[33m.[39mheaders[33m,[39m
[90m [2m❯[22m tests/unit/middleware/roles.test.ts:[2m290:30[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[40/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/middleware/roles.test.ts[2m > [22mRole-based Middleware[2m > [22mError handling[2m > [22mshould handle database errors gracefully
[31m[1mError[22m: request.headers must be an instance of Headers[39m
[90m [2m❯[22m handleMiddlewareField ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m18:13[22m[39m
[90m [2m❯[22m Function.next ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m150:5[22m[39m
[36m [2m❯[22m Module.middleware middleware.ts:[2m7:31[22m[39m
    [90m  5| [39m
    [90m  6| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mmiddleware[39m(request[33m:[39m [33mNextRequest[39m) {
    [90m  7| [39m  [35mlet[39m response [33m=[39m [33mNextResponse[39m[33m.[39m[34mnext[39m({
    [90m   | [39m                              [31m^[39m
    [90m  8| [39m    request[33m:[39m {
    [90m  9| [39m      headers[33m:[39m request[33m.[39mheaders[33m,[39m
[90m [2m❯[22m tests/unit/middleware/roles.test.ts:[2m315:30[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[41/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/middleware/roles.test.ts[2m > [22mRole-based Middleware[2m > [22mError handling[2m > [22mshould use metadata role as fallback
[31m[1mError[22m: request.headers must be an instance of Headers[39m
[90m [2m❯[22m handleMiddlewareField ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m18:13[22m[39m
[90m [2m❯[22m Function.next ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m150:5[22m[39m
[36m [2m❯[22m Module.middleware middleware.ts:[2m7:31[22m[39m
    [90m  5| [39m
    [90m  6| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mmiddleware[39m(request[33m:[39m [33mNextRequest[39m) {
    [90m  7| [39m  [35mlet[39m response [33m=[39m [33mNextResponse[39m[33m.[39m[34mnext[39m({
    [90m   | [39m                              [31m^[39m
    [90m  8| [39m    request[33m:[39m {
    [90m  9| [39m      headers[33m:[39m request[33m.[39mheaders[33m,[39m
[90m [2m❯[22m tests/unit/middleware/roles.test.ts:[2m348:30[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[42/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/middleware/roles.test.ts[2m > [22mRole-based Middleware[2m > [22mUnauthorized page parameters[2m > [22mshould include role information in unauthorized redirect
[31m[1mError[22m: request.headers must be an instance of Headers[39m
[90m [2m❯[22m handleMiddlewareField ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m18:13[22m[39m
[90m [2m❯[22m Function.next ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/web/spec-extension/response.ts:[2m150:5[22m[39m
[36m [2m❯[22m Module.middleware middleware.ts:[2m7:31[22m[39m
    [90m  5| [39m
    [90m  6| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mmiddleware[39m(request[33m:[39m [33mNextRequest[39m) {
    [90m  7| [39m  [35mlet[39m response [33m=[39m [33mNextResponse[39m[33m.[39m[34mnext[39m({
    [90m   | [39m                              [31m^[39m
    [90m  8| [39m    request[33m:[39m {
    [90m  9| [39m      headers[33m:[39m request[33m.[39mheaders[33m,[39m
[90m [2m❯[22m tests/unit/middleware/roles.test.ts:[2m375:30[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[43/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/utils/roles.test.ts[2m > [22mRole Utilities[2m > [22mcanAccessRoute[2m > [22mshould prevent tailor from accessing customer-only routes
[31m[1mAssertionError[22m: expected true to be false // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- false[39m
[31m+ true[39m

[36m [2m❯[22m tests/unit/utils/roles.test.ts:[2m92:60[22m[39m
    [90m 90| [39m
    [90m 91| [39m    [34mit[39m([32m'should prevent tailor from accessing customer-only routes'[39m[33m,[39m ()…
    [90m 92| [39m      [34mexpect[39m([34mcanAccessRoute[39m([33mUSER_ROLES[39m[33m.[39m[33mTAILOR[39m[33m,[39m [32m'/orders'[39m))[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
    [90m   | [39m                                                           [31m^[39m
    [90m 93| [39m      [34mexpect[39m([34mcanAccessRoute[39m([33mUSER_ROLES[39m[33m.[39m[33mTAILOR[39m[33m,[39m [32m'/measurements'[39m))[33m.[39m[34mtoBe[39m(…
    [90m 94| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[44/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/utils/roles.test.ts[2m > [22mRole Utilities[2m > [22mgetUnauthorizedRoutes[2m > [22mshould return correct unauthorized routes for tailor
[31m[1mAssertionError[22m: expected [ '/orders/new', '/tailors', …(11) ] to include '/orders'[39m
[36m [2m❯[22m tests/unit/utils/roles.test.ts:[2m224:34[22m[39m
    [90m222| [39m      [35mconst[39m unauthorizedRoutes [33m=[39m [34mgetUnauthorizedRoutes[39m([33mUSER_ROLES[39m[33m.[39m[33mTAIL[39m…
    [90m223| [39m      [34mexpect[39m(unauthorizedRoutes)[33m.[39m[34mtoContain[39m([32m'/admin/dashboard'[39m)[33m;[39m
    [90m224| [39m      [34mexpect[39m(unauthorizedRoutes)[33m.[39m[34mtoContain[39m([32m'/orders'[39m)[33m;[39m [90m// Customer rou[39m…
    [90m   | [39m                                 [31m^[39m
    [90m225| [39m      [34mexpect[39m(unauthorizedRoutes)[33m.[39m[34mtoContain[39m([32m'/measurements'[39m)[33m;[39m
    [90m226| [39m      [34mexpect[39m(unauthorizedRoutes)[33m.[39mnot[33m.[39m[34mtoContain[39m([32m'/portfolio'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[45/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/utils/roles.test.ts[2m > [22mRole Utilities[2m > [22mgetUnauthorizedRoutes[2m > [22mshould return correct unauthorized routes for admin
[31m[1mAssertionError[22m: expected [ '/orders/new', '/tailors', …(6) ] to include '/orders'[39m
[36m [2m❯[22m tests/unit/utils/roles.test.ts:[2m233:34[22m[39m
    [90m231| [39m      [35mconst[39m unauthorizedRoutes [33m=[39m [34mgetUnauthorizedRoutes[39m([33mUSER_ROLES[39m[33m.[39m[33mADMI[39m…
    [90m232| [39m      [90m// Admin doesn't have access to customer/tailor-only routes[39m
    [90m233| [39m      [34mexpect[39m(unauthorizedRoutes)[33m.[39m[34mtoContain[39m([32m'/orders'[39m)[33m;[39m
    [90m   | [39m                                 [31m^[39m
    [90m234| [39m      [34mexpect[39m(unauthorizedRoutes)[33m.[39m[34mtoContain[39m([32m'/portfolio'[39m)[33m;[39m
    [90m235| [39m      [34mexpect[39m(unauthorizedRoutes)[33m.[39m[34mtoContain[39m([32m'/earnings'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[46/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/services/auth.service.test.ts[2m > [22mAuthService[2m > [22mregister[2m > [22mshould register user with email
[31m[1mTypeError[22m: mockSupabase.auth.signUp.mockResolvedValue is not a function[39m
[36m [2m❯[22m tests/unit/services/auth.service.test.ts:[2m45:32[22m[39m
    [90m 43| [39m
    [90m 44| [39m      [35mconst[39m mockUser [33m=[39m { id[33m:[39m [32m'123'[39m[33m,[39m email[33m:[39m [32m'test@example.com'[39m }[33m;[39m
    [90m 45| [39m      mockSupabase[33m.[39mauth[33m.[39msignUp[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                               [31m^[39m
    [90m 46| [39m        data[33m:[39m { user[33m:[39m mockUser[33m,[39m session[33m:[39m [35mnull[39m }[33m,[39m
    [90m 47| [39m        error[33m:[39m [35mnull[39m[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[47/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/services/auth.service.test.ts[2m > [22mAuthService[2m > [22mregister[2m > [22mshould register user with phone
[31m[1mTypeError[22m: mockSupabase.auth.signUp.mockResolvedValue is not a function[39m
[36m [2m❯[22m tests/unit/services/auth.service.test.ts:[2m82:32[22m[39m
    [90m 80| [39m
    [90m 81| [39m      [35mconst[39m mockUser [33m=[39m { id[33m:[39m [32m'123'[39m[33m,[39m phone[33m:[39m [32m'+233241234567'[39m }[33m;[39m
    [90m 82| [39m      mockSupabase[33m.[39mauth[33m.[39msignUp[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                               [31m^[39m
    [90m 83| [39m        data[33m:[39m { user[33m:[39m mockUser[33m,[39m session[33m:[39m [35mnull[39m }[33m,[39m
    [90m 84| [39m        error[33m:[39m [35mnull[39m[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[48/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/services/auth.service.test.ts[2m > [22mAuthService[2m > [22mregister[2m > [22mshould throw error on registration failure
[31m[1mTypeError[22m: mockSupabase.auth.signUp.mockResolvedValue is not a function[39m
[36m [2m❯[22m tests/unit/services/auth.service.test.ts:[2m118:32[22m[39m
    [90m116| [39m      }[33m;[39m
    [90m117| [39m
    [90m118| [39m      mockSupabase[33m.[39mauth[33m.[39msignUp[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                               [31m^[39m
    [90m119| [39m        data[33m:[39m { user[33m:[39m [35mnull[39m[33m,[39m session[33m:[39m [35mnull[39m }[33m,[39m
    [90m120| [39m        error[33m:[39m { message[33m:[39m [32m'Email already exists'[39m }[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[49/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/services/auth.service.test.ts[2m > [22mAuthService[2m > [22mverifyOTP[2m > [22mshould verify email OTP
[31m[1mTypeError[22m: mockSupabase.auth.verifyOtp.mockResolvedValue is not a function[39m
[36m [2m❯[22m tests/unit/services/auth.service.test.ts:[2m130:35[22m[39m
    [90m128| [39m    [34mit[39m([32m'should verify email OTP'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m129| [39m      [35mconst[39m mockResult [33m=[39m { user[33m:[39m { id[33m:[39m [32m'123'[39m }[33m,[39m session[33m:[39m { access_toke…
    [90m130| [39m      mockSupabase[33m.[39mauth[33m.[39mverifyOtp[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                                  [31m^[39m
    [90m131| [39m        data[33m:[39m mockResult[33m,[39m
    [90m132| [39m        error[33m:[39m [35mnull[39m[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[50/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/services/auth.service.test.ts[2m > [22mAuthService[2m > [22mverifyOTP[2m > [22mshould verify phone OTP
[31m[1mTypeError[22m: mockSupabase.auth.verifyOtp.mockResolvedValue is not a function[39m
[36m [2m❯[22m tests/unit/services/auth.service.test.ts:[2m152:35[22m[39m
    [90m150| [39m    [34mit[39m([32m'should verify phone OTP'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m151| [39m      [35mconst[39m mockResult [33m=[39m { user[33m:[39m { id[33m:[39m [32m'123'[39m }[33m,[39m session[33m:[39m { access_toke…
    [90m152| [39m      mockSupabase[33m.[39mauth[33m.[39mverifyOtp[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                                  [31m^[39m
    [90m153| [39m        data[33m:[39m mockResult[33m,[39m
    [90m154| [39m        error[33m:[39m [35mnull[39m[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[51/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/services/auth.service.test.ts[2m > [22mAuthService[2m > [22mverifyOTP[2m > [22mshould throw error on invalid OTP
[31m[1mTypeError[22m: mockSupabase.auth.verifyOtp.mockResolvedValue is not a function[39m
[36m [2m❯[22m tests/unit/services/auth.service.test.ts:[2m173:35[22m[39m
    [90m171| [39m
    [90m172| [39m    [34mit[39m([32m'should throw error on invalid OTP'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m173| [39m      mockSupabase[33m.[39mauth[33m.[39mverifyOtp[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                                  [31m^[39m
    [90m174| [39m        data[33m:[39m [35mnull[39m[33m,[39m
    [90m175| [39m        error[33m:[39m { message[33m:[39m [32m'Invalid OTP'[39m }[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[52/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/services/auth.service.test.ts[2m > [22mAuthService[2m > [22mresendOTP[2m > [22mshould resend email OTP
[31m[1mTypeError[22m: mockSupabase.auth.resend.mockResolvedValue is not a function[39m
[36m [2m❯[22m tests/unit/services/auth.service.test.ts:[2m190:32[22m[39m
    [90m188| [39m  [34mdescribe[39m([32m'resendOTP'[39m[33m,[39m () [33m=>[39m {
    [90m189| [39m    [34mit[39m([32m'should resend email OTP'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m190| [39m      mockSupabase[33m.[39mauth[33m.[39mresend[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                               [31m^[39m
    [90m191| [39m        error[33m:[39m [35mnull[39m[33m,[39m
    [90m192| [39m      })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[53/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/services/auth.service.test.ts[2m > [22mAuthService[2m > [22mresendOTP[2m > [22mshould resend phone OTP
[31m[1mTypeError[22m: mockSupabase.auth.resend.mockResolvedValue is not a function[39m
[36m [2m❯[22m tests/unit/services/auth.service.test.ts:[2m205:32[22m[39m
    [90m203| [39m
    [90m204| [39m    [34mit[39m([32m'should resend phone OTP'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m205| [39m      mockSupabase[33m.[39mauth[33m.[39mresend[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                               [31m^[39m
    [90m206| [39m        error[33m:[39m [35mnull[39m[33m,[39m
    [90m207| [39m      })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[54/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/services/auth.service.test.ts[2m > [22mAuthService[2m > [22msignIn[2m > [22mshould sign in with email
[31m[1mTypeError[22m: mockSupabase.auth.signInWithPassword.mockResolvedValue is not a function[39m
[36m [2m❯[22m tests/unit/services/auth.service.test.ts:[2m223:44[22m[39m
    [90m221| [39m    [34mit[39m([32m'should sign in with email'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m222| [39m      [35mconst[39m mockResult [33m=[39m { user[33m:[39m { id[33m:[39m [32m'123'[39m }[33m,[39m session[33m:[39m { access_toke…
    [90m223| [39m      mockSupabase[33m.[39mauth[33m.[39msignInWithPassword[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                                           [31m^[39m
    [90m224| [39m        data[33m:[39m mockResult[33m,[39m
    [90m225| [39m        error[33m:[39m [35mnull[39m[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[55/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/services/auth.service.test.ts[2m > [22mAuthService[2m > [22msignIn[2m > [22mshould sign in with phone
[31m[1mTypeError[22m: mockSupabase.auth.signInWithPassword.mockResolvedValue is not a function[39m
[36m [2m❯[22m tests/unit/services/auth.service.test.ts:[2m243:44[22m[39m
    [90m241| [39m    [34mit[39m([32m'should sign in with phone'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m242| [39m      [35mconst[39m mockResult [33m=[39m { user[33m:[39m { id[33m:[39m [32m'123'[39m }[33m,[39m session[33m:[39m { access_toke…
    [90m243| [39m      mockSupabase[33m.[39mauth[33m.[39msignInWithPassword[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                                           [31m^[39m
    [90m244| [39m        data[33m:[39m mockResult[33m,[39m
    [90m245| [39m        error[33m:[39m [35mnull[39m[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[56/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/roles.test.ts[2m > [22mAdmin Role Change API - Fixed[2m > [22mshould return 401 for unauthenticated requests
[31m[1mAssertionError[22m: expected 500 to be 401 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 401[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/roles.test.ts:[2m121:29[22m[39m
    [90m119| [39m    [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m120| [39m
    [90m121| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m401[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m122| [39m    [34mexpect[39m(data[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Authentication required'[39m)[33m;[39m
    [90m123| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[57/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/roles.test.ts[2m > [22mAdmin Role Change API - Fixed[2m > [22mshould return 400 for invalid request data
[31m[1mAssertionError[22m: expected 500 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/roles.test.ts:[2m159:29[22m[39m
    [90m157| [39m    [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m158| [39m
    [90m159| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m160| [39m    [34mexpect[39m(data[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Invalid request data'[39m)[33m;[39m
    [90m161| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[58/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/roles.test.ts[2m > [22mAdmin Role Change API - Fixed[2m > [22mshould successfully change user role
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/roles.test.ts:[2m203:29[22m[39m
    [90m201| [39m    [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m202| [39m
    [90m203| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m204| [39m    [34mexpect[39m(data[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m205| [39m    [34mexpect[39m(data[33m.[39mmessage)[33m.[39m[34mtoContain[39m([32m'CUSTOMER to TAILOR'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[59/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/loyalty/redeem.test.ts[2m > [22mPOST /api/loyalty/redeem[2m > [22mshould successfully redeem reward with sufficient points
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'get')[39m
[36m [2m❯[22m getIdentifier lib/middleware/rate-limit.ts:[2m171:38[22m[39m
    [90m169| [39m[35mfunction[39m [34mgetIdentifier[39m(request[33m:[39m [33mNextRequest[39m)[33m:[39m string {
    [90m170| [39m  [90m// Try to get user ID from auth token[39m
    [90m171| [39m  [35mconst[39m authHeader [33m=[39m request[33m.[39mheaders[33m.[39m[35mget[39m([32m'authorization'[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m172| [39m  [35mif[39m (authHeader) {
    [90m173| [39m    [90m// Parse user ID from token (simplified)[39m
[90m [2m❯[22m lib/middleware/rate-limit.ts:[2m114:24[22m[39m
[90m [2m❯[22m Module.<anonymous> lib/middleware/rate-limit.ts:[2m247:12[22m[39m
[90m [2m❯[22m tests/unit/api/loyalty/redeem.test.ts:[2m78:28[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[60/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/loyalty/redeem.test.ts[2m > [22mPOST /api/loyalty/redeem[2m > [22mshould return 401 when user not authenticated
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'get')[39m
[36m [2m❯[22m getIdentifier lib/middleware/rate-limit.ts:[2m171:38[22m[39m
    [90m169| [39m[35mfunction[39m [34mgetIdentifier[39m(request[33m:[39m [33mNextRequest[39m)[33m:[39m string {
    [90m170| [39m  [90m// Try to get user ID from auth token[39m
    [90m171| [39m  [35mconst[39m authHeader [33m=[39m request[33m.[39mheaders[33m.[39m[35mget[39m([32m'authorization'[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m172| [39m  [35mif[39m (authHeader) {
    [90m173| [39m    [90m// Parse user ID from token (simplified)[39m
[90m [2m❯[22m lib/middleware/rate-limit.ts:[2m114:24[22m[39m
[90m [2m❯[22m Module.<anonymous> lib/middleware/rate-limit.ts:[2m247:12[22m[39m
[90m [2m❯[22m tests/unit/api/loyalty/redeem.test.ts:[2m101:28[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[61/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/loyalty/redeem.test.ts[2m > [22mPOST /api/loyalty/redeem[2m > [22mshould return 400 when rewardId missing
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'get')[39m
[36m [2m❯[22m getIdentifier lib/middleware/rate-limit.ts:[2m171:38[22m[39m
    [90m169| [39m[35mfunction[39m [34mgetIdentifier[39m(request[33m:[39m [33mNextRequest[39m)[33m:[39m string {
    [90m170| [39m  [90m// Try to get user ID from auth token[39m
    [90m171| [39m  [35mconst[39m authHeader [33m=[39m request[33m.[39mheaders[33m.[39m[35mget[39m([32m'authorization'[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m172| [39m  [35mif[39m (authHeader) {
    [90m173| [39m    [90m// Parse user ID from token (simplified)[39m
[90m [2m❯[22m lib/middleware/rate-limit.ts:[2m114:24[22m[39m
[90m [2m❯[22m Module.<anonymous> lib/middleware/rate-limit.ts:[2m247:12[22m[39m
[90m [2m❯[22m tests/unit/api/loyalty/redeem.test.ts:[2m123:28[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[62/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/loyalty/redeem.test.ts[2m > [22mPOST /api/loyalty/redeem[2m > [22mshould return 400 when user has insufficient points
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'get')[39m
[36m [2m❯[22m getIdentifier lib/middleware/rate-limit.ts:[2m171:38[22m[39m
    [90m169| [39m[35mfunction[39m [34mgetIdentifier[39m(request[33m:[39m [33mNextRequest[39m)[33m:[39m string {
    [90m170| [39m  [90m// Try to get user ID from auth token[39m
    [90m171| [39m  [35mconst[39m authHeader [33m=[39m request[33m.[39mheaders[33m.[39m[35mget[39m([32m'authorization'[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m172| [39m  [35mif[39m (authHeader) {
    [90m173| [39m    [90m// Parse user ID from token (simplified)[39m
[90m [2m❯[22m lib/middleware/rate-limit.ts:[2m114:24[22m[39m
[90m [2m❯[22m Module.<anonymous> lib/middleware/rate-limit.ts:[2m247:12[22m[39m
[90m [2m❯[22m tests/unit/api/loyalty/redeem.test.ts:[2m148:28[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[63/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/loyalty/redeem.test.ts[2m > [22mPOST /api/loyalty/redeem[2m > [22mshould return 404 when reward not found
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'get')[39m
[36m [2m❯[22m getIdentifier lib/middleware/rate-limit.ts:[2m171:38[22m[39m
    [90m169| [39m[35mfunction[39m [34mgetIdentifier[39m(request[33m:[39m [33mNextRequest[39m)[33m:[39m string {
    [90m170| [39m  [90m// Try to get user ID from auth token[39m
    [90m171| [39m  [35mconst[39m authHeader [33m=[39m request[33m.[39mheaders[33m.[39m[35mget[39m([32m'authorization'[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m172| [39m  [35mif[39m (authHeader) {
    [90m173| [39m    [90m// Parse user ID from token (simplified)[39m
[90m [2m❯[22m lib/middleware/rate-limit.ts:[2m114:24[22m[39m
[90m [2m❯[22m Module.<anonymous> lib/middleware/rate-limit.ts:[2m247:12[22m[39m
[90m [2m❯[22m tests/unit/api/loyalty/redeem.test.ts:[2m172:28[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[64/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/loyalty/redeem.test.ts[2m > [22mPOST /api/loyalty/redeem[2m > [22mshould return 410 when reward is no longer active
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'get')[39m
[36m [2m❯[22m getIdentifier lib/middleware/rate-limit.ts:[2m171:38[22m[39m
    [90m169| [39m[35mfunction[39m [34mgetIdentifier[39m(request[33m:[39m [33mNextRequest[39m)[33m:[39m string {
    [90m170| [39m  [90m// Try to get user ID from auth token[39m
    [90m171| [39m  [35mconst[39m authHeader [33m=[39m request[33m.[39mheaders[33m.[39m[35mget[39m([32m'authorization'[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m172| [39m  [35mif[39m (authHeader) {
    [90m173| [39m    [90m// Parse user ID from token (simplified)[39m
[90m [2m❯[22m lib/middleware/rate-limit.ts:[2m114:24[22m[39m
[90m [2m❯[22m Module.<anonymous> lib/middleware/rate-limit.ts:[2m247:12[22m[39m
[90m [2m❯[22m tests/unit/api/loyalty/redeem.test.ts:[2m196:28[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[65/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/loyalty/redeem.test.ts[2m > [22mPOST /api/loyalty/redeem[2m > [22mshould handle orderId as optional parameter
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'get')[39m
[36m [2m❯[22m getIdentifier lib/middleware/rate-limit.ts:[2m171:38[22m[39m
    [90m169| [39m[35mfunction[39m [34mgetIdentifier[39m(request[33m:[39m [33mNextRequest[39m)[33m:[39m string {
    [90m170| [39m  [90m// Try to get user ID from auth token[39m
    [90m171| [39m  [35mconst[39m authHeader [33m=[39m request[33m.[39mheaders[33m.[39m[35mget[39m([32m'authorization'[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m172| [39m  [35mif[39m (authHeader) {
    [90m173| [39m    [90m// Parse user ID from token (simplified)[39m
[90m [2m❯[22m lib/middleware/rate-limit.ts:[2m114:24[22m[39m
[90m [2m❯[22m Module.<anonymous> lib/middleware/rate-limit.ts:[2m247:12[22m[39m
[90m [2m❯[22m tests/unit/api/loyalty/redeem.test.ts:[2m222:28[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[66/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/loyalty/redeem.test.ts[2m > [22mPOST /api/loyalty/redeem[2m > [22mshould return discount details when reward has fixed amount
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'get')[39m
[36m [2m❯[22m getIdentifier lib/middleware/rate-limit.ts:[2m171:38[22m[39m
    [90m169| [39m[35mfunction[39m [34mgetIdentifier[39m(request[33m:[39m [33mNextRequest[39m)[33m:[39m string {
    [90m170| [39m  [90m// Try to get user ID from auth token[39m
    [90m171| [39m  [35mconst[39m authHeader [33m=[39m request[33m.[39mheaders[33m.[39m[35mget[39m([32m'authorization'[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m172| [39m  [35mif[39m (authHeader) {
    [90m173| [39m    [90m// Parse user ID from token (simplified)[39m
[90m [2m❯[22m lib/middleware/rate-limit.ts:[2m114:24[22m[39m
[90m [2m❯[22m Module.<anonymous> lib/middleware/rate-limit.ts:[2m247:12[22m[39m
[90m [2m❯[22m tests/unit/api/loyalty/redeem.test.ts:[2m252:28[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[67/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/loyalty/redeem.test.ts[2m > [22mPOST /api/loyalty/redeem[2m > [22mshould return null discount for non-discount rewards
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'get')[39m
[36m [2m❯[22m getIdentifier lib/middleware/rate-limit.ts:[2m171:38[22m[39m
    [90m169| [39m[35mfunction[39m [34mgetIdentifier[39m(request[33m:[39m [33mNextRequest[39m)[33m:[39m string {
    [90m170| [39m  [90m// Try to get user ID from auth token[39m
    [90m171| [39m  [35mconst[39m authHeader [33m=[39m request[33m.[39mheaders[33m.[39m[35mget[39m([32m'authorization'[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m172| [39m  [35mif[39m (authHeader) {
    [90m173| [39m    [90m// Parse user ID from token (simplified)[39m
[90m [2m❯[22m lib/middleware/rate-limit.ts:[2m114:24[22m[39m
[90m [2m❯[22m Module.<anonymous> lib/middleware/rate-limit.ts:[2m247:12[22m[39m
[90m [2m❯[22m tests/unit/api/loyalty/redeem.test.ts:[2m288:28[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[68/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/loyalty/redeem.test.ts[2m > [22mPOST /api/loyalty/redeem[2m > [22mshould return 500 for unexpected errors
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'get')[39m
[36m [2m❯[22m getIdentifier lib/middleware/rate-limit.ts:[2m171:38[22m[39m
    [90m169| [39m[35mfunction[39m [34mgetIdentifier[39m(request[33m:[39m [33mNextRequest[39m)[33m:[39m string {
    [90m170| [39m  [90m// Try to get user ID from auth token[39m
    [90m171| [39m  [35mconst[39m authHeader [33m=[39m request[33m.[39mheaders[33m.[39m[35mget[39m([32m'authorization'[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m172| [39m  [35mif[39m (authHeader) {
    [90m173| [39m    [90m// Parse user ID from token (simplified)[39m
[90m [2m❯[22m lib/middleware/rate-limit.ts:[2m114:24[22m[39m
[90m [2m❯[22m Module.<anonymous> lib/middleware/rate-limit.ts:[2m247:12[22m[39m
[90m [2m❯[22m tests/unit/api/loyalty/redeem.test.ts:[2m312:28[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[69/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/disputes/create.test.ts[2m > [22m/api/disputes/create[2m > [22mshould create dispute successfully
[31m[1mAssertionError[22m: expected 400 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 400[39m

[36m [2m❯[22m tests/unit/api/disputes/create.test.ts:[2m76:29[22m[39m
    [90m 74| [39m    [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m 75| [39m
    [90m 76| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m 77| [39m    [34mexpect[39m(data[33m.[39mdispute)[33m.[39m[34mtoBeDefined[39m()[33m;[39m
    [90m 78| [39m    [34mexpect[39m(data[33m.[39mdispute[33m.[39mtitle)[33m.[39m[34mtoBe[39m([32m'Poor stitching quality'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[70/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/disputes/create.test.ts[2m > [22m/api/disputes/create[2m > [22mshould return 401 for unauthenticated user
[31m[1mAssertionError[22m: expected 400 to be 401 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 401[39m
[31m+ 400[39m

[36m [2m❯[22m tests/unit/api/disputes/create.test.ts:[2m102:29[22m[39m
    [90m100| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mPOST[39m(request)[33m;[39m
    [90m101| [39m
    [90m102| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m401[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m103| [39m  })[33m;[39m
    [90m104| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[71/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/disputes/create.test.ts[2m > [22m/api/disputes/create[2m > [22mshould return 404 for non-existent order
[31m[1mAssertionError[22m: expected 400 to be 404 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 404[39m
[31m+ 400[39m

[36m [2m❯[22m tests/unit/api/disputes/create.test.ts:[2m152:29[22m[39m
    [90m150| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mPOST[39m(request)[33m;[39m
    [90m151| [39m
    [90m152| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m404[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m153| [39m  })[33m;[39m
    [90m154| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[72/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/disputes/create.test.ts[2m > [22m/api/disputes/create[2m > [22mshould return 403 for unauthorized user
[31m[1mAssertionError[22m: expected 400 to be 403 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 403[39m
[31m+ 400[39m

[36m [2m❯[22m tests/unit/api/disputes/create.test.ts:[2m185:29[22m[39m
    [90m183| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mPOST[39m(request)[33m;[39m
    [90m184| [39m
    [90m185| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m403[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m186| [39m  })[33m;[39m
    [90m187| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[73/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/disputes/create.test.ts[2m > [22m/api/disputes/create[2m > [22mshould handle database errors gracefully
[31m[1mAssertionError[22m: expected 400 to be 500 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 500[39m
[31m+ 400[39m

[36m [2m❯[22m tests/unit/api/disputes/create.test.ts:[2m223:29[22m[39m
    [90m221| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mPOST[39m(request)[33m;[39m
    [90m222| [39m
    [90m223| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m500[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m224| [39m  })[33m;[39m
    [90m225| [39m})[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[74/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/cron/auto-approve-milestones.test.ts[2m > [22m/api/cron/auto-approve-milestones[2m > [22mAuthentication[2m > [22maccepts valid authorization token
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/cron/auto-approve-milestones.test.ts:[2m114:31[22m[39m
    [90m112| [39m      [35mconst[39m response [33m=[39m [35mawait[39m [33mGET[39m(request)[33m;[39m
    [90m113| [39m      
    [90m114| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m115| [39m    })[33m;[39m
    [90m116| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[75/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/cron/auto-approve-milestones.test.ts[2m > [22m/api/cron/auto-approve-milestones[2m > [22mAuto-approval processing[2m > [22mprocesses no milestones when none are overdue
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/cron/auto-approve-milestones.test.ts:[2m160:31[22m[39m
    [90m158| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m159| [39m
    [90m160| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m161| [39m      [34mexpect[39m(data[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m162| [39m      [34mexpect[39m(data[33m.[39mprocessed)[33m.[39m[34mtoBe[39m([34m0[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[76/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/cron/auto-approve-milestones.test.ts[2m > [22m/api/cron/auto-approve-milestones[2m > [22mAuto-approval processing[2m > [22msuccessfully auto-approves overdue milestones
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/cron/auto-approve-milestones.test.ts:[2m198:31[22m[39m
    [90m196| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m197| [39m
    [90m198| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m199| [39m      [34mexpect[39m(data[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m200| [39m      [34mexpect[39m(data[33m.[39mprocessed)[33m.[39m[34mtoBe[39m([34m1[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[77/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/cron/auto-approve-milestones.test.ts[2m > [22m/api/cron/auto-approve-milestones[2m > [22mAuto-approval processing[2m > [22mhandles database errors gracefully
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/cron/auto-approve-milestones.test.ts:[2m257:31[22m[39m
    [90m255| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m256| [39m
    [90m257| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m258| [39m      [34mexpect[39m(data[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m259| [39m      [34mexpect[39m(data[33m.[39mprocessed)[33m.[39m[34mtoBe[39m([34m1[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[78/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/cron/auto-approve-milestones.test.ts[2m > [22m/api/cron/auto-approve-milestones[2m > [22mAuto-approval processing[2m > [22mcontinues processing other milestones when one fails
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/cron/auto-approve-milestones.test.ts:[2m300:31[22m[39m
    [90m298| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m299| [39m
    [90m300| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m301| [39m      [34mexpect[39m(data[33m.[39mprocessed)[33m.[39m[34mtoBe[39m([34m2[39m)[33m;[39m
    [90m302| [39m      [34mexpect[39m(data[33m.[39mautoApproved)[33m.[39m[34mtoBe[39m([34m1[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[79/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/cron/auto-approve-milestones.test.ts[2m > [22m/api/cron/auto-approve-milestones[2m > [22mAuto-approval processing[2m > [22mhandles escrow service failures gracefully
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/cron/auto-approve-milestones.test.ts:[2m338:31[22m[39m
    [90m336| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m337| [39m
    [90m338| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m339| [39m      [34mexpect[39m(data[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m340| [39m      [34mexpect[39m(data[33m.[39mautoApproved)[33m.[39m[34mtoBe[39m([34m1[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[80/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/cron/auto-approve-milestones.test.ts[2m > [22m/api/cron/auto-approve-milestones[2m > [22mAuto-approval processing[2m > [22mprocesses multiple milestones in correct order
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/cron/auto-approve-milestones.test.ts:[2m385:31[22m[39m
    [90m383| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m384| [39m
    [90m385| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m386| [39m      [34mexpect[39m(data[33m.[39mprocessed)[33m.[39m[34mtoBe[39m([34m2[39m)[33m;[39m
    [90m387| [39m      [34mexpect[39m(data[33m.[39mautoApproved)[33m.[39m[34mtoBe[39m([34m2[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[81/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/cron/auto-approve-milestones.test.ts[2m > [22m/api/cron/auto-approve-milestones[2m > [22mPOST endpoint (development only)[2m > [22mallows POST requests in development
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/cron/auto-approve-milestones.test.ts:[2m436:31[22m[39m
    [90m434| [39m      [35mconst[39m response [33m=[39m [35mawait[39m [33mPOST[39m(request)[33m;[39m
    [90m435| [39m      
    [90m436| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m437| [39m    })[33m;[39m
    [90m438| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[82/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/approve.test.ts[2m > [22m/api/milestones/[id]/approve[2m > [22mGET /api/milestones/[id]/approve[2m > [22mreturns milestone approval status for authorized user
[31m[1mAssertionError[22m: expected 403 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 403[39m

[36m [2m❯[22m tests/unit/api/milestones/approve.test.ts:[2m79:31[22m[39m
    [90m 77| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m 78| [39m
    [90m 79| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m 80| [39m      [34mexpect[39m(data[33m.[39mid)[33m.[39m[34mtoBe[39m(mockMilestoneId)[33m;[39m
    [90m 81| [39m      [34mexpect[39m(data[33m.[39morderId)[33m.[39m[34mtoBe[39m(mockOrderId)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[83/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/approve.test.ts[2m > [22m/api/milestones/[id]/approve[2m > [22mPOST /api/milestones/[id]/approve[2m > [22msuccessfully approves milestone
[31m[1mAssertionError[22m: expected 403 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 403[39m

[36m [2m❯[22m tests/unit/api/milestones/approve.test.ts:[2m199:31[22m[39m
    [90m197| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m198| [39m
    [90m199| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m200| [39m      [34mexpect[39m(data[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m201| [39m      [34mexpect[39m(data[33m.[39mapprovalStatus)[33m.[39m[34mtoBe[39m([33mMilestoneApprovalStatus[39m[33m.[39m[33mAPPROVE[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[84/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/approve.test.ts[2m > [22m/api/milestones/[id]/approve[2m > [22mPOST /api/milestones/[id]/approve[2m > [22msuccessfully rejects milestone
[31m[1mAssertionError[22m: expected 403 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 403[39m

[36m [2m❯[22m tests/unit/api/milestones/approve.test.ts:[2m237:31[22m[39m
    [90m235| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m236| [39m
    [90m237| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m238| [39m      [34mexpect[39m(data[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m239| [39m      [34mexpect[39m(data[33m.[39mapprovalStatus)[33m.[39m[34mtoBe[39m([33mMilestoneApprovalStatus[39m[33m.[39m[33mREJECTE[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[85/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/approve.test.ts[2m > [22m/api/milestones/[id]/approve[2m > [22mPOST /api/milestones/[id]/approve[2m > [22mreturns 409 for already reviewed milestone
[31m[1mAssertionError[22m: expected 403 to be 409 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 409[39m
[31m+ 403[39m

[36m [2m❯[22m tests/unit/api/milestones/approve.test.ts:[2m310:31[22m[39m
    [90m308| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m309| [39m
    [90m310| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m409[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m311| [39m      [34mexpect[39m(data[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Milestone already reviewed'[39m)[33m;[39m
    [90m312| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[86/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/approve.test.ts[2m > [22m/api/milestones/[id]/approve[2m > [22mPOST /api/milestones/[id]/approve[2m > [22mreturns 409 for milestone past auto-approval deadline
[31m[1mAssertionError[22m: expected 403 to be 409 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 409[39m
[31m+ 403[39m

[36m [2m❯[22m tests/unit/api/milestones/approve.test.ts:[2m337:31[22m[39m
    [90m335| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m336| [39m
    [90m337| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m409[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m338| [39m      [34mexpect[39m(data[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Auto-approval deadline has passed'[39m)[33m;[39m
    [90m339| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[87/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/approve.test.ts[2m > [22m/api/milestones/[id]/approve[2m > [22mPOST /api/milestones/[id]/approve[2m > [22mhandles escrow service failure gracefully
[31m[1mAssertionError[22m: expected 429 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 429[39m

[36m [2m❯[22m tests/unit/api/milestones/approve.test.ts:[2m373:31[22m[39m
    [90m371| [39m
    [90m372| [39m      [90m// Approval should still succeed even if escrow call fails[39m
    [90m373| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m374| [39m      [34mexpect[39m(data[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m375| [39m      [34mexpect[39m(data[33m.[39mpaymentTriggered)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[88/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/approve.test.ts[2m > [22m/api/milestones/[id]/approve[2m > [22mPOST /api/milestones/[id]/approve[2m > [22mhandles database update errors
[31m[1mAssertionError[22m: expected 429 to be 500 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 500[39m
[31m+ 429[39m

[36m [2m❯[22m tests/unit/api/milestones/approve.test.ts:[2m398:31[22m[39m
    [90m396| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m397| [39m
    [90m398| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m500[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m399| [39m      [34mexpect[39m(data[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Internal server error'[39m)[33m;[39m
    [90m400| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[89/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/photo-upload.test.ts[2m > [22mMilestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould handle successful photo upload
[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/photo-upload.test.ts[2m > [22mMilestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould reject invalid milestone ID format
[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/photo-upload.test.ts[2m > [22mMilestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould reject requests without authentication
[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/photo-upload.test.ts[2m > [22mMilestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould validate request body schema
[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/photo-upload.test.ts[2m > [22mMilestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould reject unsupported image formats
[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/photo-upload.test.ts[2m > [22mMilestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould handle invalid base64 image data
[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/photo-upload.test.ts[2m > [22mMilestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould handle oversized images
[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/photo-upload.test.ts[2m > [22mMilestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould handle storage upload failure
[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/photo-upload.test.ts[2m > [22mMilestone Photo Upload API[2m > [22mPOST /api/milestones/[id]/photos/upload[2m > [22mshould enforce rate limiting
[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/photo-upload.test.ts[2m > [22mMilestone Photo Upload API[2m > [22mGET /api/milestones/[id]/photos/upload[2m > [22mshould return upload configuration
[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/photo-upload.test.ts[2m > [22mMilestone Photo Upload API[2m > [22mGET /api/milestones/[id]/photos/upload[2m > [22mshould reject invalid milestone ID in GET request
[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/photo-upload.test.ts[2m > [22mMilestone Photo Upload API[2m > [22mError Handling[2m > [22mshould handle internal server errors gracefully
[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/milestones/photo-upload.test.ts[2m > [22mMilestone Photo Upload API[2m > [22mError Handling[2m > [22mshould handle malformed JSON in request body
[31m[1mError[22m: Cannot find module '@/lib/services/storage.service'
Require stack:
- C:\dev\sew4mi-marketplace\sew4mi\apps\web\tests\unit\api\milestones\photo-upload.test.ts[39m
[36m [2m❯[22m tests/unit/api/milestones/photo-upload.test.ts:[2m33:38[22m[39m
    [90m 31| [39m    
    [90m 32| [39m    [90m// Get the mocked storage service[39m
    [90m 33| [39m    [35mconst[39m { createStorageService } [33m=[39m [34mrequire[39m([32m'@/lib/services/storage.s[39m…
    [90m   | [39m                                     [31m^[39m
    [90m 34| [39m    mockStorageService [33m=[39m [34mcreateStorageService[39m()[33m;[39m
    [90m 35| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[90/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/notifications/preferences.test.ts[2m > [22m/api/notifications/preferences[2m > [22mGET /api/notifications/preferences[2m > [22mshould return user preferences when they exist
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/notifications/preferences.test.ts:[2m67:31[22m[39m
    [90m 65| [39m      [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m 66| [39m
    [90m 67| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m 68| [39m      [34mexpect[39m(responseData)[33m.[39m[34mtoMatchObject[39m({
    [90m 69| [39m        userId[33m:[39m [32m'user-123'[39m[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[91/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/notifications/preferences.test.ts[2m > [22m/api/notifications/preferences[2m > [22mGET /api/notifications/preferences[2m > [22mshould return default preferences when none exist
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/notifications/preferences.test.ts:[2m98:31[22m[39m
    [90m 96| [39m      [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m 97| [39m
    [90m 98| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m 99| [39m      [34mexpect[39m(responseData)[33m.[39m[34mtoMatchObject[39m({
    [90m100| [39m        userId[33m:[39m [32m'user-123'[39m[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[92/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/notifications/preferences.test.ts[2m > [22m/api/notifications/preferences[2m > [22mGET /api/notifications/preferences[2m > [22mshould return 401 when user is not authenticated
[31m[1mAssertionError[22m: expected 500 to be 401 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 401[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/notifications/preferences.test.ts:[2m124:31[22m[39m
    [90m122| [39m      [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m123| [39m
    [90m124| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m401[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m125| [39m      [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoContain[39m([32m'Authentication required'[39m)[33m;[39m
    [90m126| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[93/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/notifications/preferences.test.ts[2m > [22m/api/notifications/preferences[2m > [22mGET /api/notifications/preferences[2m > [22mshould handle database errors gracefully
[31m[1mAssertionError[22m: expected [ 'Internal server error' ] to include 'Failed to fetch preferences'[39m
[36m [2m❯[22m tests/unit/api/notifications/preferences.test.ts:[2m145:35[22m[39m
    [90m143| [39m
    [90m144| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m500[39m)[33m;[39m
    [90m145| [39m      [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoContain[39m([32m'Failed to fetch preferenc[39m…
    [90m   | [39m                                  [31m^[39m
    [90m146| [39m    })[33m;[39m
    [90m147| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[94/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/notifications/preferences.test.ts[2m > [22m/api/notifications/preferences[2m > [22mPOST /api/notifications/preferences[2m > [22mshould update preferences successfully
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/notifications/preferences.test.ts:[2m186:31[22m[39m
    [90m184| [39m      [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m185| [39m
    [90m186| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m187| [39m      [34mexpect[39m(responseData[33m.[39mpushNotifications)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m188| [39m      [34mexpect[39m(mockSupabaseClient[33m.[39mupsert)[33m.[39m[34mtoHaveBeenCalledWith[39m(

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[95/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/notifications/preferences.test.ts[2m > [22m/api/notifications/preferences[2m > [22mPOST /api/notifications/preferences[2m > [22mshould validate request body
[31m[1mAssertionError[22m: expected 500 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/notifications/preferences.test.ts:[2m216:31[22m[39m
    [90m214| [39m      [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m215| [39m
    [90m216| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m217| [39m      [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoBeDefined[39m()[33m;[39m
    [90m218| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[96/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/notifications/preferences.test.ts[2m > [22m/api/notifications/preferences[2m > [22mPOST /api/notifications/preferences[2m > [22mshould return 401 when user is not authenticated
[31m[1mAssertionError[22m: expected 500 to be 401 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 401[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/notifications/preferences.test.ts:[2m234:31[22m[39m
    [90m232| [39m      [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m233| [39m
    [90m234| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m401[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m235| [39m      [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoContain[39m([32m'Authentication required'[39m)[33m;[39m
    [90m236| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[97/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/notifications/preferences.test.ts[2m > [22m/api/notifications/preferences[2m > [22mPOST /api/notifications/preferences[2m > [22mshould handle database update failures
[31m[1mAssertionError[22m: expected [ 'Internal server error' ] to include 'Failed to update preferences'[39m
[36m [2m❯[22m tests/unit/api/notifications/preferences.test.ts:[2m270:35[22m[39m
    [90m268| [39m
    [90m269| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m500[39m)[33m;[39m
    [90m270| [39m      [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoContain[39m([32m'Failed to update preferen[39m…
    [90m   | [39m                                  [31m^[39m
    [90m271| [39m    })[33m;[39m
    [90m272| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[98/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/notifications/preferences.test.ts[2m > [22m/api/notifications/preferences[2m > [22mPOST /api/notifications/preferences[2m > [22mshould handle all preference types correctly
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/notifications/preferences.test.ts:[2m317:31[22m[39m
    [90m315| [39m      [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m316| [39m
    [90m317| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m318| [39m      [34mexpect[39m(responseData)[33m.[39m[34mtoMatchObject[39m({
    [90m319| [39m        userId[33m:[39m [32m'user-123'[39m[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[99/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/history.test.ts[2m > [22m/api/orders/history[2m > [22mshould return paginated order history for authenticated user
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/history.test.ts:[2m95:29[22m[39m
    [90m 93| [39m    [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m 94| [39m
    [90m 95| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m 96| [39m    [34mexpect[39m(responseData)[33m.[39m[34mtoMatchObject[39m({
    [90m 97| [39m      orders[33m:[39m expect[33m.[39m[34marrayContaining[39m([

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[100/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/history.test.ts[2m > [22m/api/orders/history[2m > [22mshould handle pagination parameters correctly
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/history.test.ts:[2m131:29[22m[39m
    [90m129| [39m    [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m130| [39m
    [90m131| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m132| [39m    [34mexpect[39m(responseData[33m.[39morders)[33m.[39m[34mtoHaveLength[39m([34m1[39m)[33m;[39m
    [90m133| [39m    [34mexpect[39m(responseData[33m.[39mtotalCount)[33m.[39m[34mtoBe[39m([34m10[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[101/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/history.test.ts[2m > [22m/api/orders/history[2m > [22mshould filter by status when provided
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/history.test.ts:[2m154:29[22m[39m
    [90m152| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mGET[39m(request)[33m;[39m
    [90m153| [39m
    [90m154| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m155| [39m    [34mexpect[39m(mockSupabaseClient[33m.[39m[35min[39m)[33m.[39m[34mtoHaveBeenCalledWith[39m([32m'status'[39m[33m,[39m [[32m'IN_[39m…
    [90m156| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[102/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/history.test.ts[2m > [22m/api/orders/history[2m > [22mshould filter by multiple statuses
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/history.test.ts:[2m174:29[22m[39m
    [90m172| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mGET[39m(request)[33m;[39m
    [90m173| [39m
    [90m174| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m175| [39m    [34mexpect[39m(mockSupabaseClient[33m.[39m[35min[39m)[33m.[39m[34mtoHaveBeenCalledWith[39m([32m'status'[39m[33m,[39m [[32m'COM[39m…
    [90m176| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[103/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/history.test.ts[2m > [22m/api/orders/history[2m > [22mshould apply sorting parameters
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/history.test.ts:[2m194:29[22m[39m
    [90m192| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mGET[39m(request)[33m;[39m
    [90m193| [39m
    [90m194| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m195| [39m    [34mexpect[39m(mockSupabaseClient[33m.[39morder)[33m.[39m[34mtoHaveBeenCalledWith[39m([32m'updated_at'[39m…
    [90m196| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[104/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/history.test.ts[2m > [22m/api/orders/history[2m > [22mshould filter by customerId when user matches
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/history.test.ts:[2m214:29[22m[39m
    [90m212| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mGET[39m(request)[33m;[39m
    [90m213| [39m
    [90m214| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m215| [39m    [34mexpect[39m(mockSupabaseClient[33m.[39meq)[33m.[39m[34mtoHaveBeenCalledWith[39m([32m'customer_id'[39m[33m,[39m …
    [90m216| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[105/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/history.test.ts[2m > [22m/api/orders/history[2m > [22mshould filter by tailorId when user matches
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/history.test.ts:[2m236:29[22m[39m
    [90m234| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mGET[39m(request)[33m;[39m
    [90m235| [39m
    [90m236| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m237| [39m    [34mexpect[39m(mockSupabaseClient[33m.[39meq)[33m.[39m[34mtoHaveBeenCalledWith[39m([32m'tailor_id'[39m[33m,[39m ta…
    [90m238| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[106/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/history.test.ts[2m > [22m/api/orders/history[2m > [22mshould calculate progress percentage correctly
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/history.test.ts:[2m257:29[22m[39m
    [90m255| [39m    [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m256| [39m
    [90m257| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m258| [39m    [34mexpect[39m(responseData[33m.[39morders[[34m0[39m][33m.[39mprogressPercentage)[33m.[39m[34mtoBe[39m([34m33[39m)[33m;[39m [90m// 1/3[39m…
    [90m259| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[107/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/history.test.ts[2m > [22m/api/orders/history[2m > [22mshould return 401 when user is not authenticated
[31m[1mAssertionError[22m: expected 500 to be 401 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 401[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/history.test.ts:[2m272:29[22m[39m
    [90m270| [39m    [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m271| [39m
    [90m272| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m401[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m273| [39m    [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoContain[39m([32m'Authentication required'[39m)[33m;[39m
    [90m274| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[108/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/history.test.ts[2m > [22m/api/orders/history[2m > [22mshould return 400 for invalid query parameters
[31m[1mAssertionError[22m: expected 500 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/history.test.ts:[2m287:29[22m[39m
    [90m285| [39m    [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m286| [39m
    [90m287| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m288| [39m    [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoBeDefined[39m()[33m;[39m
    [90m289| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[109/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/history.test.ts[2m > [22m/api/orders/history[2m > [22mshould handle database errors gracefully
[31m[1mAssertionError[22m: expected [ 'Internal server error' ] to include 'Failed to fetch order history'[39m
[36m [2m❯[22m tests/unit/api/orders/history.test.ts:[2m309:33[22m[39m
    [90m307| [39m
    [90m308| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m500[39m)[33m;[39m
    [90m309| [39m    [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoContain[39m([32m'Failed to fetch order histo[39m…
    [90m   | [39m                                [31m^[39m
    [90m310| [39m  })[33m;[39m
    [90m311| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[110/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/history.test.ts[2m > [22m/api/orders/history[2m > [22mshould enforce maximum limit parameter
[31m[1mAssertionError[22m: expected 500 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/history.test.ts:[2m323:29[22m[39m
    [90m321| [39m    [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m322| [39m
    [90m323| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m324| [39m    [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoBeDefined[39m()[33m;[39m
    [90m325| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[111/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/history.test.ts[2m > [22m/api/orders/history[2m > [22mshould handle empty order history
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/history.test.ts:[2m344:29[22m[39m
    [90m342| [39m    [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m343| [39m
    [90m344| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m345| [39m    [34mexpect[39m(responseData)[33m.[39m[34mtoMatchObject[39m({
    [90m346| [39m      orders[33m:[39m [][33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[112/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/history.test.ts[2m > [22m/api/orders/history[2m > [22mshould handle orders without milestones
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/history.test.ts:[2m374:29[22m[39m
    [90m372| [39m    [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m373| [39m
    [90m374| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m375| [39m    [34mexpect[39m(responseData[33m.[39morders[[34m0[39m][33m.[39mprogressPercentage)[33m.[39m[34mtoBe[39m([34m0[39m)[33m;[39m
    [90m376| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[113/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/messages.test.ts[2m > [22m/api/orders/[id]/messages[2m > [22mGET /api/orders/[id]/messages[2m > [22mshould return messages for authorized customer
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/messages.test.ts:[2m118:31[22m[39m
    [90m116| [39m      [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m117| [39m
    [90m118| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m119| [39m      [34mexpect[39m([33mArray[39m[33m.[39m[34misArray[39m(responseData))[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m120| [39m      [34mexpect[39m(responseData)[33m.[39m[34mtoHaveLength[39m([34m2[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[114/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/messages.test.ts[2m > [22m/api/orders/[id]/messages[2m > [22mGET /api/orders/[id]/messages[2m > [22mshould mark unread messages as read for current user
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/messages.test.ts:[2m164:31[22m[39m
    [90m162| [39m      [35mconst[39m response [33m=[39m [35mawait[39m [33mGET[39m(request[33m,[39m { params })[33m;[39m
    [90m163| [39m
    [90m164| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m165| [39m      [34mexpect[39m(mockSupabaseClient[33m.[39mupsert)[33m.[39m[34mtoHaveBeenCalled[39m()[33m;[39m
    [90m166| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[115/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/messages.test.ts[2m > [22m/api/orders/[id]/messages[2m > [22mGET /api/orders/[id]/messages[2m > [22mshould return 401 when user is not authenticated
[31m[1mAssertionError[22m: expected 500 to be 401 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 401[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/messages.test.ts:[2m180:31[22m[39m
    [90m178| [39m      [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m179| [39m
    [90m180| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m401[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m181| [39m      [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoContain[39m([32m'Authentication required'[39m)[33m;[39m
    [90m182| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[116/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/messages.test.ts[2m > [22m/api/orders/[id]/messages[2m > [22mGET /api/orders/[id]/messages[2m > [22mshould return 403 when user is not authorized to access order
[31m[1mAssertionError[22m: expected 500 to be 403 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 403[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/messages.test.ts:[2m203:31[22m[39m
    [90m201| [39m      [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m202| [39m
    [90m203| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m403[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m204| [39m      [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoContain[39m([32m'Unauthorized access to or[39m…
    [90m205| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[117/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/messages.test.ts[2m > [22m/api/orders/[id]/messages[2m > [22mPOST /api/orders/[id]/messages[2m > [22mshould create new message from customer
[31m[1mAssertionError[22m: expected 500 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/messages.test.ts:[2m239:31[22m[39m
    [90m237| [39m      [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m238| [39m
    [90m239| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m240| [39m      [34mexpect[39m(responseData)[33m.[39m[34mtoMatchObject[39m({
    [90m241| [39m        messageId[33m:[39m [32m'msg-new'[39m[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[118/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/messages.test.ts[2m > [22m/api/orders/[id]/messages[2m > [22mPOST /api/orders/[id]/messages[2m > [22mshould create message with media URL
[31m[1mAssertionError[22m: expected 500 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/messages.test.ts:[2m278:31[22m[39m
    [90m276| [39m      [35mconst[39m response [33m=[39m [35mawait[39m [33mPOST[39m(request[33m,[39m { params })[33m;[39m
    [90m277| [39m
    [90m278| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m279| [39m      [34mexpect[39m(mockSupabaseClient[33m.[39minsert)[33m.[39m[34mtoHaveBeenCalledWith[39m(
    [90m280| [39m        expect[33m.[39m[34mobjectContaining[39m({

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[119/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/messages.test.ts[2m > [22m/api/orders/[id]/messages[2m > [22mPOST /api/orders/[id]/messages[2m > [22mshould return 400 for invalid message data
[31m[1mAssertionError[22m: expected 500 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/messages.test.ts:[2m307:31[22m[39m
    [90m305| [39m      [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m306| [39m
    [90m307| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m308| [39m      [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoBeDefined[39m()[33m;[39m
    [90m309| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[120/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/messages.test.ts[2m > [22m/api/orders/[id]/messages[2m > [22mPOST /api/orders/[id]/messages[2m > [22mshould return 500 when message creation fails
[31m[1mAssertionError[22m: expected [ 'Internal server error' ] to include 'Failed to send message'[39m
[36m [2m❯[22m tests/unit/api/orders/messages.test.ts:[2m339:35[22m[39m
    [90m337| [39m
    [90m338| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m500[39m)[33m;[39m
    [90m339| [39m      [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoContain[39m([32m'Failed to send message'[39m)[33m;[39m
    [90m   | [39m                                  [31m^[39m
    [90m340| [39m    })[33m;[39m
    [90m341| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[121/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/messages.test.ts[2m > [22m/api/orders/[id]/messages[2m > [22mPOST /api/orders/[id]/messages[2m > [22mshould set correct sender information for tailor user
[31m[1mAssertionError[22m: expected 500 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/messages.test.ts:[2m372:31[22m[39m
    [90m370| [39m      [35mconst[39m response [33m=[39m [35mawait[39m [33mPOST[39m(request[33m,[39m { params })[33m;[39m
    [90m371| [39m
    [90m372| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m373| [39m      [34mexpect[39m(mockSupabaseClient[33m.[39minsert)[33m.[39m[34mtoHaveBeenCalledWith[39m(
    [90m374| [39m        expect[33m.[39m[34mobjectContaining[39m({

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[122/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/milestone-approve.test.ts[2m > [22m/api/orders/[id]/milestone/approve[2m > [22mPOST /api/orders/[id]/milestone/approve[2m > [22mshould approve fitting milestone for customer
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/milestone-approve.test.ts:[2m95:31[22m[39m
    [90m 93| [39m
    [90m 94| [39m      [90m// Verify[39m
    [90m 95| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m 96| [39m      [34mexpect[39m(responseData[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m 97| [39m      [34mexpect[39m(responseData[33m.[39mdata[33m.[39mamountReleased)[33m.[39m[34mtoBe[39m([34m500[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[123/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/milestone-approve.test.ts[2m > [22m/api/orders/[id]/milestone/approve[2m > [22mPOST /api/orders/[id]/milestone/approve[2m > [22mshould approve final milestone for delivery
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/milestone-approve.test.ts:[2m152:31[22m[39m
    [90m150| [39m
    [90m151| [39m      [90m// Verify[39m
    [90m152| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m153| [39m      [34mexpect[39m(responseData[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m154| [39m      [34mexpect[39m(responseData[33m.[39mdata[33m.[39mamountReleased)[33m.[39m[34mtoBe[39m([34m250[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[124/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/milestone-approve.test.ts[2m > [22m/api/orders/[id]/milestone/approve[2m > [22mPOST /api/orders/[id]/milestone/approve[2m > [22mshould reject unauthorized users
[31m[1mAssertionError[22m: expected 500 to be 401 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 401[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/milestone-approve.test.ts:[2m181:31[22m[39m
    [90m179| [39m
    [90m180| [39m      [90m// Verify[39m
    [90m181| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m401[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m182| [39m      [34mexpect[39m(responseData[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
    [90m183| [39m      [34mexpect[39m(responseData[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Unauthorized'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[125/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/milestone-approve.test.ts[2m > [22m/api/orders/[id]/milestone/approve[2m > [22mPOST /api/orders/[id]/milestone/approve[2m > [22mshould reject invalid stage transitions
[31m[1mAssertionError[22m: expected 500 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/milestone-approve.test.ts:[2m215:31[22m[39m
    [90m213| [39m
    [90m214| [39m      [90m// Verify[39m
    [90m215| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m216| [39m      [34mexpect[39m(responseData[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
    [90m217| [39m      [34mexpect[39m(responseData[33m.[39merror)[33m.[39m[34mtoContain[39m([32m'Order is in DEPOSIT stage'[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[126/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/milestone-approve.test.ts[2m > [22m/api/orders/[id]/milestone/approve[2m > [22mPOST /api/orders/[id]/milestone/approve[2m > [22mshould reject insufficient permissions
[31m[1mAssertionError[22m: expected 500 to be 403 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 403[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/milestone-approve.test.ts:[2m249:31[22m[39m
    [90m247| [39m
    [90m248| [39m      [90m// Verify[39m
    [90m249| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m403[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m250| [39m      [34mexpect[39m(responseData[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
    [90m251| [39m      [34mexpect[39m(responseData[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Insufficient permissions to app[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[127/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/milestone-approve.test.ts[2m > [22m/api/orders/[id]/milestone/approve[2m > [22mPOST /api/orders/[id]/milestone/approve[2m > [22mshould handle invalid request data
[31m[1mAssertionError[22m: expected 500 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/milestone-approve.test.ts:[2m272:31[22m[39m
    [90m270| [39m
    [90m271| [39m      [90m// Verify[39m
    [90m272| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m273| [39m      [34mexpect[39m(responseData[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
    [90m274| [39m      [34mexpect[39m(responseData[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Invalid request data'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[128/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/milestone-approve.test.ts[2m > [22m/api/orders/[id]/milestone/approve[2m > [22mPOST /api/orders/[id]/milestone/approve[2m > [22mshould handle escrow service failures
[31m[1mAssertionError[22m: expected 'Internal server error' to be 'Failed to approve milestone' // Object.is equality[39m

Expected: [32m"Failed to approve milestone"[39m
Received: [31m"Internal server error"[39m

[36m [2m❯[22m tests/unit/api/orders/milestone-approve.test.ts:[2m314:34[22m[39m
    [90m312| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m500[39m)[33m;[39m
    [90m313| [39m      [34mexpect[39m(responseData[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
    [90m314| [39m      [34mexpect[39m(responseData[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Failed to approve milestone'[39m)[33m;[39m
    [90m   | [39m                                 [31m^[39m
    [90m315| [39m    })[33m;[39m
    [90m316| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[129/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/milestone-approve.test.ts[2m > [22m/api/orders/[id]/milestone/approve[2m > [22mGET /api/orders/[id]/milestone/approve[2m > [22mshould return milestone approval information
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/milestone-approve.test.ts:[2m357:31[22m[39m
    [90m355| [39m
    [90m356| [39m      [90m// Verify[39m
    [90m357| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m358| [39m      [34mexpect[39m(responseData[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m359| [39m      [34mexpect[39m(responseData[33m.[39mdata[33m.[39morderId)[33m.[39m[34mtoBe[39m([32m'550e8400-e29b-41d4-a716-[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[130/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/milestone-approve.test.ts[2m > [22m/api/orders/[id]/milestone/approve[2m > [22mGET /api/orders/[id]/milestone/approve[2m > [22mshould return empty actions for unauthorized users
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/milestone-approve.test.ts:[2m399:31[22m[39m
    [90m397| [39m
    [90m398| [39m      [90m// Verify[39m
    [90m399| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m400| [39m      [34mexpect[39m(responseData[33m.[39mdata[33m.[39mavailableActions)[33m.[39m[34mtoHaveLength[39m([34m0[39m)[33m;[39m
    [90m401| [39m      [34mexpect[39m(responseData[33m.[39mdata[33m.[39mcanApprove)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[131/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/timeline.test.ts[2m > [22m/api/orders/[id]/timeline[2m > [22mshould return order timeline for authorized customer
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/timeline.test.ts:[2m108:29[22m[39m
    [90m106| [39m    [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m107| [39m
    [90m108| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m109| [39m    [34mexpect[39m(responseData)[33m.[39m[34mtoMatchObject[39m({
    [90m110| [39m      orderId[33m:[39m [32m'order-123'[39m[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[132/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/timeline.test.ts[2m > [22m/api/orders/[id]/timeline[2m > [22mshould return order timeline for authorized tailor
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/timeline.test.ts:[2m140:29[22m[39m
    [90m138| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mGET[39m(request[33m,[39m { params })[33m;[39m
    [90m139| [39m
    [90m140| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m141| [39m  })[33m;[39m
    [90m142| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[133/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/timeline.test.ts[2m > [22m/api/orders/[id]/timeline[2m > [22mshould return 401 when user is not authenticated
[31m[1mAssertionError[22m: expected 500 to be 401 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 401[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/timeline.test.ts:[2m155:29[22m[39m
    [90m153| [39m    [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m154| [39m
    [90m155| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m401[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m156| [39m    [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoContain[39m([32m'Authentication required'[39m)[33m;[39m
    [90m157| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[134/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/timeline.test.ts[2m > [22m/api/orders/[id]/timeline[2m > [22mshould return 400 for invalid order ID format
[31m[1mAssertionError[22m: expected 500 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/timeline.test.ts:[2m171:29[22m[39m
    [90m169| [39m    [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m170| [39m
    [90m171| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m172| [39m    [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoContain[39m([32m'Invalid order ID format'[39m)[33m;[39m
    [90m173| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[135/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/timeline.test.ts[2m > [22m/api/orders/[id]/timeline[2m > [22mshould return 404 when order is not found
[31m[1mAssertionError[22m: expected 500 to be 404 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 404[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/timeline.test.ts:[2m192:29[22m[39m
    [90m190| [39m    [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m191| [39m
    [90m192| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m404[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m193| [39m    [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoContain[39m([32m'Order not found'[39m)[33m;[39m
    [90m194| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[136/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/timeline.test.ts[2m > [22m/api/orders/[id]/timeline[2m > [22mshould return 403 when user is not authorized to access order
[31m[1mAssertionError[22m: expected 500 to be 403 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 403[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/timeline.test.ts:[2m215:29[22m[39m
    [90m213| [39m    [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m214| [39m
    [90m215| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m403[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m216| [39m    [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoContain[39m([32m'Unauthorized access to orde[39m…
    [90m217| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[137/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/timeline.test.ts[2m > [22m/api/orders/[id]/timeline[2m > [22mshould handle timeline calculation with no milestones
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/timeline.test.ts:[2m235:29[22m[39m
    [90m233| [39m    [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m234| [39m
    [90m235| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m236| [39m    [34mexpect[39m(responseData[33m.[39mmilestones)[33m.[39m[34mtoEqual[39m([])[33m;[39m
    [90m237| [39m    [34mexpect[39m(responseData[33m.[39mnextMilestone)[33m.[39m[34mtoBeUndefined[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[138/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/timeline.test.ts[2m > [22m/api/orders/[id]/timeline[2m > [22mshould handle database errors gracefully
[31m[1mAssertionError[22m: expected [ 'Internal server error' ] to include 'Failed to fetch milestones'[39m
[36m [2m❯[22m tests/unit/api/orders/timeline.test.ts:[2m260:33[22m[39m
    [90m258| [39m
    [90m259| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m500[39m)[33m;[39m
    [90m260| [39m    [34mexpect[39m(responseData[33m.[39merrors)[33m.[39m[34mtoContain[39m([32m'Failed to fetch milestones'[39m…
    [90m   | [39m                                [31m^[39m
    [90m261| [39m  })[33m;[39m
    [90m262| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[139/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/orders/timeline.test.ts[2m > [22m/api/orders/[id]/timeline[2m > [22mshould calculate days remaining correctly
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/orders/timeline.test.ts:[2m287:29[22m[39m
    [90m285| [39m    [35mconst[39m responseData [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m286| [39m
    [90m287| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m288| [39m    [34mexpect[39m(responseData[33m.[39mdaysRemaining)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m289| [39m    [34mexpect[39m(responseData[33m.[39mdaysRemaining)[33m.[39m[34mtoBeLessThanOrEqual[39m([34m5[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[140/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/tailors/group-orders.test.ts[2m > [22mGET /api/tailors/group-orders[2m > [22mreturns 401 when user is not authenticated
[31m[1mAssertionError[22m: expected 500 to be 401 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 401[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/tailors/group-orders.test.ts:[2m41:29[22m[39m
    [90m 39| [39m    [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m 40| [39m
    [90m 41| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m401[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m 42| [39m    [34mexpect[39m(data[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Unauthorized'[39m)[33m;[39m
    [90m 43| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[141/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/tailors/group-orders.test.ts[2m > [22mGET /api/tailors/group-orders[2m > [22mreturns 403 when user is not a tailor
[31m[1mAssertionError[22m: expected 500 to be 403 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 403[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/tailors/group-orders.test.ts:[2m64:29[22m[39m
    [90m 62| [39m    [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m 63| [39m
    [90m 64| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m403[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m 65| [39m    [34mexpect[39m(data[33m.[39merror)[33m.[39m[34mtoContain[39m([32m'Tailor role required'[39m)[33m;[39m
    [90m 66| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[142/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/tailors/group-orders.test.ts[2m > [22mGET /api/tailors/group-orders[2m > [22mreturns group orders for authenticated tailor
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/tailors/group-orders.test.ts:[2m113:29[22m[39m
    [90m111| [39m    [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m112| [39m
    [90m113| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m114| [39m    [34mexpect[39m(data[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m115| [39m    [34mexpect[39m(data[33m.[39mgroupOrders)[33m.[39m[34mtoBeDefined[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[143/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/tailors/group-orders.test.ts[2m > [22mGET /api/tailors/group-orders[2m > [22mapplies status filter when provided
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/tailors/group-orders.test.ts:[2m151:29[22m[39m
    [90m149| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mGET[39m(request)[33m;[39m
    [90m150| [39m
    [90m151| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m152| [39m  })[33m;[39m
    [90m153| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[144/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/recommendations/route.test.ts[2m > [22mRecommendations API Route[2m > [22mGET /api/recommendations[2m > [22mshould return cached recommendations on cache hit
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/recommendations/route.test.ts:[2m102:31[22m[39m
    [90m100| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m101| [39m
    [90m102| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m103| [39m      [34mexpect[39m(data[33m.[39mcached)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m104| [39m      [34mexpect[39m(data[33m.[39mrecommendations)[33m.[39m[34mtoEqual[39m(mockRecommendationsResponse…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[145/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/recommendations/route.test.ts[2m > [22mRecommendations API Route[2m > [22mGET /api/recommendations[2m > [22mshould compute and cache recommendations on cache miss
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/recommendations/route.test.ts:[2m117:31[22m[39m
    [90m115| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m116| [39m
    [90m117| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m118| [39m      [34mexpect[39m(data[33m.[39mcached)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
    [90m119| [39m      [34mexpect[39m(data[33m.[39mrecommendations)[33m.[39m[34mtoEqual[39m(mockRecommendationsResponse…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[146/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/recommendations/route.test.ts[2m > [22mRecommendations API Route[2m > [22mGET /api/recommendations[2m > [22mshould generate correct cache key for different parameters
[31m[1mAssertionError[22m: expected "spy" to be called with arguments: [ Array(1) ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m[39m
[36m [2m❯[22m tests/unit/api/recommendations/route.test.ts:[2m149:38[22m[39m
    [90m147| [39m        [35mawait[39m [33mGET[39m(request)[33m;[39m
    [90m148| [39m
    [90m149| [39m        [34mexpect[39m(mockCacheService[33m.[39m[35mget[39m)[33m.[39m[34mtoHaveBeenCalledWith[39m(scenario[33m.[39mexp…
    [90m   | [39m                                     [31m^[39m
    [90m150| [39m      }
    [90m151| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[147/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/recommendations/route.test.ts[2m > [22mRecommendations API Route[2m > [22mGET /api/recommendations[2m > [22mshould handle recommendation engine errors gracefully
[31m[1mAssertionError[22m: expected 'Cannot read properties of undefined (…' to be 'Database connection failed' // Object.is equality[39m

Expected: [32m"Database connection failed"[39m
Received: [31m"Cannot read properties of undefined (reading 'get')"[39m

[36m [2m❯[22m tests/unit/api/recommendations/route.test.ts:[2m185:26[22m[39m
    [90m183| [39m
    [90m184| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m500[39m)[33m;[39m
    [90m185| [39m      [34mexpect[39m(data[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Database connection failed'[39m)[33m;[39m
    [90m   | [39m                         [31m^[39m
    [90m186| [39m    })[33m;[39m
    [90m187| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[148/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/recommendations/route.test.ts[2m > [22mRecommendations API Route[2m > [22mGET /api/recommendations[2m > [22mshould set appropriate cache control headers
[31m[1mAssertionError[22m: expected null to be 'private, max-age=3600' // Object.is equality[39m

[32m- Expected:[39m 
"private, max-age=3600"

[31m+ Received:[39m 
null

[36m [2m❯[22m tests/unit/api/recommendations/route.test.ts:[2m192:53[22m[39m
    [90m190| [39m      [35mconst[39m response [33m=[39m [35mawait[39m [33mGET[39m(request)[33m;[39m
    [90m191| [39m
    [90m192| [39m      [34mexpect[39m(response[33m.[39mheaders[33m.[39m[35mget[39m([32m'Cache-Control'[39m))[33m.[39m[34mtoBe[39m([32m'private, max[39m…
    [90m   | [39m                                                    [31m^[39m
    [90m193| [39m    })[33m;[39m
    [90m194| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[149/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/recommendations/route.test.ts[2m > [22mRecommendations API Route[2m > [22mCache Invalidation[2m > [22mshould invalidate all cache keys for a user
[31m[1mAssertionError[22m: expected "spy" to be called 16 times, but got 0 times[39m
[36m [2m❯[22m tests/unit/api/recommendations/route.test.ts:[2m202:39[22m[39m
    [90m200| [39m      [90m// Should delete cache keys for all type and limit combinations[39m
    [90m201| [39m      [35mconst[39m expectedCalls [33m=[39m [34m4[39m [33m*[39m [34m4[39m[33m;[39m [90m// 4 types × 4 limits[39m
    [90m202| [39m      [34mexpect[39m(mockCacheService[33m.[39m[35mdelete[39m)[33m.[39m[34mtoHaveBeenCalledTimes[39m(expectedCa…
    [90m   | [39m                                      [31m^[39m
    [90m203| [39m
    [90m204| [39m      [90m// Verify some specific cache key deletions[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[150/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/recommendations/route.test.ts[2m > [22mRecommendations API Route[2m > [22mIntegration with Cache Service[2m > [22mshould work with in-memory cache in development
[31m[1mAssertionError[22m: expected undefined to be false // Object.is equality[39m

[32m- Expected:[39m 
false

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/api/recommendations/route.test.ts:[2m225:28[22m[39m
    [90m223| [39m      [35mconst[39m response1 [33m=[39m [35mawait[39m [33mGET[39m(request)[33m;[39m
    [90m224| [39m      [35mconst[39m data1 [33m=[39m [35mawait[39m response1[33m.[39m[34mjson[39m()[33m;[39m
    [90m225| [39m      [34mexpect[39m(data1[33m.[39mcached)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
    [90m   | [39m                           [31m^[39m
    [90m226| [39m
    [90m227| [39m      [90m// Mock cache hit for second call[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[151/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/recommendations/route.test.ts[2m > [22mRecommendations API Route[2m > [22mIntegration with Cache Service[2m > [22mshould continue working if cache service fails
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/recommendations/route.test.ts:[2m245:31[22m[39m
    [90m243| [39m
    [90m244| [39m      [90m// Should still return recommendations[39m
    [90m245| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m246| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m247| [39m      [34mexpect[39m(data[33m.[39mrecommendations)[33m.[39m[34mtoEqual[39m(mockRecommendationsResponse…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[152/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/search/saved-search.test.ts[2m > [22mSaved Search API Endpoints[2m > [22mPOST /api/search/save[2m > [22mshould save a new search for authenticated user
[31m[1mAssertionError[22m: expected 400 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 400[39m

[36m [2m❯[22m tests/unit/api/search/saved-search.test.ts:[2m83:31[22m[39m
    [90m 81| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m 82| [39m
    [90m 83| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m 84| [39m      [34mexpect[39m(data)[33m.[39m[34mtoEqual[39m(savedSearch)[33m;[39m
    [90m 85| [39m      [34mexpect[39m(savedSearchService[33m.[39msaveSearch)[33m.[39m[34mtoHaveBeenCalledWith[39m([32m'user[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[153/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/search/saved-search.test.ts[2m > [22mSaved Search API Endpoints[2m > [22mPOST /api/search/save[2m > [22mshould return 400 for invalid input
[31m[1mAssertionError[22m: expected 'Cannot read properties of undefined (…' to be 'Invalid input' // Object.is equality[39m

Expected: [32m"Invalid input"[39m
Received: [31m"Cannot read properties of undefined (reading 'parse')"[39m

[36m [2m❯[22m tests/unit/api/search/saved-search.test.ts:[2m138:26[22m[39m
    [90m136| [39m
    [90m137| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m138| [39m      [34mexpect[39m(data[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Invalid input'[39m)[33m;[39m
    [90m   | [39m                         [31m^[39m
    [90m139| [39m      [34mexpect[39m(data[33m.[39mdetails)[33m.[39m[34mtoBeDefined[39m()[33m;[39m
    [90m140| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[154/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/search/saved-search.test.ts[2m > [22mSaved Search API Endpoints[2m > [22mPOST /api/search/save[2m > [22mshould handle service errors
[31m[1mAssertionError[22m: expected 'Cannot read properties of undefined (…' to be 'Maximum saved searches reached' // Object.is equality[39m

Expected: [32m"Maximum saved searches reached"[39m
Received: [31m"Cannot read properties of undefined (reading 'parse')"[39m

[36m [2m❯[22m tests/unit/api/search/saved-search.test.ts:[2m170:26[22m[39m
    [90m168| [39m
    [90m169| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m170| [39m      [34mexpect[39m(data[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Maximum saved searches reached'[39m)[33m;[39m
    [90m   | [39m                         [31m^[39m
    [90m171| [39m    })[33m;[39m
    [90m172| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[155/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/search/saved-search.test.ts[2m > [22mSaved Search API Endpoints[2m > [22mPUT /api/search/saved/[id][2m > [22mshould update a saved search
[31m[1mAssertionError[22m: expected 400 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 400[39m

[36m [2m❯[22m tests/unit/api/search/saved-search.test.ts:[2m285:31[22m[39m
    [90m283| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m284| [39m
    [90m285| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m286| [39m      [34mexpect[39m(data)[33m.[39m[34mtoEqual[39m(updatedSearch)[33m;[39m
    [90m287| [39m      [34mexpect[39m(savedSearchService[33m.[39mupdateSavedSearch)[33m.[39m[34mtoHaveBeenCalledWit[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[156/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/search/saved-search.test.ts[2m > [22mSaved Search API Endpoints[2m > [22mPUT /api/search/saved/[id][2m > [22mshould return 400 for invalid input
[31m[1mAssertionError[22m: expected 'Cannot read properties of undefined (…' to be 'Invalid input' // Object.is equality[39m

Expected: [32m"Invalid input"[39m
Received: [31m"Cannot read properties of undefined (reading 'parse')"[39m

[36m [2m❯[22m tests/unit/api/search/saved-search.test.ts:[2m341:26[22m[39m
    [90m339| [39m
    [90m340| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m341| [39m      [34mexpect[39m(data[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Invalid input'[39m)[33m;[39m
    [90m   | [39m                         [31m^[39m
    [90m342| [39m      [34mexpect[39m(data[33m.[39mdetails)[33m.[39m[34mtoBeDefined[39m()[33m;[39m
    [90m343| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[157/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/search/saved-search.test.ts[2m > [22mSaved Search API Endpoints[2m > [22mPUT /api/search/saved/[id][2m > [22mshould handle service errors
[31m[1mAssertionError[22m: expected 'Cannot read properties of undefined (…' to be 'Saved search not found' // Object.is equality[39m

Expected: [32m"Saved search not found"[39m
Received: [31m"Cannot read properties of undefined (reading 'parse')"[39m

[36m [2m❯[22m tests/unit/api/search/saved-search.test.ts:[2m371:26[22m[39m
    [90m369| [39m
    [90m370| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m371| [39m      [34mexpect[39m(data[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Saved search not found'[39m)[33m;[39m
    [90m   | [39m                         [31m^[39m
    [90m372| [39m    })[33m;[39m
    [90m373| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[158/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/autocomplete-attributes.test.tsx[2m > [22mAutocomplete Attributes[2m > [22mLoginForm[2m > [22mshould have proper autocomplete attributes on email field
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/autocomplete-attributes.test.tsx[2m > [22mAutocomplete Attributes[2m > [22mLoginForm[2m > [22mshould have proper autocomplete attributes on password field
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/autocomplete-attributes.test.tsx[2m > [22mAutocomplete Attributes[2m > [22mAccessibility Standards[2m > [22mshould provide password managers with proper context
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/LoginForm.simple.test.tsx[2m > [22mLoginForm[2m > [22mrenders login form with basic elements
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/LoginForm.test.tsx[2m > [22mLoginForm[2m > [22mrenders login form with email option selected by default
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/LoginForm.test.tsx[2m > [22mLoginForm[2m > [22mswitches between email and phone input types
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/LoginForm.test.tsx[2m > [22mLoginForm[2m > [22mvalidates email input correctly
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/LoginForm.test.tsx[2m > [22mLoginForm[2m > [22mvalidates phone input correctly
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/LoginForm.test.tsx[2m > [22mLoginForm[2m > [22mvalidates password requirement
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/LoginForm.test.tsx[2m > [22mLoginForm[2m > [22mtoggles password visibility
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/LoginForm.test.tsx[2m > [22mLoginForm[2m > [22mhandles successful login with email
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/LoginForm.test.tsx[2m > [22mLoginForm[2m > [22mhandles successful login with phone
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/LoginForm.test.tsx[2m > [22mLoginForm[2m > [22mhandles login with remember me option
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/LoginForm.test.tsx[2m > [22mLoginForm[2m > [22mdisplays error message on login failure
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/LoginForm.test.tsx[2m > [22mLoginForm[2m > [22mshows loading state during login
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/LoginForm.test.tsx[2m > [22mLoginForm[2m > [22mincludes forgot password and register links
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/LoginForm.test.tsx[2m > [22mLoginForm[2m > [22mclears error when switching between login types
[31m[1mError[22m: useAuth must be used within an AuthProvider[39m
[36m [2m❯[22m Module.useAuth contexts/AuthContext.tsx:[2m368:11[22m[39m
    [90m366| [39m  [35mconst[39m context [33m=[39m [34museContext[39m([33mAuthContext[39m)[33m;[39m
    [90m367| [39m  [35mif[39m (context [33m===[39m undefined) {
    [90m368| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'useAuth must be used within an AuthProvider'[39m)[33m;[39m
    [90m   | [39m          [31m^[39m
    [90m369| [39m  }
    [90m370| [39m  [35mreturn[39m context[33m;[39m
[90m [2m❯[22m LoginForm components/features/auth/LoginForm.tsx:[2m50:22[22m[39m
[90m [2m❯[22m Object.react-stack-bottom-frame ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m23863:20[22m[39m
[90m [2m❯[22m renderWithHooks ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m5529:22[22m[39m
[90m [2m❯[22m updateFunctionComponent ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m8897:19[22m[39m
[90m [2m❯[22m beginWork ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m10522:18[22m[39m
[90m [2m❯[22m runWithFiberInDEV ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m1522:13[22m[39m
[90m [2m❯[22m performUnitOfWork ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m15140:22[22m[39m
[90m [2m❯[22m workLoopSync ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m14956:41[22m[39m
[90m [2m❯[22m renderRootSync ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m14936:11[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[159/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/autocomplete-attributes.test.tsx[2m > [22mAutocomplete Attributes[2m > [22mRegistrationForm[2m > [22mshould have proper autocomplete attributes on email field
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/autocomplete-attributes.test.tsx[2m > [22mAutocomplete Attributes[2m > [22mRegistrationForm[2m > [22mshould have proper autocomplete attributes on password fields
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/RegistrationForm.test.tsx[2m > [22mRegistrationForm[2m > [22mrenders all required form fields
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/RegistrationForm.test.tsx[2m > [22mRegistrationForm[2m > [22mtoggles between email and phone input
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/RegistrationForm.test.tsx[2m > [22mRegistrationForm[2m > [22mshows password visibility toggle
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/RegistrationForm.test.tsx[2m > [22mRegistrationForm[2m > [22mvalidates email format
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/RegistrationForm.test.tsx[2m > [22mRegistrationForm[2m > [22mvalidates password requirements
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/RegistrationForm.test.tsx[2m > [22mRegistrationForm[2m > [22mvalidates password confirmation match
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/RegistrationForm.test.tsx[2m > [22mRegistrationForm[2m > [22mrequires terms acceptance
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/RegistrationForm.test.tsx[2m > [22mRegistrationForm[2m > [22mcalls onSuccess callback on successful submission
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/RegistrationForm.test.tsx[2m > [22mRegistrationForm[2m > [22mswitches role between customer and tailor
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/RegistrationForm.test.tsx[2m > [22mRegistrationForm[2m > [22mformats Ghana phone numbers correctly
[31m[1mError[22m: useAuth must be used within an AuthProvider[39m
[36m [2m❯[22m Module.useAuth contexts/AuthContext.tsx:[2m368:11[22m[39m
    [90m366| [39m  [35mconst[39m context [33m=[39m [34museContext[39m([33mAuthContext[39m)[33m;[39m
    [90m367| [39m  [35mif[39m (context [33m===[39m undefined) {
    [90m368| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'useAuth must be used within an AuthProvider'[39m)[33m;[39m
    [90m   | [39m          [31m^[39m
    [90m369| [39m  }
    [90m370| [39m  [35mreturn[39m context[33m;[39m
[90m [2m❯[22m RegistrationForm components/features/auth/RegistrationForm.tsx:[2m29:22[22m[39m
[90m [2m❯[22m Object.react-stack-bottom-frame ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m23863:20[22m[39m
[90m [2m❯[22m renderWithHooks ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m5529:22[22m[39m
[90m [2m❯[22m updateFunctionComponent ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m8897:19[22m[39m
[90m [2m❯[22m beginWork ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m10522:18[22m[39m
[90m [2m❯[22m runWithFiberInDEV ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m1522:13[22m[39m
[90m [2m❯[22m performUnitOfWork ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m15140:22[22m[39m
[90m [2m❯[22m workLoopSync ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m14956:41[22m[39m
[90m [2m❯[22m renderRootSync ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m14936:11[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[160/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/OTPVerification.test.tsx[2m > [22mOTPVerification[2m > [22mrenders with email identifier
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/OTPVerification.test.tsx[2m > [22mOTPVerification[2m > [22mrenders with phone identifier
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/OTPVerification.test.tsx[2m > [22mOTPVerification[2m > [22mrenders 6 OTP input fields
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/OTPVerification.test.tsx[2m > [22mOTPVerification[2m > [22mauto-focuses the first input field
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/OTPVerification.test.tsx[2m > [22mOTPVerification[2m > [22mmoves focus to next input when digit is entered
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/OTPVerification.test.tsx[2m > [22mOTPVerification[2m > [22mmoves focus to previous input on backspace when current field is empty
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/OTPVerification.test.tsx[2m > [22mOTPVerification[2m > [22monly allows numeric input
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/OTPVerification.test.tsx[2m > [22mOTPVerification[2m > [22mhandles paste of 6-digit code
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/OTPVerification.test.tsx[2m > [22mOTPVerification[2m > [22mauto-submits when all 6 digits are entered
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/OTPVerification.test.tsx[2m > [22mOTPVerification[2m > [22mdisables verify button when OTP is incomplete
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/OTPVerification.test.tsx[2m > [22mOTPVerification[2m > [22menables verify button when OTP is complete
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/OTPVerification.test.tsx[2m > [22mOTPVerification[2m > [22mshows resend timer countdown
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/OTPVerification.test.tsx[2m > [22mOTPVerification[2m > [22menables resend button after timer expires
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/OTPVerification.test.tsx[2m > [22mOTPVerification[2m > [22mcalls onCancel when cancel button is clicked
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/OTPVerification.test.tsx[2m > [22mOTPVerification[2m > [22mdisplays error message when verification fails
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/auth/OTPVerification.test.tsx[2m > [22mOTPVerification[2m > [22mclears OTP fields after failed verification
[31m[1mError[22m: useAuth must be used within an AuthProvider[39m
[36m [2m❯[22m Module.useAuth contexts/AuthContext.tsx:[2m368:11[22m[39m
    [90m366| [39m  [35mconst[39m context [33m=[39m [34museContext[39m([33mAuthContext[39m)[33m;[39m
    [90m367| [39m  [35mif[39m (context [33m===[39m undefined) {
    [90m368| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'useAuth must be used within an AuthProvider'[39m)[33m;[39m
    [90m   | [39m          [31m^[39m
    [90m369| [39m  }
    [90m370| [39m  [35mreturn[39m context[33m;[39m
[90m [2m❯[22m OTPVerification components/features/auth/OTPVerification.tsx:[2m25:36[22m[39m
[90m [2m❯[22m Object.react-stack-bottom-frame ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m23863:20[22m[39m
[90m [2m❯[22m renderWithHooks ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m5529:22[22m[39m
[90m [2m❯[22m updateFunctionComponent ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m8897:19[22m[39m
[90m [2m❯[22m beginWork ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m10522:18[22m[39m
[90m [2m❯[22m runWithFiberInDEV ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m1522:13[22m[39m
[90m [2m❯[22m performUnitOfWork ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m15140:22[22m[39m
[90m [2m❯[22m workLoopSync ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m14956:41[22m[39m
[90m [2m❯[22m renderRootSync ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m14936:11[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[161/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/escrow-notification.service.test.ts[2m > [22mEscrowNotificationService[2m > [22msendMilestoneNotification[2m > [22mshould send milestone reached notifications
[31m[1mAssertionError[22m: expected "log" to be called with arguments: [ 'Sending notification:', …(1) ][90m

Received: 

[1m  1st log call:

[22m[2m  Array [[22m
[2m    "Sending notification:",[22m
[32m-   ObjectContaining {[90m
[32m-     "message": StringContaining "Great news",[90m
[31m+   Object {[90m
[31m+     "message": "Fitting stage approved for order #55440000! GH₵ 500.00 released to tailor. Delivery coming soon.",[90m
[2m      "recipient": "+233241234567",[22m
[2m      "type": "milestone_progress",[22m
[2m    },[22m
[2m  ][22m

[1m  2nd log call:

[22m[2m  Array [[22m
[2m    "Sending notification:",[22m
[32m-   ObjectContaining {[90m
[32m-     "message": StringContaining "Great news",[90m
[32m-     "recipient": "+233241234567",[90m
[31m+   Object {[90m
[31m+     "message": "Fitting approved for order #55440000! GH₵ 500.00 has been released to you. Please arrange delivery.",[90m
[31m+     "recipient": "+233501234567",[90m
[2m      "type": "milestone_progress",[22m
[2m    },[22m
[2m  ][22m
[31m[90m

Number of calls: [1m2[22m
[31m[39m
[36m [2m❯[22m tests/unit/lib/services/escrow-notification.service.test.ts:[2m174:26[22m[39m
    [90m172| [39m
    [90m173| [39m      [90m// Verify notifications are sent to both customer and tailor[39m
    [90m174| [39m      [34mexpect[39m(consoleSpy)[33m.[39m[34mtoHaveBeenCalledWith[39m(
    [90m   | [39m                         [31m^[39m
    [90m175| [39m        [32m'Sending notification:'[39m[33m,[39m
    [90m176| [39m        expect[33m.[39m[34mobjectContaining[39m({

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[162/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/favorites.service.test.ts[2m > [22mFavoritesService[2m > [22maddFavorite[2m > [22mshould clear user cache after adding favorite
[31m[1mTypeError[22m: favoritesService.getFromCache is not a function[39m
[36m [2m❯[22m tests/unit/lib/services/favorites.service.test.ts:[2m72:48[22m[39m
    [90m 70| [39m
    [90m 71| [39m      [90m// Cache should be cleared[39m
    [90m 72| [39m      [35mconst[39m cached [33m=[39m (favoritesService [35mas[39m any)[33m.[39m[34mgetFromCache[39m([32m`favorites[39m…
    [90m   | [39m                                               [31m^[39m
    [90m 73| [39m      [34mexpect[39m(cached)[33m.[39m[34mtoBeNull[39m()[33m;[39m
    [90m 74| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[163/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/favorites.service.test.ts[2m > [22mFavoritesService[2m > [22mremoveFavorite[2m > [22mshould clear user cache after removing favorite
[31m[1mTypeError[22m: favoritesService.getFromCache is not a function[39m
[36m [2m❯[22m tests/unit/lib/services/favorites.service.test.ts:[2m103:48[22m[39m
    [90m101| [39m
    [90m102| [39m      [90m// Cache should be cleared[39m
    [90m103| [39m      [35mconst[39m cached [33m=[39m (favoritesService [35mas[39m any)[33m.[39m[34mgetFromCache[39m([32m`is-favori[39m…
    [90m   | [39m                                               [31m^[39m
    [90m104| [39m      [34mexpect[39m(cached)[33m.[39m[34mtoBeNull[39m()[33m;[39m
    [90m105| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[164/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/favorites.service.test.ts[2m > [22mFavoritesService[2m > [22mgetFavorites[2m > [22mshould cache results
[31m[1mAssertionError[22m: expected "getFavorites" to be called 1 times, but got 2 times[39m
[36m [2m❯[22m tests/unit/lib/services/favorites.service.test.ts:[2m193:43[22m[39m
    [90m191| [39m      [35mawait[39m favoritesService[33m.[39m[34mgetFavorites[39m(mockCustomerId[33m,[39m [34m1[39m[33m,[39m [34m20[39m)[33m;[39m
    [90m192| [39m
    [90m193| [39m      [34mexpect[39m(mockRepository[33m.[39mgetFavorites)[33m.[39m[34mtoHaveBeenCalledTimes[39m([34m1[39m)[33m;[39m
    [90m   | [39m                                          [31m^[39m
    [90m194| [39m    })[33m;[39m
    [90m195| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[165/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/favorites.service.test.ts[2m > [22mFavoritesService[2m > [22misFavorite[2m > [22mshould cache favorite status
[31m[1mAssertionError[22m: expected "isFavorite" to be called 1 times, but got 2 times[39m
[36m [2m❯[22m tests/unit/lib/services/favorites.service.test.ts:[2m223:41[22m[39m
    [90m221| [39m      [35mawait[39m favoritesService[33m.[39m[34misFavorite[39m(mockCustomerId[33m,[39m mockTailorId)[33m;[39m
    [90m222| [39m
    [90m223| [39m      [34mexpect[39m(mockRepository[33m.[39misFavorite)[33m.[39m[34mtoHaveBeenCalledTimes[39m([34m1[39m)[33m;[39m
    [90m   | [39m                                        [31m^[39m
    [90m224| [39m    })[33m;[39m
    [90m225| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[166/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/hubtel.service.test.ts[2m > [22mHubtelService[2m > [22mGhana phone number validation[2m > [22mshould validate MTN phone numbers correctly
[31m[1mAssertionError[22m: expected undefined to be true // Object.is equality[39m

[32m- Expected:[39m 
true

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/lib/services/hubtel.service.test.ts:[2m51:32[22m[39m
    [90m 49| [39m      validMtnNumbers[33m.[39m[34mforEach[39m(number [33m=>[39m {
    [90m 50| [39m        [35mconst[39m result [33m=[39m [34mvalidateGhanaPhoneNumber[39m(number)[33m;[39m
    [90m 51| [39m        [34mexpect[39m(result[33m.[39misValid)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m   | [39m                               [31m^[39m
    [90m 52| [39m        [34mexpect[39m(result[33m.[39mnetwork)[33m.[39m[34mtoBe[39m([32m'MTN'[39m)[33m;[39m
    [90m 53| [39m        [34mexpect[39m(result[33m.[39mformattedNumber)[33m.[39m[34mtoMatch[39m([36m/^\+233(24|54|55|59)\d{[39m…
[90m [2m❯[22m tests/unit/lib/services/hubtel.service.test.ts:[2m49:23[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[167/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/hubtel.service.test.ts[2m > [22mHubtelService[2m > [22mGhana phone number validation[2m > [22mshould validate Vodafone phone numbers correctly
[31m[1mAssertionError[22m: expected undefined to be true // Object.is equality[39m

[32m- Expected:[39m 
true

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/lib/services/hubtel.service.test.ts:[2m67:32[22m[39m
    [90m 65| [39m      validVodafoneNumbers[33m.[39m[34mforEach[39m(number [33m=>[39m {
    [90m 66| [39m        [35mconst[39m result [33m=[39m [34mvalidateGhanaPhoneNumber[39m(number)[33m;[39m
    [90m 67| [39m        [34mexpect[39m(result[33m.[39misValid)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m   | [39m                               [31m^[39m
    [90m 68| [39m        [34mexpect[39m(result[33m.[39mnetwork)[33m.[39m[34mtoBe[39m([32m'VODAFONE'[39m)[33m;[39m
    [90m 69| [39m        [34mexpect[39m(result[33m.[39mformattedNumber)[33m.[39m[34mtoMatch[39m([36m/^\+233(20|50)\d{7}$/[39m)[33m;[39m
[90m [2m❯[22m tests/unit/lib/services/hubtel.service.test.ts:[2m65:28[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[168/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/hubtel.service.test.ts[2m > [22mHubtelService[2m > [22mGhana phone number validation[2m > [22mshould validate AirtelTigo phone numbers correctly
[31m[1mAssertionError[22m: expected undefined to be true // Object.is equality[39m

[32m- Expected:[39m 
true

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/lib/services/hubtel.service.test.ts:[2m83:32[22m[39m
    [90m 81| [39m      validAirtelTigoNumbers[33m.[39m[34mforEach[39m(number [33m=>[39m {
    [90m 82| [39m        [35mconst[39m result [33m=[39m [34mvalidateGhanaPhoneNumber[39m(number)[33m;[39m
    [90m 83| [39m        [34mexpect[39m(result[33m.[39misValid)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m   | [39m                               [31m^[39m
    [90m 84| [39m        [34mexpect[39m(result[33m.[39mnetwork)[33m.[39m[34mtoBe[39m([32m'AIRTELTIGO'[39m)[33m;[39m
    [90m 85| [39m        [34mexpect[39m(result[33m.[39mformattedNumber)[33m.[39m[34mtoMatch[39m([36m/^\+233(27|57|26|56)\d{[39m…
[90m [2m❯[22m tests/unit/lib/services/hubtel.service.test.ts:[2m81:30[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[169/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/hubtel.service.test.ts[2m > [22mHubtelService[2m > [22mGhana phone number validation[2m > [22mshould reject invalid phone numbers
[31m[1mAssertionError[22m: expected undefined to be false // Object.is equality[39m

[32m- Expected:[39m 
false

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/lib/services/hubtel.service.test.ts:[2m103:32[22m[39m
    [90m101| [39m      invalidNumbers[33m.[39m[34mforEach[39m(number [33m=>[39m {
    [90m102| [39m        [35mconst[39m result [33m=[39m [34mvalidateGhanaPhoneNumber[39m(number [35mas[39m any)[33m;[39m
    [90m103| [39m        [34mexpect[39m(result[33m.[39misValid)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
    [90m   | [39m                               [31m^[39m
    [90m104| [39m        [34mexpect[39m(result[33m.[39mnetwork)[33m.[39m[34mtoBeUndefined[39m()[33m;[39m
    [90m105| [39m        [34mexpect[39m(result[33m.[39mformattedNumber)[33m.[39m[34mtoBeUndefined[39m()[33m;[39m
[90m [2m❯[22m tests/unit/lib/services/hubtel.service.test.ts:[2m101:22[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[170/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/milestone-audit.service.test.ts[2m > [22mMilestoneAuditService[2m > [22mgetMilestoneApprovalHistory[2m > [22mshould fetch milestone approval history for an order
[31m[1mTypeError[22m: supabase.from(...).select(...).eq is not a function[39m
[36m [2m❯[22m MilestoneAuditService.getMilestoneApprovalHistory lib/services/milestone-audit.service.ts:[2m90:8[22m[39m
    [90m 88| [39m        )
    [90m 89| [39m      `[39m)
    [90m 90| [39m      [33m.[39m[34meq[39m([32m'order_id'[39m[33m,[39m orderId)
    [90m   | [39m       [31m^[39m
    [90m 91| [39m      [33m.[39m[34morder[39m([32m'reviewed_at'[39m[33m,[39m { ascending[33m:[39m [35mfalse[39m })[33m;[39m
    [90m 92| [39m
[90m [2m❯[22m tests/unit/lib/services/milestone-audit.service.test.ts:[2m77:22[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[171/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/milestone-audit.service.test.ts[2m > [22mMilestoneAuditService[2m > [22mgetMilestoneApprovalHistory[2m > [22mshould throw error when database query fails
[31m[1mAssertionError[22m: expected [Function] to throw error including 'Failed to get milestone approval hist…' but got 'supabase.from(...).select(...).eq is …'[39m

Expected: [32m"Failed to get milestone approval history: Database error"[39m
Received: [31m"supabase.from(...).select(...).eq is not a function"[39m

[36m [2m❯[22m tests/unit/lib/services/milestone-audit.service.test.ts:[2m91:7[22m[39m
    [90m 89| [39m      })[33m;[39m
    [90m 90| [39m
    [90m 91| [39m      [35mawait[39m [34mexpect[39m(service[33m.[39m[34mgetMilestoneApprovalHistory[39m(orderId))
    [90m   | [39m      [31m^[39m
    [90m 92| [39m        [33m.[39mrejects[33m.[39m[34mtoThrow[39m([32m'Failed to get milestone approval history: Da[39m…
    [90m 93| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[172/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/milestone-audit.service.test.ts[2m > [22mMilestoneAuditService[2m > [22mexportAuditData[2m > [22mshould export comprehensive audit data
[31m[1mTypeError[22m: supabase.from(...).select(...).neq is not a function[39m
[36m [2m❯[22m MilestoneAuditService.exportAuditData lib/services/milestone-audit.service.ts:[2m319:8[22m[39m
    [90m317| [39m        )
    [90m318| [39m      `[39m)
    [90m319| [39m      [33m.[39m[34mneq[39m([32m'verified_at'[39m[33m,[39m [35mnull[39m)[33m;[39m
    [90m   | [39m       [31m^[39m
    [90m320| [39m
    [90m321| [39m    [35mif[39m (milestonesError) {
[90m [2m❯[22m tests/unit/lib/services/milestone-audit.service.test.ts:[2m390:22[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[173/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/milestone-audit.service.test.ts[2m > [22mMilestoneAuditService[2m > [22mgetSystemHealthMetrics[2m > [22mshould calculate system health metrics
[31m[1mTypeError[22m: supabase.from(...).select(...).eq is not a function[39m
[36m [2m❯[22m MilestoneAuditService.getSystemHealthMetrics lib/services/milestone-audit.service.ts:[2m424:8[22m[39m
    [90m422| [39m      [33m.[39m[35mfrom[39m([32m'order_milestones'[39m)
    [90m423| [39m      [33m.[39m[34mselect[39m([32m'id'[39m)
    [90m424| [39m      [33m.[39m[34meq[39m([32m'approval_status'[39m[33m,[39m [32m'PENDING'[39m)
    [90m   | [39m       [31m^[39m
    [90m425| [39m      [33m.[39m[34mlt[39m([32m'auto_approval_deadline'[39m[33m,[39m [35mnew[39m [33mDate[39m()[33m.[39m[34mtoISOString[39m())[33m;[39m
    [90m426| [39m
[90m [2m❯[22m tests/unit/lib/services/milestone-audit.service.test.ts:[2m429:22[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[174/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/milestone-audit.service.test.ts[2m > [22mMilestoneAuditService[2m > [22mgetSystemHealthMetrics[2m > [22mshould detect critical system status
[31m[1mTypeError[22m: supabase.from(...).select(...).eq is not a function[39m
[36m [2m❯[22m MilestoneAuditService.getSystemHealthMetrics lib/services/milestone-audit.service.ts:[2m424:8[22m[39m
    [90m422| [39m      [33m.[39m[35mfrom[39m([32m'order_milestones'[39m)
    [90m423| [39m      [33m.[39m[34mselect[39m([32m'id'[39m)
    [90m424| [39m      [33m.[39m[34meq[39m([32m'approval_status'[39m[33m,[39m [32m'PENDING'[39m)
    [90m   | [39m       [31m^[39m
    [90m425| [39m      [33m.[39m[34mlt[39m([32m'auto_approval_deadline'[39m[33m,[39m [35mnew[39m [33mDate[39m()[33m.[39m[34mtoISOString[39m())[33m;[39m
    [90m426| [39m
[90m [2m❯[22m tests/unit/lib/services/milestone-audit.service.test.ts:[2m456:22[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[175/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/milestone-audit.service.test.ts[2m > [22mMilestoneAuditService Error Handling[2m > [22mshould handle network errors in export function
[31m[1mAssertionError[22m: expected [Function] to throw error including 'Failed to export milestone data: Netw…' but got 'supabase.from(...).select(...).neq is…'[39m

Expected: [32m"Failed to export milestone data: Network error"[39m
Received: [31m"supabase.from(...).select(...).neq is not a function"[39m

[36m [2m❯[22m tests/unit/lib/services/milestone-audit.service.test.ts:[2m539:5[22m[39m
    [90m537| [39m    mockSupabaseClient[33m.[39m[35mfrom[39m[33m.[39m[34mmockReturnValue[39m(mockQuery)[33m;[39m
    [90m538| [39m
    [90m539| [39m    [35mawait[39m [34mexpect[39m(service[33m.[39m[34mexportAuditData[39m({}))
    [90m   | [39m    [31m^[39m
    [90m540| [39m      [33m.[39mrejects[33m.[39m[34mtoThrow[39m([32m'Failed to export milestone data: Network error[39m…
    [90m541| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[176/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mInitialization[2m > [22mshould initialize successfully with supported APIs
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mInitialization[2m > [22mshould fail initialization without service worker support
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mInitialization[2m > [22mshould fail initialization without push manager support
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mInitialization[2m > [22mshould handle service worker registration failure
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mPermission Management[2m > [22mshould request notification permission
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mPermission Management[2m > [22mshould return current permission status
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mPermission Management[2m > [22mshould handle denied permission
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mPermission Management[2m > [22mshould return denied for unsupported browsers
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mPush Subscription[2m > [22mshould create push subscription successfully
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mPush Subscription[2m > [22mshould fail subscription without permission
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mPush Subscription[2m > [22mshould handle subscription creation failure
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mPush Subscription[2m > [22mshould unsubscribe successfully
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mPush Subscription[2m > [22mshould handle unsubscribe with no existing subscription
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mLocal Notifications[2m > [22mshould send local notification successfully
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mLocal Notifications[2m > [22mshould fail notification without permission
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mLocal Notifications[2m > [22mshould include correct actions for milestone notifications
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mLocal Notifications[2m > [22mshould send test notification successfully
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mPreferences Management[2m > [22mshould update notification preferences successfully
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mPreferences Management[2m > [22mshould handle preferences update failure
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mPreferences Management[2m > [22mshould register device successfully
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mUtility Functions[2m > [22mshould convert VAPID key to Uint8Array
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mUtility Functions[2m > [22mshould detect platform correctly
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mUtility Functions[2m > [22mshould detect iOS platform
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mError Handling[2m > [22mshould handle network errors gracefully
[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/notification.service.test.ts[2m > [22mNotificationService[2m > [22mError Handling[2m > [22mshould handle service worker registration errors
[31m[1mTypeError[22m: NotificationService.getInstance is not a function[39m
[36m [2m❯[22m tests/unit/lib/services/notification.service.test.ts:[2m51:47[22m[39m
    [90m 49| [39m    
    [90m 50| [39m    [90m// Get fresh instance[39m
    [90m 51| [39m    notificationService [33m=[39m [33mNotificationService[39m[33m.[39m[34mgetInstance[39m()[33m;[39m
    [90m   | [39m                                              [31m^[39m
    [90m 52| [39m    
    [90m 53| [39m    [90m// Mock successful fetch responses[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[177/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/payment-analytics.service.test.ts[2m > [22mPaymentAnalyticsService[2m > [22mgetTailorPaymentDashboard[2m > [22mshould return payment dashboard data successfully
[31m[1mAssertionError[22m: expected { summary: { …(15) }, …(3) } to deeply equal { summary: { …(15) }, …(3) }[39m

[32m- Expected[39m
[31m+ Received[39m

[2m  Object {[22m
[32m-   "monthlyTrends": Array [[39m
[32m-     Object {[39m
[32m-       "commission": 240,[39m
[32m-       "earnings": 1200,[39m
[32m-       "orders": 6,[39m
[32m-       "period": "2024-07",[39m
[32m-     },[39m
[32m-     Object {[39m
[32m-       "commission": 400,[39m
[32m-       "earnings": 1500,[39m
[32m-       "orders": 8,[39m
[32m-       "period": "2025-10",[39m
[32m-     },[39m
[32m-   ],[39m
[31m+   "monthlyTrends": Array [],[39m
[2m    "paymentStatusBreakdown": Object {[22m
[32m-     "completed": 1500,[39m
[31m+     "completed": 0,[39m
[2m      "disputed": 0,[22m
[32m-     "pending": 200,[39m
[31m+     "pending": 0,[39m
[2m      "refunded": 0,[22m
[2m    },[22m
[32m-   "recentTransactions": ArrayContaining [[39m
[32m-     ObjectContaining {[39m
[32m-       "commissionAmount": 60,[39m
[32m-       "customerName": "Jane Doe",[39m
[32m-       "garmentType": "Dress",[39m
[32m-       "id": "trans-1",[39m
[32m-       "netAmount": 240,[39m
[32m-       "orderNumber": "ORD-001",[39m
[32m-       "status": "COMPLETED",[39m
[32m-       "totalAmount": 300,[39m
[32m-     },[39m
[32m-   ],[39m
[31m+   "recentTransactions": Array [],[39m
[2m    "summary": Object {[22m
[32m-     "averageOrderValue": 250,[39m
[31m+     "averageOrderValue": 0,[39m
[2m      "commissionRate": 0.2,[22m
[32m-     "completedAmount": 1800,[39m
[32m-     "completedOrders": 7,[39m
[31m+     "completedAmount": 0,[39m
[31m+     "completedOrders": 0,[39m
[2m      "disputedAmount": 0,[22m
[32m-     "grossPayments": 2000,[39m
[31m+     "grossPayments": 0,[39m
[2m      "lastUpdated": Any<Date>,[22m
[32m-     "netEarnings": 1600,[39m
[32m-     "pendingAmount": 200,[39m
[31m+     "netEarnings": 0,[39m
[31m+     "pendingAmount": 0,[39m
[2m      "period": "2025-10",[22m
[32m-     "platformCommission": 400,[39m
[31m+     "platformCommission": 0,[39m
[2m      "refundedAmount": 0,[22m
[2m      "tailorId": "tailor-123",[22m
[32m-     "totalEarnings": 1500,[39m
[32m-     "totalOrders": 8,[39m
[31m+     "totalEarnings": 0,[39m
[31m+     "totalOrders": 0,[39m
[2m    },[22m
[2m  }[22m

[36m [2m❯[22m tests/unit/lib/services/payment-analytics.service.test.ts:[2m131:22[22m[39m
    [90m129| [39m      [35mconst[39m result [33m=[39m [35mawait[39m service[33m.[39m[34mgetTailorPaymentDashboard[39m(mockTailo…
    [90m130| [39m
    [90m131| [39m      [34mexpect[39m(result)[33m.[39m[34mtoEqual[39m({
    [90m   | [39m                     [31m^[39m
    [90m132| [39m        summary[33m:[39m {
    [90m133| [39m          tailorId[33m:[39m mockTailorId[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[178/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/payment-analytics.service.test.ts[2m > [22mPaymentAnalyticsService[2m > [22mgetTailorPaymentDashboard[2m > [22mshould handle database errors gracefully
[31m[1mAssertionError[22m: promise resolved "{ summary: { …(15) }, …(3) }" instead of rejecting[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- [Error: rejected promise][39m
[31m+ Object {[39m
[31m+   "monthlyTrends": Array [],[39m
[31m+   "paymentStatusBreakdown": Object {[39m
[31m+     "completed": 0,[39m
[31m+     "disputed": 0,[39m
[31m+     "pending": 0,[39m
[31m+     "refunded": 0,[39m
[31m+   },[39m
[31m+   "recentTransactions": Array [],[39m
[31m+   "summary": Object {[39m
[31m+     "averageOrderValue": 0,[39m
[31m+     "commissionRate": 0.2,[39m
[31m+     "completedAmount": 0,[39m
[31m+     "completedOrders": 0,[39m
[31m+     "disputedAmount": 0,[39m
[31m+     "grossPayments": 0,[39m
[31m+     "lastUpdated": 2025-10-15T21:05:12.076Z,[39m
[31m+     "netEarnings": 0,[39m
[31m+     "pendingAmount": 0,[39m
[31m+     "period": "2025-10",[39m
[31m+     "platformCommission": 0,[39m
[31m+     "refundedAmount": 0,[39m
[31m+     "tailorId": "tailor-123",[39m
[31m+     "totalEarnings": 0,[39m
[31m+     "totalOrders": 0,[39m
[31m+   },[39m
[31m+ }[39m

[36m [2m❯[22m tests/unit/lib/services/payment-analytics.service.test.ts:[2m237:67[22m[39m
    [90m235| [39m      )[33m;[39m
    [90m236| [39m
    [90m237| [39m      [35mawait[39m [34mexpect[39m(service[33m.[39m[34mgetTailorPaymentDashboard[39m(mockTailorId))
    [90m   | [39m                                                                  [31m^[39m
    [90m238| [39m        [33m.[39mrejects
    [90m239| [39m        [33m.[39m[34mtoThrow[39m([32m'Failed to fetch payment summary: Database connection[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[179/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/payment-analytics.service.test.ts[2m > [22mPaymentAnalyticsService[2m > [22mgetPaymentHistory[2m > [22mshould return paginated payment history with filters
[31m[1mAssertionError[22m: expected { Object (items, total, ...) } to deeply equal { items: ArrayContaining{…}, …(2) }[39m

[32m- Expected[39m
[31m+ Received[39m

[2m  Object {[22m
[2m    "hasMore": false,[22m
[32m-   "items": ArrayContaining [[39m
[32m-     ObjectContaining {[39m
[32m-       "commissionAmount": 60,[39m
[32m-       "customerName": "Jane Doe",[39m
[32m-       "escrowStage": "DEPOSIT",[39m
[32m-       "garmentType": "Dress",[39m
[32m-       "id": "trans-1",[39m
[32m-       "netAmount": 240,[39m
[32m-       "orderNumber": "ORD-001",[39m
[32m-       "status": "COMPLETED",[39m
[32m-       "totalAmount": 300,[39m
[32m-     },[39m
[32m-   ],[39m
[32m-   "total": 1,[39m
[31m+   "items": Array [],[39m
[31m+   "total": 0,[39m
[2m  }[22m

[36m [2m❯[22m tests/unit/lib/services/payment-analytics.service.test.ts:[2m283:22[22m[39m
    [90m281| [39m      [35mconst[39m result [33m=[39m [35mawait[39m service[33m.[39m[34mgetPaymentHistory[39m(mockTailorId[33m,[39m {}[33m,[39m…
    [90m282| [39m
    [90m283| [39m      [34mexpect[39m(result)[33m.[39m[34mtoEqual[39m({
    [90m   | [39m                     [31m^[39m
    [90m284| [39m        items[33m:[39m expect[33m.[39m[34marrayContaining[39m([
    [90m285| [39m          expect[33m.[39m[34mobjectContaining[39m({

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[180/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/payment-analytics.service.test.ts[2m > [22mPaymentAnalyticsService[2m > [22mrefreshPaymentStatistics[2m > [22mshould call the refresh RPC function
[31m[1mAssertionError[22m: expected "spy" to be called with arguments: [ 'update_payment_statistics_cache' ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m[39m
[36m [2m❯[22m tests/unit/lib/services/payment-analytics.service.test.ts:[2m331:38[22m[39m
    [90m329| [39m      [35mawait[39m service[33m.[39m[34mrefreshPaymentStatistics[39m()[33m;[39m
    [90m330| [39m
    [90m331| [39m      [34mexpect[39m(mockSupabaseClient[33m.[39mrpc)[33m.[39m[34mtoHaveBeenCalledWith[39m([32m'update_paym[39m…
    [90m   | [39m                                     [31m^[39m
    [90m332| [39m    })[33m;[39m
    [90m333| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[181/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/payment-analytics.service.test.ts[2m > [22mPaymentAnalyticsService[2m > [22mrefreshPaymentStatistics[2m > [22mshould handle RPC errors
[31m[1mAssertionError[22m: promise resolved "undefined" instead of rejecting[39m

[32m- Expected:[39m 
[Error: rejected promise]

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/lib/services/payment-analytics.service.test.ts:[2m339:54[22m[39m
    [90m337| [39m      })[33m;[39m
    [90m338| [39m
    [90m339| [39m      [35mawait[39m [34mexpect[39m(service[33m.[39m[34mrefreshPaymentStatistics[39m())
    [90m   | [39m                                                     [31m^[39m
    [90m340| [39m        [33m.[39mrejects
    [90m341| [39m        [33m.[39m[34mtoThrow[39m([32m'Failed to refresh payment statistics: Function not f[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[182/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/payment.service.test.ts[2m > [22mPaymentService[2m > [22minitiatePayment[2m > [22mshould successfully initiate payment
[31m[1mAssertionError[22m: expected "create" to be called with arguments: [ { id: Any<String>, …(9) } ][90m

Received: 

[1m  1st create call:

[22m[2m  Array [[22m
[2m    Object {[22m
[2m      "amount": 100.5,[22m
[2m      "customerPhoneNumber": "+233241234567",[22m
[2m      "hubtelTransactionId": "hubtel_tx_123",[22m
[32m-     "id": Any<String>,[90m
[31m+     "id": "ab5d30c3-6c7e-4919-8276-6dab4de3be68",[90m
[2m      "orderId": "order_123",[22m
[2m      "paymentMethod": "MTN",[22m
[32m-     "provider": "HUBTEL_MTN",[90m
[32m-     "providerTransactionId": Any<String>,[90m
[31m+     "provider": undefined,[90m
[31m+     "providerTransactionId": "ab5d30c3-6c7e-4919-8276-6dab4de3be68",[90m
[2m      "status": "PENDING",[22m
[2m      "type": "DEPOSIT",[22m
[2m    },[22m
[2m  ][22m
[31m[90m

Number of calls: [1m1[22m
[31m[39m
[36m [2m❯[22m tests/unit/lib/services/payment.service.test.ts:[2m115:44[22m[39m
    [90m113| [39m      })[33m;[39m
    [90m114| [39m
    [90m115| [39m      [34mexpect[39m(mockPaymentRepository[33m.[39mcreate)[33m.[39m[34mtoHaveBeenCalledWith[39m({
    [90m   | [39m                                           [31m^[39m
    [90m116| [39m        id[33m:[39m expect[33m.[39m[34many[39m([33mString[39m)[33m,[39m
    [90m117| [39m        orderId[33m:[39m [32m'order_123'[39m[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[183/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/reorder.service.test.ts[2m > [22mReorderService[2m > [22mvalidateReorder[2m > [22mshould fail validation when order not completed
[31m[1mTypeError[22m: Cannot destructure property 'data' of '(intermediate value)' as it is undefined.[39m
[36m [2m❯[22m ReorderService.checkMeasurementProfileExists lib/services/reorder.service.ts:[2m359:13[22m[39m
    [90m357| [39m    [35mconst[39m supabase [33m=[39m [35mawait[39m [34mcreateServerSupabaseClient[39m()[33m;[39m
    [90m358| [39m
    [90m359| [39m    [35mconst[39m { data[33m,[39m error } [33m=[39m [35mawait[39m supabase
    [90m   | [39m            [31m^[39m
    [90m360| [39m      [33m.[39m[35mfrom[39m([32m'measurement_profiles'[39m)
    [90m361| [39m      [33m.[39m[34mselect[39m([32m'id'[39m)
[90m [2m❯[22m ReorderService.validateReorder lib/services/reorder.service.ts:[2m172:29[22m[39m
[90m [2m❯[22m tests/unit/lib/services/reorder.service.test.ts:[2m120:22[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[184/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/reorder.service.test.ts[2m > [22mReorderService[2m > [22mvalidateReorder[2m > [22mshould add warning when measurement profile no longer exists
[31m[1mAssertionError[22m: expected [ Array(1) ] to include StringContaining{…}[39m
[36m [2m❯[22m tests/unit/lib/services/reorder.service.test.ts:[2m138:31[22m[39m
    [90m136| [39m      [90m// Assert[39m
    [90m137| [39m      [34mexpect[39m(result[33m.[39misValid)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m [90m// Still valid, just warning[39m
    [90m138| [39m      [34mexpect[39m(result[33m.[39mwarnings)[33m.[39m[34mtoContain[39m(expect[33m.[39m[34mstringContaining[39m([32m'measu[39m…
    [90m   | [39m                              [31m^[39m
    [90m139| [39m    })[33m;[39m
    [90m140| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[185/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/reorder.service.test.ts[2m > [22mReorderService[2m > [22mvalidateReorder[2m > [22mshould add warning when tailor no longer active
[31m[1mAssertionError[22m: expected [ Array(1) ] to include StringContaining{…}[39m
[36m [2m❯[22m tests/unit/lib/services/reorder.service.test.ts:[2m153:31[22m[39m
    [90m151| [39m      [90m// Assert[39m
    [90m152| [39m      [34mexpect[39m(result[33m.[39misValid)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m153| [39m      [34mexpect[39m(result[33m.[39mwarnings)[33m.[39m[34mtoContain[39m(expect[33m.[39m[34mstringContaining[39m([32m'tailo[39m…
    [90m   | [39m                              [31m^[39m
    [90m154| [39m    })[33m;[39m
    [90m155| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[186/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/reorder.service.test.ts[2m > [22mReorderService[2m > [22mpreviewReorder[2m > [22mshould throw error when validation fails
[31m[1mAssertionError[22m: expected [Function] to throw error including 'Cannot reorder' but got 'Cannot destructure property \'data\' …'[39m

Expected: [32m"Cannot [7mreorder[27m"[39m
Received: [31m"Cannot [7mdestructure property 'data' of '(intermediate value)' as it is undefined.[27m"[39m

[36m [2m❯[22m tests/unit/lib/services/reorder.service.test.ts:[2m358:7[22m[39m
    [90m356| [39m
    [90m357| [39m      [90m// Act & Assert[39m
    [90m358| [39m      [35mawait[39m [34mexpect[39m(reorderService[33m.[39m[34mpreviewReorder[39m(mockUserId[33m,[39m mockOrder…
    [90m   | [39m      [31m^[39m
    [90m359| [39m    })[33m;[39m
    [90m360| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[187/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22msaveSearch[2m > [22mshould save a search with validation
[31m[1mAssertionError[22m: expected "saveSearch" to be called with arguments: [ Array(1) ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m[39m
[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m67:41[22m[39m
    [90m 65| [39m      [35mconst[39m result [33m=[39m [35mawait[39m service[33m.[39m[34msaveSearch[39m(input)
    [90m 66| [39m
    [90m 67| [39m      [34mexpect[39m(mockRepository[33m.[39msaveSearch)[33m.[39m[34mtoHaveBeenCalledWith[39m(input)
    [90m   | [39m                                        [31m^[39m
    [90m 68| [39m      [34mexpect[39m(result)[33m.[39m[34mtoEqual[39m(expectedSavedSearch)
    [90m 69| [39m    })

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[188/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22msaveSearch[2m > [22mshould validate search name length
[31m[1mAssertionError[22m: promise resolved "undefined" instead of rejecting[39m

[32m- Expected:[39m 
[Error: rejected promise]

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m77:45[22m[39m
    [90m 75| [39m      }
    [90m 76| [39m
    [90m 77| [39m      [35mawait[39m [34mexpect[39m(service[33m.[39m[34msaveSearch[39m(input))[33m.[39mrejects[33m.[39m[34mtoThrow[39m([32m'Search [39m…
    [90m   | [39m                                            [31m^[39m
    [90m 78| [39m    })
    [90m 79| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[189/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22msaveSearch[2m > [22mshould validate alert frequency values
[31m[1mAssertionError[22m: promise resolved "undefined" instead of rejecting[39m

[32m- Expected:[39m 
[Error: rejected promise]

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m87:45[22m[39m
    [90m 85| [39m      }
    [90m 86| [39m
    [90m 87| [39m      [35mawait[39m [34mexpect[39m(service[33m.[39m[34msaveSearch[39m(input))[33m.[39mrejects[33m.[39m[34mtoThrow[39m([32m'Invalid[39m…
    [90m   | [39m                                            [31m^[39m
    [90m 88| [39m    })
    [90m 89| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[190/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22msaveSearch[2m > [22mshould handle duplicate name errors
[31m[1mAssertionError[22m: promise resolved "undefined" instead of rejecting[39m

[32m- Expected:[39m 
[Error: rejected promise]

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m100:45[22m[39m
    [90m 98| [39m      )
    [90m 99| [39m
    [90m100| [39m      [35mawait[39m [34mexpect[39m(service[33m.[39m[34msaveSearch[39m(input))[33m.[39mrejects[33m.[39m[34mtoThrow[39m(
    [90m   | [39m                                            [31m^[39m
    [90m101| [39m        [32m'A saved search with this name already exists'[39m
    [90m102| [39m      )

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[191/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mgetSavedSearches[2m > [22mshould retrieve and enrich saved searches
[31m[1mAssertionError[22m: Target cannot be null or undefined.[39m
[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m142:22[22m[39m
    [90m140| [39m      [35mconst[39m result [33m=[39m [35mawait[39m service[33m.[39m[34mgetSavedSearches[39m()
    [90m141| [39m
    [90m142| [39m      [34mexpect[39m(result)[33m.[39m[34mtoHaveLength[39m([34m2[39m)
    [90m   | [39m                     [31m^[39m
    [90m143| [39m      [34mexpect[39m(result[[34m0[39m])[33m.[39m[34mtoMatchObject[39m({
    [90m144| [39m        [33m...[39mmockSearches[[34m0[39m][33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[192/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mgetSavedSearches[2m > [22mshould handle empty search list
[31m[1mAssertionError[22m: expected undefined to deeply equal [][39m

[32m- Expected:[39m 
Array []

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m158:22[22m[39m
    [90m156| [39m      [35mconst[39m result [33m=[39m [35mawait[39m service[33m.[39m[34mgetSavedSearches[39m()
    [90m157| [39m
    [90m158| [39m      [34mexpect[39m(result)[33m.[39m[34mtoEqual[39m([])
    [90m   | [39m                     [31m^[39m
    [90m159| [39m      [34mexpect[39m(mockTailorSearchService[33m.[39msearchTailors)[33m.[39mnot[33m.[39m[34mtoHaveBeenCall[39m…
    [90m160| [39m    })

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[193/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mupdateSavedSearch[2m > [22mshould update search with validation
[31m[1mAssertionError[22m: expected "updateSavedSearch" to be called with arguments: [ 'search-123', …(1) ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m[39m
[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m186:48[22m[39m
    [90m184| [39m      [35mconst[39m result [33m=[39m [35mawait[39m service[33m.[39m[34mupdateSavedSearch[39m(searchId[33m,[39m updates)
    [90m185| [39m
    [90m186| [39m      [34mexpect[39m(mockRepository[33m.[39mupdateSavedSearch)[33m.[39m[34mtoHaveBeenCalledWith[39m(se…
    [90m   | [39m                                               [31m^[39m
    [90m187| [39m      [34mexpect[39m(result)[33m.[39m[34mtoEqual[39m(updatedSearch)
    [90m188| [39m    })

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[194/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mupdateSavedSearch[2m > [22mshould validate updates before applying
[31m[1mAssertionError[22m: promise resolved "undefined" instead of rejecting[39m

[32m- Expected:[39m 
[Error: rejected promise]

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m196:64[22m[39m
    [90m194| [39m      }
    [90m195| [39m
    [90m196| [39m      [35mawait[39m [34mexpect[39m(service[33m.[39m[34mupdateSavedSearch[39m(searchId[33m,[39m updates))[33m.[39mrejec…
    [90m   | [39m                                                               [31m^[39m
    [90m197| [39m        [32m'Search name cannot be empty'[39m
    [90m198| [39m      )

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[195/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mupdateSavedSearch[2m > [22mshould handle non-existent search
[31m[1mAssertionError[22m: promise resolved "undefined" instead of rejecting[39m

[32m- Expected:[39m 
[Error: rejected promise]

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m208:7[22m[39m
    [90m206| [39m      [35mawait[39m [34mexpect[39m(
    [90m207| [39m        service[33m.[39m[34mupdateSavedSearch[39m([32m'non-existent'[39m[33m,[39m { name[33m:[39m [32m'New Name'[39m })
    [90m208| [39m      )[33m.[39mrejects[33m.[39m[34mtoThrow[39m([32m'Search not found'[39m)
    [90m   | [39m      [31m^[39m
    [90m209| [39m    })
    [90m210| [39m  })

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[196/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mdeleteSavedSearch[2m > [22mshould delete a saved search
[31m[1mAssertionError[22m: expected "deleteSavedSearch" to be called with arguments: [ 'search-123' ][90m

Received: 

[31m[90m

Number of calls: [1m0[22m
[31m[39m
[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m220:48[22m[39m
    [90m218| [39m      [35mawait[39m service[33m.[39m[34mdeleteSavedSearch[39m(searchId)
    [90m219| [39m
    [90m220| [39m      [34mexpect[39m(mockRepository[33m.[39mdeleteSavedSearch)[33m.[39m[34mtoHaveBeenCalledWith[39m(se…
    [90m   | [39m                                               [31m^[39m
    [90m221| [39m    })
    [90m222| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[197/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mdeleteSavedSearch[2m > [22mshould handle deletion errors
[31m[1mAssertionError[22m: promise resolved "undefined" instead of rejecting[39m

[32m- Expected:[39m 
[Error: rejected promise]

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m228:59[22m[39m
    [90m226| [39m      )
    [90m227| [39m
    [90m228| [39m      [35mawait[39m [34mexpect[39m(service[33m.[39m[34mdeleteSavedSearch[39m([32m'search-123'[39m))[33m.[39mrejects[33m.[39m[34mto[39m…
    [90m   | [39m                                                          [31m^[39m
    [90m229| [39m        [32m'Permission denied'[39m
    [90m230| [39m      )

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[198/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mcheckForNewMatches[2m > [22mshould check for new matches and send notification if enabled
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'mockResolvedValue')[39m
[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m256:59[22m[39m
    [90m254| [39m
    [90m255| [39m      mockRepository[33m.[39mcheckSavedSearchMatches[33m.[39m[34mmockResolvedValue[39m(checkRe…
    [90m256| [39m      mockNotificationService[33m.[39msendSearchAlertNotification[33m.[39m[34mmockResolved[39m…
    [90m   | [39m                                                          [31m^[39m
    [90m257| [39m
    [90m258| [39m      [35mconst[39m result [33m=[39m [35mawait[39m service[33m.[39m[34mcheckForNewMatches[39m(searchId)

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[199/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mcheckForNewMatches[2m > [22mshould skip notification if alerts are disabled
[31m[1mTypeError[22m: service.checkForNewMatches is not a function[39m
[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m287:36[22m[39m
    [90m285| [39m      mockRepository[33m.[39mcheckSavedSearchMatches[33m.[39m[34mmockResolvedValue[39m(checkRe…
    [90m286| [39m
    [90m287| [39m      [35mconst[39m result [33m=[39m [35mawait[39m service[33m.[39m[34mcheckForNewMatches[39m(searchId)
    [90m   | [39m                                   [31m^[39m
    [90m288| [39m
    [90m289| [39m      [34mexpect[39m(result)[33m.[39m[34mtoEqual[39m(checkResult)

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[200/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mcheckForNewMatches[2m > [22mshould skip notification if no new matches
[31m[1mTypeError[22m: service.checkForNewMatches is not a function[39m
[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m312:36[22m[39m
    [90m310| [39m      mockRepository[33m.[39mcheckSavedSearchMatches[33m.[39m[34mmockResolvedValue[39m(checkRe…
    [90m311| [39m
    [90m312| [39m      [35mconst[39m result [33m=[39m [35mawait[39m service[33m.[39m[34mcheckForNewMatches[39m(searchId)
    [90m   | [39m                                   [31m^[39m
    [90m313| [39m
    [90m314| [39m      [34mexpect[39m(result)[33m.[39m[34mtoEqual[39m(checkResult)

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[201/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mcheckForNewMatches[2m > [22mshould update last notification timestamp after sending
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'mockResolvedValue')[39m
[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m336:59[22m[39m
    [90m334| [39m
    [90m335| [39m      mockRepository[33m.[39mcheckSavedSearchMatches[33m.[39m[34mmockResolvedValue[39m(checkRe…
    [90m336| [39m      mockNotificationService[33m.[39msendSearchAlertNotification[33m.[39m[34mmockResolved[39m…
    [90m   | [39m                                                          [31m^[39m
    [90m337| [39m      mockRepository[33m.[39mupdateSavedSearch[33m.[39m[34mmockResolvedValue[39m({
    [90m338| [39m        [33m...[39mcheckResult[33m.[39msavedSearch[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[202/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mprocessScheduledAlerts[2m > [22mshould process all alerts for a given frequency
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'mockResolvedValue')[39m
[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m376:41[22m[39m
    [90m374| [39m      ]
    [90m375| [39m
    [90m376| [39m      mockRepository[33m.[39mgetScheduledAlerts[33m.[39m[34mmockResolvedValue[39m(mockSearches)
    [90m   | [39m                                        [31m^[39m
    [90m377| [39m
    [90m378| [39m      [35mfor[39m ([35mconst[39m search [35mof[39m mockSearches) {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[203/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mprocessScheduledAlerts[2m > [22mshould handle errors during batch processing
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'mockResolvedValue')[39m
[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m411:41[22m[39m
    [90m409| [39m      ]
    [90m410| [39m
    [90m411| [39m      mockRepository[33m.[39mgetScheduledAlerts[33m.[39m[34mmockResolvedValue[39m(mockSearches)
    [90m   | [39m                                        [31m^[39m
    [90m412| [39m      mockRepository[33m.[39mcheckSavedSearchMatches[33m.[39m[34mmockRejectedValue[39m(
    [90m413| [39m        [35mnew[39m [33mError[39m([32m'Database error'[39m)

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[204/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mprocessScheduledAlerts[2m > [22mshould respect rate limits when processing many alerts
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'mockResolvedValue')[39m
[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m436:41[22m[39m
    [90m434| [39m      }))
    [90m435| [39m
    [90m436| [39m      mockRepository[33m.[39mgetScheduledAlerts[33m.[39m[34mmockResolvedValue[39m(mockSearches)
    [90m   | [39m                                        [31m^[39m
    [90m437| [39m
    [90m438| [39m      [35mfor[39m ([35mconst[39m search [35mof[39m mockSearches) {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[205/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mvalidateFilters[2m > [22mshould validate filter combinations
[31m[1mAssertionError[22m: expected [Function] to not throw an error but 'TypeError: service.validateFilters is…' was thrown[39m

[32m- Expected:[39m 
undefined

[31m+ Received:[39m 
"TypeError: service.validateFilters is not a function"

[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m468:63[22m[39m
    [90m466| [39m      }
    [90m467| [39m
    [90m468| [39m      [34mexpect[39m(() [33m=>[39m service[33m.[39m[34mvalidateFilters[39m(validFilters))[33m.[39mnot[33m.[39m[34mtoThrow[39m()
    [90m   | [39m                                                              [31m^[39m
    [90m469| [39m    })
    [90m470| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[206/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mvalidateFilters[2m > [22mshould reject invalid price ranges
[31m[1mAssertionError[22m: expected [Function] to throw error including 'Maximum price must be greater than mi…' but got 'service.validateFilters is not a func…'[39m

Expected: [32m"Maximum price must be greater than minimum price"[39m
Received: [31m"service.validateFilters is not a function"[39m

[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m477:61[22m[39m
    [90m475| [39m      }
    [90m476| [39m
    [90m477| [39m      [34mexpect[39m(() [33m=>[39m service[33m.[39m[34mvalidateFilters[39m(invalidFilters))[33m.[39m[34mtoThrow[39m(
    [90m   | [39m                                                            [31m^[39m
    [90m478| [39m        [32m'Maximum price must be greater than minimum price'[39m
    [90m479| [39m      )

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[207/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mvalidateFilters[2m > [22mshould reject invalid delivery timeframes
[31m[1mAssertionError[22m: expected [Function] to throw error including 'Maximum delivery time must be greater…' but got 'service.validateFilters is not a func…'[39m

Expected: [32m"Maximum delivery time must be greater than minimum delivery time"[39m
Received: [31m"service.validateFilters is not a function"[39m

[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m488:61[22m[39m
    [90m486| [39m      }
    [90m487| [39m
    [90m488| [39m      [34mexpect[39m(() [33m=>[39m service[33m.[39m[34mvalidateFilters[39m(invalidFilters))[33m.[39m[34mtoThrow[39m(
    [90m   | [39m                                                            [31m^[39m
    [90m489| [39m        [32m'Maximum delivery time must be greater than minimum delivery t[39m…
    [90m490| [39m      )

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[208/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/saved-search.service.test.ts[2m > [22mSavedSearchService[2m > [22mvalidateFilters[2m > [22mshould validate rating ranges
[31m[1mAssertionError[22m: expected [Function] to throw error including 'Rating must be between 0 and 5' but got 'service.validateFilters is not a func…'[39m

Expected: [32m"Rating must be between 0 and 5"[39m
Received: [31m"service.validateFilters is not a function"[39m

[36m [2m❯[22m tests/unit/lib/services/saved-search.service.test.ts:[2m498:61[22m[39m
    [90m496| [39m      }
    [90m497| [39m
    [90m498| [39m      [34mexpect[39m(() [33m=>[39m service[33m.[39m[34mvalidateFilters[39m(invalidFilters))[33m.[39m[34mtoThrow[39m(
    [90m   | [39m                                                            [31m^[39m
    [90m499| [39m        [32m'Rating must be between 0 and 5'[39m
    [90m500| [39m      )

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[209/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/tailor-search.service.test.ts[2m > [22mTailorSearchService[2m > [22msearchTailors[2m > [22mshould validate search filters and throw error for invalid data
[31m[1mAssertionError[22m: promise resolved "undefined" instead of rejecting[39m

[32m- Expected:[39m 
[Error: rejected promise]

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/lib/services/tailor-search.service.test.ts:[2m85:7[22m[39m
    [90m 83| [39m      [35mawait[39m [34mexpect[39m(
    [90m 84| [39m        searchService[33m.[39m[34msearchTailors[39m(invalidFilters)
    [90m 85| [39m      )[33m.[39mrejects[33m.[39m[34mtoThrow[39m([32m'minRating must be between 0 and 5'[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m 86| [39m    })[33m;[39m
    [90m 87| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[210/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/tailor-search.service.test.ts[2m > [22mTailorSearchService[2m > [22msearchTailors[2m > [22mshould enforce maximum limit
[31m[1mAssertionError[22m: promise resolved "undefined" instead of rejecting[39m

[32m- Expected:[39m 
[Error: rejected promise]

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/lib/services/tailor-search.service.test.ts:[2m95:7[22m[39m
    [90m 93| [39m      [35mawait[39m [34mexpect[39m(
    [90m 94| [39m        searchService[33m.[39m[34msearchTailors[39m(filters)
    [90m 95| [39m      )[33m.[39mrejects[33m.[39m[34mtoThrow[39m([32m`Limit cannot exceed [39m[36m${[39m[33mSEARCH_CONFIG[39m[33m.[39m[33mMAX_LIMIT[39m…
    [90m   | [39m      [31m^[39m
    [90m 96| [39m    })[33m;[39m
    [90m 97| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[211/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/tailor-search.service.test.ts[2m > [22mTailorSearchService[2m > [22msearchTailors[2m > [22mshould cache search results
[31m[1mAssertionError[22m: expected "spy" to be called 1 times, but got 2 times[39m
[36m [2m❯[22m tests/unit/lib/services/tailor-search.service.test.ts:[2m113:44[22m[39m
    [90m111| [39m      [35mawait[39m searchService[33m.[39m[34msearchTailors[39m(filters)[33m;[39m
    [90m112| [39m
    [90m113| [39m      [34mexpect[39m(mockRepository[33m.[39msearchTailors)[33m.[39m[34mtoHaveBeenCalledTimes[39m([34m1[39m)[33m;[39m
    [90m   | [39m                                           [31m^[39m
    [90m114| [39m    })[33m;[39m
    [90m115| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[212/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/tailor-search.service.test.ts[2m > [22mTailorSearchService[2m > [22msearchTailors[2m > [22mshould validate price range consistency
[31m[1mAssertionError[22m: promise resolved "undefined" instead of rejecting[39m

[32m- Expected:[39m 
[Error: rejected promise]

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/lib/services/tailor-search.service.test.ts:[2m124:7[22m[39m
    [90m122| [39m      [35mawait[39m [34mexpect[39m(
    [90m123| [39m        searchService[33m.[39m[34msearchTailors[39m(filters)
    [90m124| [39m      )[33m.[39mrejects[33m.[39m[34mtoThrow[39m([32m'minPrice cannot be greater than maxPrice'[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m125| [39m    })[33m;[39m
    [90m126| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[213/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/tailor-search.service.test.ts[2m > [22mTailorSearchService[2m > [22msearchTailors[2m > [22mshould validate search radius
[31m[1mAssertionError[22m: promise resolved "undefined" instead of rejecting[39m

[32m- Expected:[39m 
[Error: rejected promise]

[31m+ Received:[39m 
undefined

[36m [2m❯[22m tests/unit/lib/services/tailor-search.service.test.ts:[2m138:7[22m[39m
    [90m136| [39m      [35mawait[39m [34mexpect[39m(
    [90m137| [39m        searchService[33m.[39m[34msearchTailors[39m(filters)
    [90m138| [39m      )[33m.[39mrejects[33m.[39m[34mtoThrow[39m([32m`Search radius cannot exceed [39m[36m${[39m[33mSEARCH_CONFIG[39m[33m.[39m[33mM[39m…
    [90m   | [39m      [31m^[39m
    [90m139| [39m    })[33m;[39m
    [90m140| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[214/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/tailor-search.service.test.ts[2m > [22mTailorSearchService[2m > [22mgetAutocomplete[2m > [22mshould return autocomplete suggestions
[31m[1mAssertionError[22m: expected "spy" to be called with arguments: [ 'kente', 10 ][90m

Received: 

[1m  1st spy call:

[22m[2m  Array [[22m
[2m    "kente",[22m
[32m-   10,[90m
[31m+   undefined,[90m
[2m  ][22m
[31m[90m

Number of calls: [1m1[22m
[31m[39m
[36m [2m❯[22m tests/unit/lib/services/tailor-search.service.test.ts:[2m164:46[22m[39m
    [90m162| [39m
    [90m163| [39m      [34mexpect[39m(result)[33m.[39m[34mtoEqual[39m(mockResult)[33m;[39m
    [90m164| [39m      [34mexpect[39m(mockRepository[33m.[39mgetAutocomplete)[33m.[39m[34mtoHaveBeenCalledWith[39m([32m'ken[39m…
    [90m   | [39m                                             [31m^[39m
    [90m165| [39m    })[33m;[39m
    [90m166| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[215/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/tailor-search.service.test.ts[2m > [22mTailorSearchService[2m > [22mgetAutocomplete[2m > [22mshould return empty results for short queries
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'suggestions')[39m
[36m [2m❯[22m tests/unit/lib/services/tailor-search.service.test.ts:[2m170:21[22m[39m
    [90m168| [39m      [35mconst[39m result [33m=[39m [35mawait[39m searchService[33m.[39m[34mgetAutocomplete[39m([32m'k'[39m)[33m;[39m
    [90m169| [39m
    [90m170| [39m      [34mexpect[39m(result[33m.[39msuggestions)[33m.[39m[34mtoEqual[39m([])[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m171| [39m      [34mexpect[39m(mockRepository[33m.[39mgetAutocomplete)[33m.[39mnot[33m.[39m[34mtoHaveBeenCalled[39m()[33m;[39m
    [90m172| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[216/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/tailor-search.service.test.ts[2m > [22mTailorSearchService[2m > [22mgetAutocomplete[2m > [22mshould cache autocomplete results
[31m[1mAssertionError[22m: expected "spy" to be called 1 times, but got 2 times[39m
[36m [2m❯[22m tests/unit/lib/services/tailor-search.service.test.ts:[2m187:46[22m[39m
    [90m185| [39m      [35mawait[39m searchService[33m.[39m[34mgetAutocomplete[39m([32m'kente'[39m)[33m;[39m
    [90m186| [39m
    [90m187| [39m      [34mexpect[39m(mockRepository[33m.[39mgetAutocomplete)[33m.[39m[34mtoHaveBeenCalledTimes[39m([34m1[39m)[33m;[39m
    [90m   | [39m                                             [31m^[39m
    [90m188| [39m    })[33m;[39m
    [90m189| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[217/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/services/tailor-search.service.test.ts[2m > [22mTailorSearchService[2m > [22mgetFeaturedTailors[2m > [22mshould return featured tailors
[31m[1mAssertionError[22m: expected "spy" to be called with arguments: [ {} ][90m

Received: 

[1m  1st spy call:

[22m[2m  Array [[22m
[32m-   Object {},[90m
[31m+   Object {[90m
[31m+     "limit": 10,[90m
[31m+   },[90m
[2m  ][22m
[31m[90m

Number of calls: [1m1[22m
[31m[39m
[36m [2m❯[22m tests/unit/lib/services/tailor-search.service.test.ts:[2m215:49[22m[39m
    [90m213| [39m
    [90m214| [39m      [34mexpect[39m(result)[33m.[39m[34mtoEqual[39m(mockFeatured)[33m;[39m
    [90m215| [39m      [34mexpect[39m(mockRepository[33m.[39mgetFeaturedTailors)[33m.[39m[34mtoHaveBeenCalledWith[39m({…
    [90m   | [39m                                                [31m^[39m
    [90m216| [39m    })[33m;[39m
    [90m217| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[218/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/repositories/groupOrderRepository.test.ts[2m > [22mGroupOrderRepository[2m > [22mdelete[2m > [22mshould delete group order successfully
[31m[1mTypeError[22m: this.client.from(...).delete(...).eq is not a function[39m
[36m [2m❯[22m GroupOrderRepository.delete lib/repositories/groupOrderRepository.ts:[2m151:8[22m[39m
    [90m149| [39m      [33m.[39m[35mfrom[39m([35mthis[39m[33m.[39mtableName)
    [90m150| [39m      [33m.[39m[35mdelete[39m()
    [90m151| [39m      [33m.[39m[34meq[39m([32m'id'[39m[33m,[39m id)[33m;[39m
    [90m   | [39m       [31m^[39m
    [90m152| [39m
    [90m153| [39m    [35mif[39m (error) {
[90m [2m❯[22m tests/unit/lib/repositories/groupOrderRepository.test.ts:[2m262:24[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[219/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/repositories/groupOrderRepository.test.ts[2m > [22mGroupOrderRepository[2m > [22mdelete[2m > [22mshould throw error when delete fails
[31m[1mAssertionError[22m: expected [Function] to throw error including 'Failed to delete group order: Delete …' but got 'this.client.from(...).delete(...).eq …'[39m

Expected: [32m"Failed to delete group order: Delete failed"[39m
Received: [31m"this.client.from(...).delete(...).eq is not a function"[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[220/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/repositories/tailor-search.repository.test.ts[2m > [22mTailorSearchRepository[2m > [22msearchTailors[2m > [22mshould handle basic search without filters
[31m[1mError[22m: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[90m [2m❯[22m throwForMissingRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m273:9[22m[39m
[90m [2m❯[22m getExpectedRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m240:5[22m[39m
[90m [2m❯[22m Proxy.cookies ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/request/cookies.ts:[2m132:47[22m[39m
[36m [2m❯[22m createClient lib/supabase/server.ts:[2m9:29[22m[39m
    [90m  7| [39m[90m// For API routes and server components - creates a client that reads [39m…
    [90m  8| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mcreateClient[39m() {
    [90m  9| [39m  [35mconst[39m cookieStore [33m=[39m [35mawait[39m [34mcookies[39m()
    [90m   | [39m                            [31m^[39m
    [90m 10| [39m  [35mconst[39m supabaseUrl [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_URL[39m
    [90m 11| [39m  [35mconst[39m supabaseAnonKey [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_ANON_KEY[39m
[90m [2m❯[22m Module.getSupabaseClient lib/supabase/index.ts:[2m17:10[22m[39m
[90m [2m❯[22m TailorSearchRepository.searchTailors lib/repositories/tailor-search.repository.ts:[2m22:22[22m[39m
[90m [2m❯[22m tests/unit/lib/repositories/tailor-search.repository.test.ts:[2m54:22[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[221/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/repositories/tailor-search.repository.test.ts[2m > [22mTailorSearchRepository[2m > [22msearchTailors[2m > [22mshould apply occasion filters correctly
[31m[1mError[22m: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[90m [2m❯[22m throwForMissingRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m273:9[22m[39m
[90m [2m❯[22m getExpectedRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m240:5[22m[39m
[90m [2m❯[22m Proxy.cookies ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/request/cookies.ts:[2m132:47[22m[39m
[36m [2m❯[22m createClient lib/supabase/server.ts:[2m9:29[22m[39m
    [90m  7| [39m[90m// For API routes and server components - creates a client that reads [39m…
    [90m  8| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mcreateClient[39m() {
    [90m  9| [39m  [35mconst[39m cookieStore [33m=[39m [35mawait[39m [34mcookies[39m()
    [90m   | [39m                            [31m^[39m
    [90m 10| [39m  [35mconst[39m supabaseUrl [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_URL[39m
    [90m 11| [39m  [35mconst[39m supabaseAnonKey [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_ANON_KEY[39m
[90m [2m❯[22m Module.getSupabaseClient lib/supabase/index.ts:[2m17:10[22m[39m
[90m [2m❯[22m TailorSearchRepository.searchTailors lib/repositories/tailor-search.repository.ts:[2m22:22[22m[39m
[90m [2m❯[22m tests/unit/lib/repositories/tailor-search.repository.test.ts:[2m82:22[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[222/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/repositories/tailor-search.repository.test.ts[2m > [22mTailorSearchRepository[2m > [22msearchTailors[2m > [22mshould apply multiple filter combinations
[31m[1mError[22m: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[90m [2m❯[22m throwForMissingRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m273:9[22m[39m
[90m [2m❯[22m getExpectedRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m240:5[22m[39m
[90m [2m❯[22m Proxy.cookies ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/request/cookies.ts:[2m132:47[22m[39m
[36m [2m❯[22m createClient lib/supabase/server.ts:[2m9:29[22m[39m
    [90m  7| [39m[90m// For API routes and server components - creates a client that reads [39m…
    [90m  8| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mcreateClient[39m() {
    [90m  9| [39m  [35mconst[39m cookieStore [33m=[39m [35mawait[39m [34mcookies[39m()
    [90m   | [39m                            [31m^[39m
    [90m 10| [39m  [35mconst[39m supabaseUrl [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_URL[39m
    [90m 11| [39m  [35mconst[39m supabaseAnonKey [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_ANON_KEY[39m
[90m [2m❯[22m Module.getSupabaseClient lib/supabase/index.ts:[2m17:10[22m[39m
[90m [2m❯[22m TailorSearchRepository.searchTailors lib/repositories/tailor-search.repository.ts:[2m22:22[22m[39m
[90m [2m❯[22m tests/unit/lib/repositories/tailor-search.repository.test.ts:[2m116:22[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[223/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/repositories/tailor-search.repository.test.ts[2m > [22mTailorSearchRepository[2m > [22msearchTailors[2m > [22mshould handle pagination correctly
[31m[1mError[22m: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[90m [2m❯[22m throwForMissingRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m273:9[22m[39m
[90m [2m❯[22m getExpectedRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m240:5[22m[39m
[90m [2m❯[22m Proxy.cookies ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/request/cookies.ts:[2m132:47[22m[39m
[36m [2m❯[22m createClient lib/supabase/server.ts:[2m9:29[22m[39m
    [90m  7| [39m[90m// For API routes and server components - creates a client that reads [39m…
    [90m  8| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mcreateClient[39m() {
    [90m  9| [39m  [35mconst[39m cookieStore [33m=[39m [35mawait[39m [34mcookies[39m()
    [90m   | [39m                            [31m^[39m
    [90m 10| [39m  [35mconst[39m supabaseUrl [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_URL[39m
    [90m 11| [39m  [35mconst[39m supabaseAnonKey [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_ANON_KEY[39m
[90m [2m❯[22m Module.getSupabaseClient lib/supabase/index.ts:[2m17:10[22m[39m
[90m [2m❯[22m TailorSearchRepository.searchTailors lib/repositories/tailor-search.repository.ts:[2m22:22[22m[39m
[90m [2m❯[22m tests/unit/lib/repositories/tailor-search.repository.test.ts:[2m147:22[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[224/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/repositories/tailor-search.repository.test.ts[2m > [22mTailorSearchRepository[2m > [22msearchTailors[2m > [22mshould handle sorting options
[31m[1mError[22m: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[90m [2m❯[22m throwForMissingRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m273:9[22m[39m
[90m [2m❯[22m getExpectedRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m240:5[22m[39m
[90m [2m❯[22m Proxy.cookies ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/request/cookies.ts:[2m132:47[22m[39m
[36m [2m❯[22m createClient lib/supabase/server.ts:[2m9:29[22m[39m
    [90m  7| [39m[90m// For API routes and server components - creates a client that reads [39m…
    [90m  8| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mcreateClient[39m() {
    [90m  9| [39m  [35mconst[39m cookieStore [33m=[39m [35mawait[39m [34mcookies[39m()
    [90m   | [39m                            [31m^[39m
    [90m 10| [39m  [35mconst[39m supabaseUrl [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_URL[39m
    [90m 11| [39m  [35mconst[39m supabaseAnonKey [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_ANON_KEY[39m
[90m [2m❯[22m Module.getSupabaseClient lib/supabase/index.ts:[2m17:10[22m[39m
[90m [2m❯[22m TailorSearchRepository.searchTailors lib/repositories/tailor-search.repository.ts:[2m22:22[22m[39m
[90m [2m❯[22m tests/unit/lib/repositories/tailor-search.repository.test.ts:[2m168:9[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[225/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/repositories/tailor-search.repository.test.ts[2m > [22mTailorSearchRepository[2m > [22msearchTailors[2m > [22mshould handle search query with text
[31m[1mError[22m: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[90m [2m❯[22m throwForMissingRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m273:9[22m[39m
[90m [2m❯[22m getExpectedRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m240:5[22m[39m
[90m [2m❯[22m Proxy.cookies ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/request/cookies.ts:[2m132:47[22m[39m
[36m [2m❯[22m createClient lib/supabase/server.ts:[2m9:29[22m[39m
    [90m  7| [39m[90m// For API routes and server components - creates a client that reads [39m…
    [90m  8| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mcreateClient[39m() {
    [90m  9| [39m  [35mconst[39m cookieStore [33m=[39m [35mawait[39m [34mcookies[39m()
    [90m   | [39m                            [31m^[39m
    [90m 10| [39m  [35mconst[39m supabaseUrl [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_URL[39m
    [90m 11| [39m  [35mconst[39m supabaseAnonKey [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_ANON_KEY[39m
[90m [2m❯[22m Module.getSupabaseClient lib/supabase/index.ts:[2m17:10[22m[39m
[90m [2m❯[22m TailorSearchRepository.searchTailors lib/repositories/tailor-search.repository.ts:[2m22:22[22m[39m
[90m [2m❯[22m tests/unit/lib/repositories/tailor-search.repository.test.ts:[2m199:7[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[226/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/repositories/tailor-search.repository.test.ts[2m > [22mTailorSearchRepository[2m > [22msearchTailors[2m > [22mshould handle errors gracefully
[31m[1mAssertionError[22m: expected [Function] to throw error including 'Database error' but got '`cookies` was called outside a reques…'[39m

Expected: [32m"Database error"[39m
Received: [31m"`cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"[39m

[36m [2m❯[22m tests/unit/lib/repositories/tailor-search.repository.test.ts:[2m219:7[22m[39m
    [90m217| [39m      mockSupabase[33m.[39m[35mfrom[39m[33m.[39m[34mmockReturnValue[39m(mockQuery)
    [90m218| [39m
    [90m219| [39m      [35mawait[39m [34mexpect[39m(repository[33m.[39m[34msearchTailors[39m(filters))[33m.[39mrejects[33m.[39m[34mtoThrow[39m(…
    [90m   | [39m      [31m^[39m
    [90m220| [39m    })
    [90m221| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[227/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/repositories/tailor-search.repository.test.ts[2m > [22mTailorSearchRepository[2m > [22msearchTailors[2m > [22mPerformance Tests[2m > [22mshould handle large result sets efficiently
[31m[1mError[22m: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[90m [2m❯[22m throwForMissingRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m273:9[22m[39m
[90m [2m❯[22m getExpectedRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m240:5[22m[39m
[90m [2m❯[22m Proxy.cookies ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/request/cookies.ts:[2m132:47[22m[39m
[36m [2m❯[22m createClient lib/supabase/server.ts:[2m9:29[22m[39m
    [90m  7| [39m[90m// For API routes and server components - creates a client that reads [39m…
    [90m  8| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mcreateClient[39m() {
    [90m  9| [39m  [35mconst[39m cookieStore [33m=[39m [35mawait[39m [34mcookies[39m()
    [90m   | [39m                            [31m^[39m
    [90m 10| [39m  [35mconst[39m supabaseUrl [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_URL[39m
    [90m 11| [39m  [35mconst[39m supabaseAnonKey [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_ANON_KEY[39m
[90m [2m❯[22m Module.getSupabaseClient lib/supabase/index.ts:[2m17:10[22m[39m
[90m [2m❯[22m TailorSearchRepository.searchTailors lib/repositories/tailor-search.repository.ts:[2m22:22[22m[39m
[90m [2m❯[22m tests/unit/lib/repositories/tailor-search.repository.test.ts:[2m248:24[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[228/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/repositories/tailor-search.repository.test.ts[2m > [22mTailorSearchRepository[2m > [22msearchTailors[2m > [22mPerformance Tests[2m > [22mshould optimize queries with multiple array filters
[31m[1mError[22m: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[90m [2m❯[22m throwForMissingRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m273:9[22m[39m
[90m [2m❯[22m getExpectedRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m240:5[22m[39m
[90m [2m❯[22m Proxy.cookies ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/request/cookies.ts:[2m132:47[22m[39m
[36m [2m❯[22m createClient lib/supabase/server.ts:[2m9:29[22m[39m
    [90m  7| [39m[90m// For API routes and server components - creates a client that reads [39m…
    [90m  8| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mcreateClient[39m() {
    [90m  9| [39m  [35mconst[39m cookieStore [33m=[39m [35mawait[39m [34mcookies[39m()
    [90m   | [39m                            [31m^[39m
    [90m 10| [39m  [35mconst[39m supabaseUrl [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_URL[39m
    [90m 11| [39m  [35mconst[39m supabaseAnonKey [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_ANON_KEY[39m
[90m [2m❯[22m Module.getSupabaseClient lib/supabase/index.ts:[2m17:10[22m[39m
[90m [2m❯[22m TailorSearchRepository.searchTailors lib/repositories/tailor-search.repository.ts:[2m22:22[22m[39m
[90m [2m❯[22m tests/unit/lib/repositories/tailor-search.repository.test.ts:[2m277:9[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[229/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/repositories/tailor-search.repository.test.ts[2m > [22mTailorSearchRepository[2m > [22msearchTailors[2m > [22mPerformance Tests[2m > [22mshould efficiently handle combined text and filter search
[31m[1mError[22m: `cookies` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context[39m
[90m [2m❯[22m throwForMissingRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m273:9[22m[39m
[90m [2m❯[22m getExpectedRequestStore ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/app-render/work-unit-async-storage.external.ts:[2m240:5[22m[39m
[90m [2m❯[22m Proxy.cookies ../../node_modules/.pnpm/next@15.4.6_@babel+core@7.28.0_@playwright+test@1.54.2_react-dom@19.1.0_react@19.1.0/node_modules/next/src/server/request/cookies.ts:[2m132:47[22m[39m
[36m [2m❯[22m createClient lib/supabase/server.ts:[2m9:29[22m[39m
    [90m  7| [39m[90m// For API routes and server components - creates a client that reads [39m…
    [90m  8| [39m[35mexport[39m [35masync[39m [35mfunction[39m [34mcreateClient[39m() {
    [90m  9| [39m  [35mconst[39m cookieStore [33m=[39m [35mawait[39m [34mcookies[39m()
    [90m   | [39m                            [31m^[39m
    [90m 10| [39m  [35mconst[39m supabaseUrl [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_URL[39m
    [90m 11| [39m  [35mconst[39m supabaseAnonKey [33m=[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_SUPABASE_ANON_KEY[39m
[90m [2m❯[22m Module.getSupabaseClient lib/supabase/index.ts:[2m17:10[22m[39m
[90m [2m❯[22m TailorSearchRepository.searchTailors lib/repositories/tailor-search.repository.ts:[2m22:22[22m[39m
[90m [2m❯[22m tests/unit/lib/repositories/tailor-search.repository.test.ts:[2m316:24[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[230/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/repositories/tailor-search.repository.test.ts[2m > [22mTailorSearchRepository[2m > [22mgetTailorById[2m > [22mshould fetch a single tailor by ID
[31m[1mTypeError[22m: repository.getTailorById is not a function[39m
[36m [2m❯[22m tests/unit/lib/repositories/tailor-search.repository.test.ts:[2m345:39[22m[39m
    [90m343| [39m      mockSupabase[33m.[39m[35mfrom[39m[33m.[39m[34mmockReturnValue[39m(mockQuery)
    [90m344| [39m
    [90m345| [39m      [35mconst[39m result [33m=[39m [35mawait[39m repository[33m.[39m[34mgetTailorById[39m(tailorId)
    [90m   | [39m                                      [31m^[39m
    [90m346| [39m
    [90m347| [39m      [34mexpect[39m(mockQuery[33m.[39meq)[33m.[39m[34mtoHaveBeenCalledWith[39m([32m'id'[39m[33m,[39m tailorId)

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[231/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/lib/repositories/tailor-search.repository.test.ts[2m > [22mTailorSearchRepository[2m > [22mgetTailorById[2m > [22mshould handle non-existent tailor
[31m[1mTypeError[22m: repository.getTailorById is not a function[39m
[36m [2m❯[22m tests/unit/lib/repositories/tailor-search.repository.test.ts:[2m362:39[22m[39m
    [90m360| [39m      mockSupabase[33m.[39m[35mfrom[39m[33m.[39m[34mmockReturnValue[39m(mockQuery)
    [90m361| [39m
    [90m362| [39m      [35mconst[39m result [33m=[39m [35mawait[39m repository[33m.[39m[34mgetTailorById[39m([32m'non-existent'[39m)
    [90m   | [39m                                      [31m^[39m
    [90m363| [39m
    [90m364| [39m      [34mexpect[39m(result)[33m.[39m[34mtoBeNull[39m()

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[232/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/integration/api/tailors/payments/dashboard.test.ts[2m > [22mGET /api/tailors/payments/dashboard[2m > [22mshould return dashboard data for authenticated tailor
[31m[1mAssertionError[22m: expected { success: true, data: { …(4) } } to deeply equal { success: true, data: { …(4) } }[39m

[32m- Expected[39m
[31m+ Received[39m

[2m  Object {[22m
[2m    "data": Object {[22m
[2m      "monthlyTrends": Array [[22m
[2m        Object {[22m
[2m          "commission": 240,[22m
[2m          "earnings": 1200,[22m
[2m          "orders": 6,[22m
[2m          "period": "2024-07",[22m
[2m        },[22m
[2m      ],[22m
[2m      "paymentStatusBreakdown": Object {[22m
[2m        "completed": 1800,[22m
[2m        "disputed": 0,[22m
[2m        "pending": 200,[22m
[2m        "refunded": 0,[22m
[2m      },[22m
[2m      "recentTransactions": Array [],[22m
[2m      "summary": Object {[22m
[2m        "averageOrderValue": 250,[22m
[2m        "commissionRate": 0.2,[22m
[2m        "completedAmount": 1800,[22m
[2m        "completedOrders": 7,[22m
[2m        "disputedAmount": 0,[22m
[2m        "grossPayments": 2000,[22m
[32m-       "lastUpdated": 2025-10-15T21:06:26.800Z,[39m
[31m+       "lastUpdated": "2025-10-15T21:06:26.800Z",[39m
[2m        "netEarnings": 1600,[22m
[2m        "pendingAmount": 200,[22m
[2m        "period": "2024-08",[22m
[2m        "platformCommission": 400,[22m
[2m        "refundedAmount": 0,[22m
[2m        "tailorId": "tailor-123",[22m
[2m        "totalEarnings": 1500,[22m
[2m        "totalOrders": 8,[22m
[2m      },[22m
[2m    },[22m
[2m    "success": true,[22m
[2m  }[22m

[36m [2m❯[22m tests/integration/api/tailors/payments/dashboard.test.ts:[2m103:18[22m[39m
    [90m101| [39m
    [90m102| [39m    [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m103| [39m    [34mexpect[39m(data)[33m.[39m[34mtoEqual[39m({
    [90m   | [39m                 [31m^[39m
    [90m104| [39m      success[33m:[39m [35mtrue[39m[33m,[39m
    [90m105| [39m      data[33m:[39m mockDashboardData

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[233/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/integration/api/tailors/payments/dashboard.test.ts[2m > [22mGET /api/tailors/payments/dashboard[2m > [22mshould handle service errors gracefully
[31m[1mAssertionError[22m: expected { …(2) } to deeply equal { …(2) }[39m

[32m- Expected[39m
[31m+ Received[39m

[2m  Object {[22m
[32m-   "details": "Database connection failed",[39m
[31m+   "details": "paymentService.getTailorPaymentDashboard is not a function",[39m
[2m    "error": "Failed to fetch payment dashboard",[22m
[2m  }[22m

[36m [2m❯[22m tests/integration/api/tailors/payments/dashboard.test.ts:[2m183:18[22m[39m
    [90m181| [39m
    [90m182| [39m    [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m183| [39m    [34mexpect[39m(data)[33m.[39m[34mtoEqual[39m({
    [90m   | [39m                 [31m^[39m
    [90m184| [39m      error[33m:[39m [32m'Failed to fetch payment dashboard'[39m[33m,[39m
    [90m185| [39m      details[33m:[39m [32m'Database connection failed'[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[234/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/disputes/analytics.test.ts[2m > [22mDispute Analytics API[2m > [22mshould return comprehensive analytics data
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/disputes/analytics.test.ts:[2m141:29[22m[39m
    [90m139| [39m    [35mconst[39m result [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m140| [39m
    [90m141| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m142| [39m    [34mexpect[39m(result)[33m.[39m[34mtoHaveProperty[39m([32m'overview'[39m)[33m;[39m
    [90m143| [39m    [34mexpect[39m(result)[33m.[39m[34mtoHaveProperty[39m([32m'patterns'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[235/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/disputes/analytics.test.ts[2m > [22mDispute Analytics API[2m > [22mshould handle date range parameters
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/disputes/analytics.test.ts:[2m207:29[22m[39m
    [90m205| [39m
    [90m206| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mGET[39m(request)[33m;[39m
    [90m207| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m208| [39m
    [90m209| [39m    [90m// Verify RPC was called with correct dates[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[236/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/disputes/analytics.test.ts[2m > [22mDispute Analytics API[2m > [22mshould respect includePatterns parameter
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/disputes/analytics.test.ts:[2m266:29[22m[39m
    [90m264| [39m    [35mconst[39m result [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m265| [39m
    [90m266| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m267| [39m    [34mexpect[39m(result[33m.[39mpatterns[33m.[39mtopCategories)[33m.[39m[34mtoEqual[39m([])[33m;[39m
    [90m268| [39m    [34mexpect[39m(result[33m.[39mtrends[33m.[39mmonthly)[33m.[39m[34mtoEqual[39m([])[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[237/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/disputes/analytics.test.ts[2m > [22mDispute Analytics API[2m > [22mshould return 401 for unauthenticated user
[31m[1mAssertionError[22m: expected 500 to be 401 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 401[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/disputes/analytics.test.ts:[2m282:29[22m[39m
    [90m280| [39m    [35mconst[39m result [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m281| [39m
    [90m282| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m401[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m283| [39m    [34mexpect[39m(result[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Unauthorized'[39m)[33m;[39m
    [90m284| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[238/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/disputes/analytics.test.ts[2m > [22mDispute Analytics API[2m > [22mshould return 403 for non-admin user
[31m[1mAssertionError[22m: expected 500 to be 403 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 403[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/disputes/analytics.test.ts:[2m312:29[22m[39m
    [90m310| [39m    [35mconst[39m result [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m311| [39m
    [90m312| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m403[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m313| [39m    [34mexpect[39m(result[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Admin access required'[39m)[33m;[39m
    [90m314| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[239/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/disputes/analytics.test.ts[2m > [22mDispute Analytics API[2m > [22mshould return 400 for invalid query parameters
[31m[1mAssertionError[22m: expected 500 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/disputes/analytics.test.ts:[2m324:29[22m[39m
    [90m322| [39m    [35mconst[39m result [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m323| [39m
    [90m324| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m325| [39m    [34mexpect[39m(result[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Invalid query parameters'[39m)[33m;[39m
    [90m326| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[240/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/disputes/analytics.test.ts[2m > [22mDispute Analytics API[2m > [22mshould handle empty analytics data gracefully
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/disputes/analytics.test.ts:[2m370:29[22m[39m
    [90m368| [39m    [35mconst[39m result [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m369| [39m
    [90m370| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m371| [39m    [34mexpect[39m(result[33m.[39moverview[33m.[39mtotalDisputes)[33m.[39m[34mtoBe[39m([34m0[39m)[33m;[39m
    [90m372| [39m    [34mexpect[39m(result[33m.[39moverview[33m.[39mresolvedDisputes)[33m.[39m[34mtoBe[39m([34m0[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[241/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/disputes/analytics.test.ts[2m > [22mDispute Analytics API[2m > [22mshould calculate category percentages correctly
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/disputes/analytics.test.ts:[2m421:29[22m[39m
    [90m419| [39m    [35mconst[39m result [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m420| [39m
    [90m421| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m422| [39m    [34mexpect[39m(result[33m.[39mpatterns[33m.[39mtopCategories)[33m.[39m[34mtoBeDefined[39m()[33m;[39m
    [90m423| [39m    [34mexpect[39m(result[33m.[39mpatterns[33m.[39mtopCategories[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[242/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/disputes/resolve.test.ts[2m > [22mDispute Resolution API[2m > [22mshould resolve dispute with full refund
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/disputes/resolve.test.ts:[2m134:29[22m[39m
    [90m132| [39m    [35mconst[39m result [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m133| [39m
    [90m134| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m135| [39m    [34mexpect[39m(result[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m136| [39m    [34mexpect[39m(result[33m.[39mdispute[33m.[39mresolutionType)[33m.[39m[34mtoBe[39m([32m'FULL_REFUND'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[243/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/disputes/resolve.test.ts[2m > [22mDispute Resolution API[2m > [22mshould resolve dispute with partial refund
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/disputes/resolve.test.ts:[2m210:29[22m[39m
    [90m208| [39m    [35mconst[39m result [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m209| [39m
    [90m210| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m211| [39m    [34mexpect[39m(result[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m212| [39m    [34mexpect[39m(result[33m.[39mdispute[33m.[39mresolutionType)[33m.[39m[34mtoBe[39m([32m'PARTIAL_REFUND'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[244/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/disputes/resolve.test.ts[2m > [22mDispute Resolution API[2m > [22mshould resolve dispute with order completion
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/disputes/resolve.test.ts:[2m276:29[22m[39m
    [90m274| [39m    [35mconst[39m result [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m275| [39m
    [90m276| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m277| [39m    [34mexpect[39m(result[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m278| [39m    [34mexpect[39m(result[33m.[39mdispute[33m.[39mresolutionType)[33m.[39m[34mtoBe[39m([32m'ORDER_COMPLETION'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[245/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/disputes/resolve.test.ts[2m > [22mDispute Resolution API[2m > [22mshould return 401 for unauthenticated user
[31m[1mAssertionError[22m: expected 500 to be 401 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 401[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/disputes/resolve.test.ts:[2m297:29[22m[39m
    [90m295| [39m    [35mconst[39m result [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m296| [39m
    [90m297| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m401[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m298| [39m    [34mexpect[39m(result[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Unauthorized'[39m)[33m;[39m
    [90m299| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[246/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/disputes/resolve.test.ts[2m > [22mDispute Resolution API[2m > [22mshould return 403 for non-admin user
[31m[1mAssertionError[22m: expected 500 to be 403 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 403[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/disputes/resolve.test.ts:[2m332:29[22m[39m
    [90m330| [39m    [35mconst[39m result [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m331| [39m
    [90m332| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m403[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m333| [39m    [34mexpect[39m(result[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Admin access required'[39m)[33m;[39m
    [90m334| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[247/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/disputes/resolve.test.ts[2m > [22mDispute Resolution API[2m > [22mshould return 400 for invalid refund amount
[31m[1mAssertionError[22m: expected 500 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/disputes/resolve.test.ts:[2m378:29[22m[39m
    [90m376| [39m    [35mconst[39m result [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m377| [39m
    [90m378| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m379| [39m    [34mexpect[39m(result[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Invalid request data'[39m)[33m;[39m
    [90m380| [39m    [34mexpect[39m(result[33m.[39mdetails)[33m.[39m[34mtoBeDefined[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[248/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/disputes/resolve.test.ts[2m > [22mDispute Resolution API[2m > [22mshould return 404 for non-existent dispute
[31m[1mAssertionError[22m: expected 500 to be 404 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 404[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/disputes/resolve.test.ts:[2m425:29[22m[39m
    [90m423| [39m    [35mconst[39m result [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m424| [39m
    [90m425| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m404[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m426| [39m    [34mexpect[39m(result[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Dispute not found'[39m)[33m;[39m
    [90m427| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[249/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/admin/disputes/resolve.test.ts[2m > [22mDispute Resolution API[2m > [22mshould return 409 for already resolved dispute
[31m[1mAssertionError[22m: expected 500 to be 409 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 409[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/admin/disputes/resolve.test.ts:[2m476:29[22m[39m
    [90m474| [39m    [35mconst[39m result [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m475| [39m
    [90m476| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m409[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m477| [39m    [34mexpect[39m(result[33m.[39merror)[33m.[39m[34mtoBe[39m([32m'Dispute is already resolved'[39m)[33m;[39m
    [90m478| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[250/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/disputes/[id]/resolve.test.ts[2m > [22m/api/disputes/[id]/resolve[2m > [22mshould resolve dispute successfully with refund
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/disputes/[id]/resolve.test.ts:[2m89:29[22m[39m
    [90m 87| [39m    [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m 88| [39m
    [90m 89| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m 90| [39m    [34mexpect[39m(data[33m.[39mresolution)[33m.[39m[34mtoBeDefined[39m()[33m;[39m
    [90m 91| [39m    [34mexpect[39m(data[33m.[39mresolution[33m.[39mresolution_type)[33m.[39m[34mtoBe[39m([32m'FULL_REFUND'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[251/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/disputes/[id]/resolve.test.ts[2m > [22m/api/disputes/[id]/resolve[2m > [22mshould resolve dispute without refund
[31m[1mAssertionError[22m: expected 500 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/disputes/[id]/resolve.test.ts:[2m136:29[22m[39m
    [90m134| [39m    [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m135| [39m
    [90m136| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m137| [39m    [34mexpect[39m(data[33m.[39mresolution[33m.[39mresolution_type)[33m.[39m[34mtoBe[39m([32m'MEDIATED_SOLUTION'[39m)[33m;[39m
    [90m138| [39m    [34mexpect[39m(data[33m.[39mresolution[33m.[39mrefund_amount)[33m.[39m[34mtoBeNull[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[252/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/disputes/[id]/resolve.test.ts[2m > [22m/api/disputes/[id]/resolve[2m > [22mshould return 401 for unauthenticated user
[31m[1mAssertionError[22m: expected 500 to be 401 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 401[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/disputes/[id]/resolve.test.ts:[2m157:29[22m[39m
    [90m155| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mPOST[39m(request[33m,[39m { params[33m:[39m [33mPromise[39m[33m.[39m[34mresolve[39m({ i…
    [90m156| [39m
    [90m157| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m401[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m158| [39m  })[33m;[39m
    [90m159| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[253/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/disputes/[id]/resolve.test.ts[2m > [22m/api/disputes/[id]/resolve[2m > [22mshould return 403 for non-admin user
[31m[1mAssertionError[22m: expected 500 to be 403 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 403[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/disputes/[id]/resolve.test.ts:[2m182:29[22m[39m
    [90m180| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mPOST[39m(request[33m,[39m { params[33m:[39m [33mPromise[39m[33m.[39m[34mresolve[39m({ i…
    [90m181| [39m
    [90m182| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m403[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m183| [39m  })[33m;[39m
    [90m184| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[254/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/disputes/[id]/resolve.test.ts[2m > [22m/api/disputes/[id]/resolve[2m > [22mshould return 400 for missing required fields
[31m[1mAssertionError[22m: expected 500 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/disputes/[id]/resolve.test.ts:[2m205:29[22m[39m
    [90m203| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mPOST[39m(request[33m,[39m { params[33m:[39m [33mPromise[39m[33m.[39m[34mresolve[39m({ i…
    [90m204| [39m
    [90m205| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m206| [39m  })[33m;[39m
    [90m207| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[255/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/disputes/[id]/resolve.test.ts[2m > [22m/api/disputes/[id]/resolve[2m > [22mshould return 400 for refund without amount
[31m[1mAssertionError[22m: expected 500 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/disputes/[id]/resolve.test.ts:[2m230:29[22m[39m
    [90m228| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mPOST[39m(request[33m,[39m { params[33m:[39m [33mPromise[39m[33m.[39m[34mresolve[39m({ i…
    [90m229| [39m
    [90m230| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m231| [39m  })[33m;[39m
    [90m232| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[256/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/api/disputes/[id]/resolve.test.ts[2m > [22m/api/disputes/[id]/resolve[2m > [22mshould handle resolution service errors
[31m[1mAssertionError[22m: expected 500 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 500[39m

[36m [2m❯[22m tests/unit/api/disputes/[id]/resolve.test.ts:[2m261:29[22m[39m
    [90m259| [39m    [35mconst[39m response [33m=[39m [35mawait[39m [33mPOST[39m(request[33m,[39m { params[33m:[39m [33mPromise[39m[33m.[39m[34mresolve[39m({ i…
    [90m260| [39m
    [90m261| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m262| [39m  })[33m;[39m
    [90m263| [39m})[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[257/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mInitial Render and Data Loading[2m > [22mshould render loading state initially
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m172:7[22m[39m
    [90m170| [39m      mockFetch[33m.[39m[34mmockImplementation[39m(() [33m=>[39m [35mnew[39m [33mPromise[39m(() [33m=>[39m {}))[33m;[39m
    [90m171| [39m
    [90m172| [39m      [34mrender[39m([33m<[39m[33mMilestoneAnalyticsDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m173| [39m
    [90m174| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Loading analytics data...'[39m))[33m.[39m[34mtoBeInTheD[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[258/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mInitial Render and Data Loading[2m > [22mshould fetch and display analytics data on mount
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m178:7[22m[39m
    [90m176| [39m
    [90m177| [39m    [34mit[39m([32m'should fetch and display analytics data on mount'[39m[33m,[39m [35masync[39m () [33m=>[39m…
    [90m178| [39m      [34mrender[39m([33m<[39m[33mMilestoneAnalyticsDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m179| [39m
    [90m180| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[259/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mInitial Render and Data Loading[2m > [22mshould display alerts section when alerts exist
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m197:7[22m[39m
    [90m195| [39m
    [90m196| [39m    [34mit[39m([32m'should display alerts section when alerts exist'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m197| [39m      [34mrender[39m([33m<[39m[33mMilestoneAnalyticsDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m198| [39m
    [90m199| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[260/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mInitial Render and Data Loading[2m > [22mshould handle API errors gracefully
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m214:7[22m[39m
    [90m212| [39m      })[33m;[39m
    [90m213| [39m
    [90m214| [39m      [34mrender[39m([33m<[39m[33mMilestoneAnalyticsDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m215| [39m
    [90m216| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[261/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mInitial Render and Data Loading[2m > [22mshould handle network errors
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m226:7[22m[39m
    [90m224| [39m      mockFetch[33m.[39m[34mmockRejectedValue[39m([35mnew[39m [33mError[39m([32m'Network error'[39m))[33m;[39m
    [90m225| [39m
    [90m226| [39m      [34mrender[39m([33m<[39m[33mMilestoneAnalyticsDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m227| [39m
    [90m228| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[262/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mFilter Controls[2m > [22mshould update data when time range changes
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m236:7[22m[39m
    [90m234| [39m  [34mdescribe[39m([32m'Filter Controls'[39m[33m,[39m () [33m=>[39m {
    [90m235| [39m    [34mit[39m([32m'should update data when time range changes'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m236| [39m      [34mrender[39m([33m<[39m[33mMilestoneAnalyticsDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m237| [39m
    [90m238| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[263/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mFilter Controls[2m > [22mshould refresh data when refresh button is clicked
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m257:7[22m[39m
    [90m255| [39m
    [90m256| [39m    [34mit[39m([32m'should refresh data when refresh button is clicked'[39m[33m,[39m [35masync[39m () …
    [90m257| [39m      [34mrender[39m([33m<[39m[33mMilestoneAnalyticsDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m258| [39m
    [90m259| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[264/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mExport Functionality[2m > [22mshould handle export button click
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m282:7[22m[39m
    [90m280| [39m      mockCreateElement[33m.[39m[34mmockReturnValue[39m(mockAnchor)[33m;[39m
    [90m281| [39m
    [90m282| [39m      [34mrender[39m([33m<[39m[33mMilestoneAnalyticsDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m283| [39m
    [90m284| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[265/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mExport Functionality[2m > [22mshould handle export errors gracefully
[31m[1mError[22m: Export failed[39m
[36m [2m❯[22m HTMLDocument.<anonymous> tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m304:15[22m[39m
    [90m302| [39m      
    [90m303| [39m      mockCreateElement[33m.[39m[34mmockImplementation[39m(() [33m=>[39m {
    [90m304| [39m        [35mthrow[39m [35mnew[39m [33mError[39m([32m'Export failed'[39m)[33m;[39m
    [90m   | [39m              [31m^[39m
    [90m305| [39m      })[33m;[39m
    [90m306| [39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m260:50[22m[39m
[90m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m307:7[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[266/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mTab Navigation[2m > [22mshould display milestone breakdown in milestones tab
[31m[1mError[22m: Export failed[39m
[36m [2m❯[22m HTMLDocument.<anonymous> tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m304:15[22m[39m
    [90m302| [39m      
    [90m303| [39m      mockCreateElement[33m.[39m[34mmockImplementation[39m(() [33m=>[39m {
    [90m304| [39m        [35mthrow[39m [35mnew[39m [33mError[39m([32m'Export failed'[39m)[33m;[39m
    [90m   | [39m              [31m^[39m
    [90m305| [39m      })[33m;[39m
    [90m306| [39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m260:50[22m[39m
[90m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m326:7[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[267/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mTab Navigation[2m > [22mshould display tailor performance in tailors tab
[31m[1mError[22m: Export failed[39m
[36m [2m❯[22m HTMLDocument.<anonymous> tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m304:15[22m[39m
    [90m302| [39m      
    [90m303| [39m      mockCreateElement[33m.[39m[34mmockImplementation[39m(() [33m=>[39m {
    [90m304| [39m        [35mthrow[39m [35mnew[39m [33mError[39m([32m'Export failed'[39m)[33m;[39m
    [90m   | [39m              [31m^[39m
    [90m305| [39m      })[33m;[39m
    [90m306| [39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m260:50[22m[39m
[90m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m340:7[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[268/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mTab Navigation[2m > [22mshould display rejection patterns in patterns tab
[31m[1mError[22m: Export failed[39m
[36m [2m❯[22m HTMLDocument.<anonymous> tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m304:15[22m[39m
    [90m302| [39m      
    [90m303| [39m      mockCreateElement[33m.[39m[34mmockImplementation[39m(() [33m=>[39m {
    [90m304| [39m        [35mthrow[39m [35mnew[39m [33mError[39m([32m'Export failed'[39m)[33m;[39m
    [90m   | [39m              [31m^[39m
    [90m305| [39m      })[33m;[39m
    [90m306| [39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m260:50[22m[39m
[90m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m356:7[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[269/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mAlert Display[2m > [22mshould display alerts with correct severity styling
[31m[1mError[22m: Export failed[39m
[36m [2m❯[22m HTMLDocument.<anonymous> tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m304:15[22m[39m
    [90m302| [39m      
    [90m303| [39m      mockCreateElement[33m.[39m[34mmockImplementation[39m(() [33m=>[39m {
    [90m304| [39m        [35mthrow[39m [35mnew[39m [33mError[39m([32m'Export failed'[39m)[33m;[39m
    [90m   | [39m              [31m^[39m
    [90m305| [39m      })[33m;[39m
    [90m306| [39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m260:50[22m[39m
[90m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m373:7[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[270/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mAlert Display[2m > [22mshould not display alerts section when no alerts exist
[31m[1mError[22m: Export failed[39m
[36m [2m❯[22m HTMLDocument.<anonymous> tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m304:15[22m[39m
    [90m302| [39m      
    [90m303| [39m      mockCreateElement[33m.[39m[34mmockImplementation[39m(() [33m=>[39m {
    [90m304| [39m        [35mthrow[39m [35mnew[39m [33mError[39m([32m'Export failed'[39m)[33m;[39m
    [90m   | [39m              [31m^[39m
    [90m305| [39m      })[33m;[39m
    [90m306| [39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m260:50[22m[39m
[90m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m400:7[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[271/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mQuality Score Display[2m > [22mshould display quality scores with appropriate styling
[31m[1mError[22m: Export failed[39m
[36m [2m❯[22m HTMLDocument.<anonymous> tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m304:15[22m[39m
    [90m302| [39m      
    [90m303| [39m      mockCreateElement[33m.[39m[34mmockImplementation[39m(() [33m=>[39m {
    [90m304| [39m        [35mthrow[39m [35mnew[39m [33mError[39m([32m'Export failed'[39m)[33m;[39m
    [90m   | [39m              [31m^[39m
    [90m305| [39m      })[33m;[39m
    [90m306| [39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m260:50[22m[39m
[90m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m412:7[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[272/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mProgress Bars[2m > [22mshould display progress bars for milestone status distribution
[31m[1mError[22m: Export failed[39m
[36m [2m❯[22m HTMLDocument.<anonymous> tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m304:15[22m[39m
    [90m302| [39m      
    [90m303| [39m      mockCreateElement[33m.[39m[34mmockImplementation[39m(() [33m=>[39m {
    [90m304| [39m        [35mthrow[39m [35mnew[39m [33mError[39m([32m'Export failed'[39m)[33m;[39m
    [90m   | [39m              [31m^[39m
    [90m305| [39m      })[33m;[39m
    [90m306| [39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m260:50[22m[39m
[90m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m429:7[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[273/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mData Formatting[2m > [22mshould format milestone names correctly
[31m[1mError[22m: Export failed[39m
[36m [2m❯[22m HTMLDocument.<anonymous> tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m304:15[22m[39m
    [90m302| [39m      
    [90m303| [39m      mockCreateElement[33m.[39m[34mmockImplementation[39m(() [33m=>[39m {
    [90m304| [39m        [35mthrow[39m [35mnew[39m [33mError[39m([32m'Export failed'[39m)[33m;[39m
    [90m   | [39m              [31m^[39m
    [90m305| [39m      })[33m;[39m
    [90m306| [39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m260:50[22m[39m
[90m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m443:7[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[274/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mData Formatting[2m > [22mshould format numbers with proper decimal places
[31m[1mError[22m: Export failed[39m
[36m [2m❯[22m HTMLDocument.<anonymous> tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m304:15[22m[39m
    [90m302| [39m      
    [90m303| [39m      mockCreateElement[33m.[39m[34mmockImplementation[39m(() [33m=>[39m {
    [90m304| [39m        [35mthrow[39m [35mnew[39m [33mError[39m([32m'Export failed'[39m)[33m;[39m
    [90m   | [39m              [31m^[39m
    [90m305| [39m      })[33m;[39m
    [90m306| [39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m260:50[22m[39m
[90m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m458:7[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[275/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mResponsive Behavior[2m > [22mshould handle empty data gracefully
[31m[1mError[22m: Export failed[39m
[36m [2m❯[22m HTMLDocument.<anonymous> tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m304:15[22m[39m
    [90m302| [39m      
    [90m303| [39m      mockCreateElement[33m.[39m[34mmockImplementation[39m(() [33m=>[39m {
    [90m304| [39m        [35mthrow[39m [35mnew[39m [33mError[39m([32m'Export failed'[39m)[33m;[39m
    [90m   | [39m              [31m^[39m
    [90m305| [39m      })[33m;[39m
    [90m306| [39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m260:50[22m[39m
[90m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m498:7[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[276/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mAccessibility[2m > [22mshould have proper ARIA labels and roles
[31m[1mError[22m: Export failed[39m
[36m [2m❯[22m HTMLDocument.<anonymous> tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m304:15[22m[39m
    [90m302| [39m      
    [90m303| [39m      mockCreateElement[33m.[39m[34mmockImplementation[39m(() [33m=>[39m {
    [90m304| [39m        [35mthrow[39m [35mnew[39m [33mError[39m([32m'Export failed'[39m)[33m;[39m
    [90m   | [39m              [31m^[39m
    [90m305| [39m      })[33m;[39m
    [90m306| [39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m260:50[22m[39m
[90m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m512:7[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[277/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx[2m > [22mMilestoneAnalyticsDashboard[2m > [22mAccessibility[2m > [22mshould handle keyboard navigation for tabs
[31m[1mError[22m: Export failed[39m
[36m [2m❯[22m HTMLDocument.<anonymous> tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m304:15[22m[39m
    [90m302| [39m      
    [90m303| [39m      mockCreateElement[33m.[39m[34mmockImplementation[39m(() [33m=>[39m {
    [90m304| [39m        [35mthrow[39m [35mnew[39m [33mError[39m([32m'Export failed'[39m)[33m;[39m
    [90m   | [39m              [31m^[39m
    [90m305| [39m      })[33m;[39m
    [90m306| [39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m260:50[22m[39m
[90m [2m❯[22m tests/unit/components/features/admin/MilestoneAnalyticsDashboard.test.tsx:[2m527:7[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[278/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mRendering[2m > [22mshould render form with all required fields
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mRendering[2m > [22mshould render order details when provided
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mRendering[2m > [22mshould render milestone id in form data when provided
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mRendering[2m > [22mshould render evidence upload component with correct props
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mForm Validation[2m > [22mshould show validation errors for empty required fields
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mForm Validation[2m > [22mshould show validation error for short title
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mForm Validation[2m > [22mshould show validation error for short description
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mForm Validation[2m > [22mshould show character count for title and description
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mCategory Selection[2m > [22mshould update form when category is selected
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mCategory Selection[2m > [22mshould clear category validation error when category is selected
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mForm Submission[2m > [22mshould submit form with valid data
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mForm Submission[2m > [22mshould include milestone id in submission when provided
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mForm Submission[2m > [22mshould show loading state during submission
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mForm Submission[2m > [22mshould handle submission errors
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mForm Interactions[2m > [22mshould call onCancel when cancel button is clicked
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mForm Interactions[2m > [22mshould clear field errors when user starts typing
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mForm Interactions[2m > [22mshould be disabled when isLoading prop is true
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/disputes/DisputeCreationForm.test.tsx[2m > [22mDisputeCreationForm[2m > [22mInformation Display[2m > [22mshould show "What happens next?" information
[31m[1mError[22m: [vitest] No "ChevronDown" export is defined on the "lucide-react" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:
[39m
vi[33m.[39m[34mmock[39m([35mimport[39m([32m"lucide-react"[39m)[33m,[39m [35masync[39m (importOriginal) [33m=>[39m {
  [35mconst[39m actual [33m=[39m [35mawait[39m [34mimportOriginal[39m()
  [35mreturn[39m {
    [33m...[39mactual[33m,[39m
    [90m// your mocked methods[39m
  }
})

[36m [2m❯[22m SelectTrigger components/ui/select.tsx:[2m34:8[22m[39m
    [90m 32| [39m    [33m{[39mchildren[33m}[39m
    [90m 33| [39m    [33m<[39m[33mSelectPrimitive[39m[33m.[39m[33mIcon[39m [33masChild[39m[33m>[39m
    [90m 34| [39m      [33m<[39m[33mChevronDown[39m [33mclassName[39m[33m=[39m[32m"h-4 w-4 opacity-50"[39m [33m/[39m[33m>[39m
    [90m   | [39m       [31m^[39m
    [90m 35| [39m    [33m<[39m[33m/[39m[33mSelectPrimitive[39m[33m.[39m[33mIcon[39m[33m>[39m
    [90m 36| [39m  [33m<[39m[33m/[39m[33mSelectPrimitive[39m[33m.[39m[33mTrigger[39m[33m>[39m
[90m [2m❯[22m Object.react-stack-bottom-frame ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m23863:20[22m[39m
[90m [2m❯[22m renderWithHooks ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m5529:22[22m[39m
[90m [2m❯[22m updateForwardRef ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m8645:19[22m[39m
[90m [2m❯[22m beginWork ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m10861:18[22m[39m
[90m [2m❯[22m runWithFiberInDEV ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m1522:13[22m[39m
[90m [2m❯[22m performUnitOfWork ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m15140:22[22m[39m
[90m [2m❯[22m workLoopSync ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m14956:41[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[279/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/MilestoneApproval.test.tsx[2m > [22mMilestoneApproval[2m > [22mUrgency Indicators[2m > [22mshows warning for milestones near auto-approval deadline
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: /3h.*remaining/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6 pb-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"tracking-tight text-lg font-semibold"[39m
          [36m>[39m
            [0mFitting Ready[0m
          [36m</h3>[39m
          [36m<div[39m
            [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80"[39m
          [36m>[39m
            [0mPENDING[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 text-sm text-red-500 font-medium"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-clock h-4 w-4 animate-pulse"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M12 6v6l4 2"[39m
            [36m/>[39m
            [36m<circle[39m
              [33mcx[39m=[32m"12"[39m
              [33mcy[39m=[32m"12"[39m
              [33mr[39m=[32m"10"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<span>[39m
            [0m2h 59m remaining[0m
          [36m</span>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-triangle-alert h-4 w-4 text-red-500"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"M12 9v4"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"M12 17h.01"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 text-destructive dark:border-destructive [&>svg]:text-destructive border-red-200 bg-red-50"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-triangle-alert h-4 w-4 text-red-600"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"M12 9v4"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"M12 17h.01"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<div[39m
            [33mclass[39m=[32m"text-sm [&_p]:leading-relaxed text-red-800"[39m
          [36m>[39m
            [36m<strong>[39m
              [0mUrgent:[0m
            [36m</strong>[39m
            [0m This milestone will be automatically approved in less than 2 hours. Please review and take action now.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-6 pt-0 space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-3"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-base font-medium"[39m
          [36m>[39m
            [0mMilestone Photo[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative"[39m
          [36m>[39m
            [36m<img[39m
              [33malt[39m=[32m"Fitting Ready photo"[39m
              [33mclass[39m=[32m"w-full max-h-96 object-contain rounded-lg border cursor-pointer hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-primary"[39m
              [33mrole[39m=[32m"button"[39m
              [33msrc[39m=[32m"https://example.com/photo.jpg"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m/>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input shadow-sm hover:text-accent-foreground h-8 rounded-md px-3 text-xs absolute top-2 right-2 bg-white/90 hover:bg-white"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-zoom-in h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstro...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/MilestoneApproval.test.tsx:[2m452:21[22m[39m
    [90m450| [39m      )[33m;[39m
    [90m451| [39m
    [90m452| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/3h.*remaining/[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m453| [39m    })[33m;[39m
    [90m454| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[280/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/MilestoneProgress.test.tsx[2m > [22mMilestoneProgress Component[2m > [22mhighlights current milestone correctly
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: Cutting Started

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
[36m>[39m
  [0mCutting Started[0m
[36m</p>[39m

Ignored nodes: comments, script, style
[36m<h4[39m
  [33mclass[39m=[32m"font-medium text-primary"[39m
[36m>[39m
  [0mCutting Started[0m
[36m</h4>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[39m
        [36m>[39m
          [36m<span>[39m
            [0mProgress Tracking[0m
          [36m</span>[39m
          [36m<div[39m
            [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground text-sm"[39m
          [36m>[39m
            [0m1[0m
            [0m of [0m
            [0m7[0m
            [0m Complete[0m
          [36m</div>[39m
        [36m</h3>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between text-sm text-muted-foreground"[39m
          [36m>[39m
            [36m<span>[39m
              [0mOverall Progress[0m
            [36m</span>[39m
            [36m<span>[39m
              [0m14[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"100"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33mclass[39m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[39m
            [33mdata-max[39m=[32m"100"[39m
            [33mdata-state[39m=[32m"indeterminate"[39m
            [33mrole[39m=[32m"progressbar"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-full w-full flex-1 bg-primary transition-all"[39m
              [33mdata-max[39m=[32m"100"[39m
              [33mdata-state[39m=[32m"indeterminate"[39m
              [33mstyle[39m=[32m"transform: translateX(-85.71428571428572%);"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-6 pt-0 space-y-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 bg-muted rounded-lg"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-2 rounded-full text-white bg-orange-500"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-camera h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"13"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"font-medium"[39m
              [36m>[39m
                [0mCurrent Stage[0m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mCutting Started[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-3"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4 p-3 rounded-lg border transition-colors bg-green-50 border-green-200"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-shrink-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-green-500 text-white"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-check h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M20 6 9 17l-5-5"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 min-w-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
              [36m>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium"[39m
                [36m>[39m
                  [0mFabric Selection[0m
                [36m</h4>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-check h-4 w-4 text-green-600"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/MilestoneProgress.test.tsx:[2m79:19[22m[39m
    [90m 77| [39m
    [90m 78| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Current Stage'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m 79| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Cutting Started'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 80| [39m  })[33m;[39m
    [90m 81| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[281/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/MilestoneProgress.test.tsx[2m > [22mMilestoneProgress Component[2m > [22mshows rejected milestone with rejected badge
[31m[1mError[22m: [2mexpect([22m[31melement[31m[2m).toHaveClass([22m[32m[32m"bg-red-500 text-red-foreground"[32m[31m[2m)[22m

Expected the element to have class:
[32m  bg-red-500 text-red-foreground[31m
Received:
[31m  inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80[31m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/MilestoneProgress.test.tsx:[2m130:27[22m[39m
    [90m128| [39m    [35mconst[39m rejectedBadge [33m=[39m screen[33m.[39m[34mgetByText[39m([32m'Rejected'[39m)[33m;[39m
    [90m129| [39m    [34mexpect[39m(rejectedBadge)[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m130| [39m    [34mexpect[39m(rejectedBadge)[33m.[39m[34mtoHaveClass[39m([32m'bg-red-500'[39m[33m,[39m [32m'text-red-foregrou[39m…
    [90m   | [39m                          [31m^[39m
    [90m131| [39m  })[33m;[39m
    [90m132| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[282/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/MilestoneProgress.test.tsx[2m > [22mMilestoneProgress Component[2m > [22mshows next step information when not at final milestone
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: Tailor has begun cutting the fabric

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
[36m>[39m
  [0mTailor has begun cutting the fabric[0m
[36m</p>[39m

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm text-blue-700 mt-1"[39m
[36m>[39m
  [0mTailor has begun cutting the fabric[0m
[36m</p>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[39m
        [36m>[39m
          [36m<span>[39m
            [0mProgress Tracking[0m
          [36m</span>[39m
          [36m<div[39m
            [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground text-sm"[39m
          [36m>[39m
            [0m0[0m
            [0m of [0m
            [0m7[0m
            [0m Complete[0m
          [36m</div>[39m
        [36m</h3>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between text-sm text-muted-foreground"[39m
          [36m>[39m
            [36m<span>[39m
              [0mOverall Progress[0m
            [36m</span>[39m
            [36m<span>[39m
              [0m0[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"100"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33mclass[39m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[39m
            [33mdata-max[39m=[32m"100"[39m
            [33mdata-state[39m=[32m"indeterminate"[39m
            [33mrole[39m=[32m"progressbar"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-full w-full flex-1 bg-primary transition-all"[39m
              [33mdata-max[39m=[32m"100"[39m
              [33mdata-state[39m=[32m"indeterminate"[39m
              [33mstyle[39m=[32m"transform: translateX(-100%);"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-6 pt-0 space-y-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 bg-muted rounded-lg"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-2 rounded-full text-white bg-orange-500"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-camera h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"13"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"font-medium"[39m
              [36m>[39m
                [0mCurrent Stage[0m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mCutting Started[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-3"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4 p-3 rounded-lg border transition-colors"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-shrink-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-gray-200 text-gray-600"[39m
              [36m>[39m
                [0m1[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 min-w-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
              [36m>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium"[39m
                [36m>[39m
                  [0mFabric Selection[0m
                [36m</h4>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-4 w-4 rounded-full border-2 border-gray-300"[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mCustomer has selected and approved fabric[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-shrink-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-gray-500"[39m
              [36m>[39m
                [0mNot Started[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4 p-3 rounded-lg border transition-colors border-primary bg-primary/5"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-shrink-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-gray-200 text-gray-600 ring-2 ring-primary ring-offset-2"[39m
              [36m>[39m
                [0m2[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 min-w-0"[39m
            [36m>[39m
              [...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/MilestoneProgress.test.tsx:[2m160:19[22m[39m
    [90m158| [39m
    [90m159| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Next Step'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m160| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Tailor has begun cutting the fabric'[39m))[33m.[39m[34mto[39m…
    [90m   | [39m                  [31m^[39m
    [90m161| [39m  })[33m;[39m
    [90m162| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[283/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/MilestoneProgress.test.tsx[2m > [22mMilestoneProgress Component[2m > [22mdisplays all milestone types in correct order
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: Cutting Started

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
[36m>[39m
  [0mCutting Started[0m
[36m</p>[39m

Ignored nodes: comments, script, style
[36m<h4[39m
  [33mclass[39m=[32m"font-medium text-primary"[39m
[36m>[39m
  [0mCutting Started[0m
[36m</h4>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[39m
        [36m>[39m
          [36m<span>[39m
            [0mProgress Tracking[0m
          [36m</span>[39m
          [36m<div[39m
            [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground text-sm"[39m
          [36m>[39m
            [0m0[0m
            [0m of [0m
            [0m7[0m
            [0m Complete[0m
          [36m</div>[39m
        [36m</h3>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between text-sm text-muted-foreground"[39m
          [36m>[39m
            [36m<span>[39m
              [0mOverall Progress[0m
            [36m</span>[39m
            [36m<span>[39m
              [0m0[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"100"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33mclass[39m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[39m
            [33mdata-max[39m=[32m"100"[39m
            [33mdata-state[39m=[32m"indeterminate"[39m
            [33mrole[39m=[32m"progressbar"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-full w-full flex-1 bg-primary transition-all"[39m
              [33mdata-max[39m=[32m"100"[39m
              [33mdata-state[39m=[32m"indeterminate"[39m
              [33mstyle[39m=[32m"transform: translateX(-100%);"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-6 pt-0 space-y-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 bg-muted rounded-lg"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-2 rounded-full text-white bg-orange-500"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-camera h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"13"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"font-medium"[39m
              [36m>[39m
                [0mCurrent Stage[0m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mCutting Started[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-3"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4 p-3 rounded-lg border transition-colors"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-shrink-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-gray-200 text-gray-600"[39m
              [36m>[39m
                [0m1[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 min-w-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
              [36m>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium"[39m
                [36m>[39m
                  [0mFabric Selection[0m
                [36m</h4>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-4 w-4 rounded-full border-2 border-gray-300"[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mCustomer has selected and approved fabric[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-shrink-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-gray-500"[39m
              [36m>[39m
                [0mNot Started[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4 p-3 rounded-lg border transition-colors border-primary bg-primary/5"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-shrink-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-gray-200 text-gray-600 ring-2 ring-primary ring-offset-2"[39m
              [36m>[39m
                [0m2[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 min-w-0"[39m
            [36m>[39m
              [...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/MilestoneProgress.test.tsx:[2m230:21[22m[39m
    [90m228| [39m
    [90m229| [39m    milestoneLabels[33m.[39m[34mforEach[39m(label [33m=>[39m {
    [90m230| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m(label))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m231| [39m    })[33m;[39m
    [90m232| [39m  })[33m;[39m
[90m [2m❯[22m tests/unit/components/features/milestones/MilestoneProgress.test.tsx:[2m229:21[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[284/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/MilestoneProgress.test.tsx[2m > [22mMilestoneProgress Component[2m > [22mshows proper styling for current milestone with ring indicator
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: Cutting Started

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
[36m>[39m
  [0mCutting Started[0m
[36m</p>[39m

Ignored nodes: comments, script, style
[36m<h4[39m
  [33mclass[39m=[32m"font-medium text-primary"[39m
[36m>[39m
  [0mCutting Started[0m
[36m</h4>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[39m
        [36m>[39m
          [36m<span>[39m
            [0mProgress Tracking[0m
          [36m</span>[39m
          [36m<div[39m
            [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground text-sm"[39m
          [36m>[39m
            [0m0[0m
            [0m of [0m
            [0m7[0m
            [0m Complete[0m
          [36m</div>[39m
        [36m</h3>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between text-sm text-muted-foreground"[39m
          [36m>[39m
            [36m<span>[39m
              [0mOverall Progress[0m
            [36m</span>[39m
            [36m<span>[39m
              [0m0[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"100"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33mclass[39m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[39m
            [33mdata-max[39m=[32m"100"[39m
            [33mdata-state[39m=[32m"indeterminate"[39m
            [33mrole[39m=[32m"progressbar"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-full w-full flex-1 bg-primary transition-all"[39m
              [33mdata-max[39m=[32m"100"[39m
              [33mdata-state[39m=[32m"indeterminate"[39m
              [33mstyle[39m=[32m"transform: translateX(-100%);"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-6 pt-0 space-y-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 bg-muted rounded-lg"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-2 rounded-full text-white bg-orange-500"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-camera h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"13"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"font-medium"[39m
              [36m>[39m
                [0mCurrent Stage[0m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mCutting Started[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-3"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4 p-3 rounded-lg border transition-colors"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-shrink-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-gray-200 text-gray-600"[39m
              [36m>[39m
                [0m1[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 min-w-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
              [36m>[39m
                [36m<h4[39m
                  [33mclass[39m=[32m"font-medium"[39m
                [36m>[39m
                  [0mFabric Selection[0m
                [36m</h4>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-4 w-4 rounded-full border-2 border-gray-300"[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mCustomer has selected and approved fabric[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-shrink-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-gray-500"[39m
              [36m>[39m
                [0mNot Started[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4 p-3 rounded-lg border transition-colors border-primary bg-primary/5"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-shrink-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-gray-200 text-gray-600 ring-2 ring-primary ring-offset-2"[39m
              [36m>[39m
                [0m2[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 min-w-0"[39m
            [36m>[39m
              [...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/MilestoneProgress.test.tsx:[2m275:41[22m[39m
    [90m273| [39m
    [90m274| [39m    [90m// Current milestone should have special styling[39m
    [90m275| [39m    [35mconst[39m currentMilestoneCard [33m=[39m screen[33m.[39m[34mgetByText[39m([32m'Cutting Started'[39m)[33m.[39m[34mc[39m…
    [90m   | [39m                                        [31m^[39m
    [90m276| [39m    [34mexpect[39m(currentMilestoneCard)[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m277| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[285/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/MilestoneTimeline.test.tsx[2m > [22mMilestoneTimeline Component[2m > [22mapplies correct status colors for different milestone states
[31m[1mError[22m: [2mexpect([22m[31melement[31m[2m).toHaveClass([22m[32m[32m"bg-red-500"[32m[31m[2m)[22m

Expected the element to have class:
[32m  bg-red-500[31m
Received:
[31m  inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80[31m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/MilestoneTimeline.test.tsx:[2m248:42[22m[39m
    [90m246| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Approved'[39m))[33m.[39m[34mtoHaveClass[39m([32m'bg-green-500'[39m)[33m;[39m
    [90m247| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Pending Approval'[39m))[33m.[39m[34mtoHaveClass[39m([32m'bg-yello[39m…
    [90m248| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Rejected'[39m))[33m.[39m[34mtoHaveClass[39m([32m'bg-red-500'[39m)[33m;[39m
    [90m   | [39m                                         [31m^[39m
    [90m249| [39m  })[33m;[39m
    [90m250| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[286/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/PhotoUpload.test.tsx[2m > [22mPhotoUpload Component[2m > [22mRendering[2m > [22mshould render disabled state
[31m[1mError[22m: [2mexpect([22m[31melement[31m[2m).toHaveClass([22m[32m[32m"opacity-50 cursor-not-allowed"[32m[31m[2m)[22m

Expected the element to have class:
[32m  opacity-50 cursor-not-allowed[31m
Received:
[31m[31m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/PhotoUpload.test.tsx:[2m75:24[22m[39m
    [90m 73| [39m      
    [90m 74| [39m      [35mconst[39m dropZone [33m=[39m screen[33m.[39m[34mgetByText[39m([32m'Drop photo here or click to b[39m…
    [90m 75| [39m      [34mexpect[39m(dropZone)[33m.[39m[34mtoHaveClass[39m([32m'opacity-50'[39m[33m,[39m [32m'cursor-not-allowed'[39m)[33m;[39m
    [90m   | [39m                       [31m^[39m
    [90m 76| [39m    })[33m;[39m
    [90m 77| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[287/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/PhotoUpload.test.tsx[2m > [22mPhotoUpload Component[2m > [22mFile Selection[2m > [22mshould handle file selection via file input
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/PhotoUpload.test.tsx:[2m92:32[22m[39m
    [90m 90| [39m      
    [90m 91| [39m      [35mconst[39m file [33m=[39m [35mnew[39m [33mFile[39m([[32m'fake image data'[39m][33m,[39m [32m'test.jpg'[39m[33m,[39m { type[33m:[39m [32m'[39m…
    [90m 92| [39m      [35mconst[39m fileInput [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'textbox'[39m[33m,[39m { hidden[33m:[39m [35mtrue[39m }) …
    [90m   | [39m                               [31m^[39m
    [90m 93| [39m      
    [90m 94| [39m      [35mawait[39m user[33m.[39m[34mupload[39m(fileInput[33m,[39m file)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[288/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/PhotoUpload.test.tsx[2m > [22mPhotoUpload Component[2m > [22mFile Selection[2m > [22mshould handle drag and drop file selection
[31m[1mError[22m: [2mexpect([22m[31melement[31m[2m).toHaveClass([22m[32m[32m"border-primary"[32m[31m[2m)[22m

Expected the element to have class:
[32m  border-primary[31m
Received:
[31m[31m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/PhotoUpload.test.tsx:[2m113:24[22m[39m
    [90m111| [39m      })[33m;[39m
    [90m112| [39m      
    [90m113| [39m      [34mexpect[39m(dropZone)[33m.[39m[34mtoHaveClass[39m([32m'border-primary'[39m)[33m;[39m
    [90m   | [39m                       [31m^[39m
    [90m114| [39m      
    [90m115| [39m      [90m// Simulate drop[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[289/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/PhotoUpload.test.tsx[2m > [22mPhotoUpload Component[2m > [22mFile Selection[2m > [22mshould validate file type
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/PhotoUpload.test.tsx:[2m131:32[22m[39m
    [90m129| [39m      
    [90m130| [39m      [35mconst[39m invalidFile [33m=[39m [35mnew[39m [33mFile[39m([[32m'fake data'[39m][33m,[39m [32m'test.txt'[39m[33m,[39m { type[33m:[39m …
    [90m131| [39m      [35mconst[39m fileInput [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'textbox'[39m[33m,[39m { hidden[33m:[39m [35mtrue[39m }) …
    [90m   | [39m                               [31m^[39m
    [90m132| [39m      
    [90m133| [39m      [35mawait[39m user[33m.[39m[34mupload[39m(fileInput[33m,[39m invalidFile)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[290/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/PhotoUpload.test.tsx[2m > [22mPhotoUpload Component[2m > [22mFile Selection[2m > [22mshould validate file size
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/PhotoUpload.test.tsx:[2m148:32[22m[39m
    [90m146| [39m      [33mObject[39m[33m.[39m[34mdefineProperty[39m(largeFile[33m,[39m [32m'size'[39m[33m,[39m { value[33m:[39m [34m6[39m [33m*[39m [34m1024[39m [33m*[39m [34m102[39m…
    [90m147| [39m      
    [90m148| [39m      [35mconst[39m fileInput [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'textbox'[39m[33m,[39m { hidden[33m:[39m [35mtrue[39m }) …
    [90m   | [39m                               [31m^[39m
    [90m149| [39m      
    [90m150| [39m      [35mawait[39m user[33m.[39m[34mupload[39m(fileInput[33m,[39m largeFile)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[291/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/PhotoUpload.test.tsx[2m > [22mPhotoUpload Component[2m > [22mUpload Process[2m > [22mshould handle successful upload
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/PhotoUpload.test.tsx:[2m178:32[22m[39m
    [90m176| [39m      [90m// Select file[39m
    [90m177| [39m      [35mconst[39m file [33m=[39m [35mnew[39m [33mFile[39m([[32m'fake image data'[39m][33m,[39m [32m'test.jpg'[39m[33m,[39m { type[33m:[39m [32m'[39m…
    [90m178| [39m      [35mconst[39m fileInput [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'textbox'[39m[33m,[39m { hidden[33m:[39m [35mtrue[39m }) …
    [90m   | [39m                               [31m^[39m
    [90m179| [39m      [35mawait[39m user[33m.[39m[34mupload[39m(fileInput[33m,[39m file)[33m;[39m
    [90m180| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[292/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/PhotoUpload.test.tsx[2m > [22mPhotoUpload Component[2m > [22mUpload Process[2m > [22mshould handle upload error
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/PhotoUpload.test.tsx:[2m215:32[22m[39m
    [90m213| [39m      [90m// Select file[39m
    [90m214| [39m      [35mconst[39m file [33m=[39m [35mnew[39m [33mFile[39m([[32m'fake image data'[39m][33m,[39m [32m'test.jpg'[39m[33m,[39m { type[33m:[39m [32m'[39m…
    [90m215| [39m      [35mconst[39m fileInput [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'textbox'[39m[33m,[39m { hidden[33m:[39m [35mtrue[39m }) …
    [90m   | [39m                               [31m^[39m
    [90m216| [39m      [35mawait[39m user[33m.[39m[34mupload[39m(fileInput[33m,[39m file)[33m;[39m
    [90m217| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[293/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/PhotoUpload.test.tsx[2m > [22mPhotoUpload Component[2m > [22mUpload Process[2m > [22mshould show upload progress
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/PhotoUpload.test.tsx:[2m257:32[22m[39m
    [90m255| [39m      [90m// Select file[39m
    [90m256| [39m      [35mconst[39m file [33m=[39m [35mnew[39m [33mFile[39m([[32m'fake image data'[39m][33m,[39m [32m'test.jpg'[39m[33m,[39m { type[33m:[39m [32m'[39m…
    [90m257| [39m      [35mconst[39m fileInput [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'textbox'[39m[33m,[39m { hidden[33m:[39m [35mtrue[39m }) …
    [90m   | [39m                               [31m^[39m
    [90m258| [39m      [35mawait[39m user[33m.[39m[34mupload[39m(fileInput[33m,[39m file)[33m;[39m
    [90m259| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[294/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/PhotoUpload.test.tsx[2m > [22mPhotoUpload Component[2m > [22mNotes Input[2m > [22mshould handle notes input
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/PhotoUpload.test.tsx:[2m286:32[22m[39m
    [90m284| [39m      [90m// Select file first[39m
    [90m285| [39m      [35mconst[39m file [33m=[39m [35mnew[39m [33mFile[39m([[32m'fake image data'[39m][33m,[39m [32m'test.jpg'[39m[33m,[39m { type[33m:[39m [32m'[39m…
    [90m286| [39m      [35mconst[39m fileInput [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'textbox'[39m[33m,[39m { hidden[33m:[39m [35mtrue[39m }) …
    [90m   | [39m                               [31m^[39m
    [90m287| [39m      [35mawait[39m user[33m.[39m[34mupload[39m(fileInput[33m,[39m file)[33m;[39m
    [90m288| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[295/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/PhotoUpload.test.tsx[2m > [22mPhotoUpload Component[2m > [22mNotes Input[2m > [22mshould enforce character limit for notes
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/PhotoUpload.test.tsx:[2m306:32[22m[39m
    [90m304| [39m      [90m// Select file first[39m
    [90m305| [39m      [35mconst[39m file [33m=[39m [35mnew[39m [33mFile[39m([[32m'fake image data'[39m][33m,[39m [32m'test.jpg'[39m[33m,[39m { type[33m:[39m [32m'[39m…
    [90m306| [39m      [35mconst[39m fileInput [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'textbox'[39m[33m,[39m { hidden[33m:[39m [35mtrue[39m }) …
    [90m   | [39m                               [31m^[39m
    [90m307| [39m      [35mawait[39m user[33m.[39m[34mupload[39m(fileInput[33m,[39m file)[33m;[39m
    [90m308| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[296/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/PhotoUpload.test.tsx[2m > [22mPhotoUpload Component[2m > [22mClear Functionality[2m > [22mshould clear selected file
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/PhotoUpload.test.tsx:[2m325:32[22m[39m
    [90m323| [39m      [90m// Select file[39m
    [90m324| [39m      [35mconst[39m file [33m=[39m [35mnew[39m [33mFile[39m([[32m'fake image data'[39m][33m,[39m [32m'test.jpg'[39m[33m,[39m { type[33m:[39m [32m'[39m…
    [90m325| [39m      [35mconst[39m fileInput [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'textbox'[39m[33m,[39m { hidden[33m:[39m [35mtrue[39m }) …
    [90m   | [39m                               [31m^[39m
    [90m326| [39m      [35mawait[39m user[33m.[39m[34mupload[39m(fileInput[33m,[39m file)[33m;[39m
    [90m327| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[297/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/PhotoUpload.test.tsx[2m > [22mPhotoUpload Component[2m > [22mAccessibility[2m > [22mshould have proper ARIA labels and roles
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the role "textbox"

Here are the available roles:

  paragraph:

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-lg font-medium"[31m
  [36m/>[31m

  Name "":
  [36m<p[31m
    [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
  [36m/>[31m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-4"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer border-muted-foreground/25 hover:border-muted-foreground/50"[31m
      [36m>[31m
        [36m<input[31m
          [33maccept[31m=[32m"image/jpeg,image/png,image/webp"[31m
          [33mclass[31m=[32m"hidden"[31m
          [33mtype[31m=[32m"file"[31m
        [36m/>[31m
        [36m<div[31m
          [33mclass[31m=[32m"text-center space-y-4"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-upload h-12 w-12 mx-auto text-muted-foreground"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M12 3v12"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m17 8-5-5-5 5"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"[31m
            [36m/>[31m
          [36m</svg>[31m
          [36m<div>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-lg font-medium"[31m
            [36m>[31m
              [0mDrop photo here or click to browse[0m
            [36m</p>[31m
            [36m<p[31m
              [33mclass[31m=[32m"text-sm text-muted-foreground"[31m
            [36m>[31m
              [0mMaximum [0m
              [0m5 MB[0m
              [0m • JPEG, PNG, WebP[0m
            [36m</p>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/PhotoUpload.test.tsx:[2m345:32[22m[39m
    [90m343| [39m      [34mrender[39m([33m<[39m[33mPhotoUpload[39m [33m{[39m[33m...[39mmockProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m344| [39m      
    [90m345| [39m      [35mconst[39m fileInput [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'textbox'[39m[33m,[39m { hidden[33m:[39m [35mtrue[39m })[33m;[39m
    [90m   | [39m                               [31m^[39m
    [90m346| [39m      [34mexpect[39m(fileInput)[33m.[39m[34mtoHaveAttribute[39m([32m'accept'[39m[33m,[39m [32m'image/jpeg,image/pn[39m…
    [90m347| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[298/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/PhotoUpload.test.tsx[2m > [22mPhotoUpload Component[2m > [22mAccessibility[2m > [22mshould handle keyboard navigation
[31m[1mError[22m: [2mexpect([22m[31melement[31m[2m).toHaveClass([22m[32m[32m"cursor-pointer"[32m[31m[2m)[22m

Expected the element to have class:
[32m  cursor-pointer[31m
Received:
[31m[31m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/PhotoUpload.test.tsx:[2m356:24[22m[39m
    [90m354| [39m      
    [90m355| [39m      [90m// Should be focusable and clickable[39m
    [90m356| [39m      [34mexpect[39m(dropZone)[33m.[39m[34mtoHaveClass[39m([32m'cursor-pointer'[39m)[33m;[39m
    [90m   | [39m                       [31m^[39m
    [90m357| [39m      
    [90m358| [39m      [35mawait[39m user[33m.[39m[34mclick[39m(dropZone)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[299/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/TailorMilestoneSubmission.test.tsx[2m > [22mTailorMilestoneSubmission Component[2m > [22mvalidates required photos before submission
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: Please upload at least 2 photos. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-2 rounded-full text-white bg-orange-500"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-camera h-5 w-5"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"13"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-lg font-semibold"[39m
              [36m>[39m
                [0mFabric Cutting in Progress[0m
              [36m</h2>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mDocument the fabric cutting process[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m/>[39m
        [36m</h3>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between text-sm text-muted-foreground"[39m
          [36m>[39m
            [36m<span>[39m
              [0mMilestone Progress[0m
            [36m</span>[39m
            [36m<span>[39m
              [0m0[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"100"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33mclass[39m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[39m
            [33mdata-max[39m=[32m"100"[39m
            [33mdata-state[39m=[32m"indeterminate"[39m
            [33mrole[39m=[32m"progressbar"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-full w-full flex-1 bg-primary transition-all"[39m
              [33mdata-max[39m=[32m"100"[39m
              [33mdata-state[39m=[32m"indeterminate"[39m
              [33mstyle[39m=[32m"transform: translateX(-100%);"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-6 pt-0 space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"font-medium mb-2"[39m
            [36m>[39m
              [0mInstructions[0m
            [36m</h3>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mTake clear photos of the cutting process[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mShow fabric laid out with pattern pieces[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mEnsure all pieces are cut accurately[0m
                [36m</span>[39m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"font-medium mb-2"[39m
            [36m>[39m
              [0mPhoto Requirements[0m
            [36m</h3>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mClear photo of fabric layout with patterns[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mCut pieces arranged and labeled[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mAny special cutting techniques used[0m
                [36m</span>[39m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
            [36m>[39m
              [0mPhotos ([0m
              [0m2[0m
              [0m required)[0m
              [36m<span[39m
                [33mclass[39m=[32m"text-red-500"[39m
              [36m>[39m
                [0m*[0m
              [36m</span>[39m
            [36m</label>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"photo-upload"[39m
            [36m>[39m
              [36m<input[39m
                [33maccept[39m=[32m"image/*"[39m
                [33mdata-testid[39m=[32m"photo-input"[39m
                [33mmultiple[39m=[32m""[39m
                [33mtype[39m=[32m"file"[39m
              [36m/>[39m
              [36m<div>[39m
                [0mMax photos: [0m
                [0m4[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
            [36m>[39m
              [0mUpload [0m
              [0m2[0m
              [0m to [0m
              [0m4[0m
              [0m photos. Max 5MB per photo. JPEG, PNG, or WebP format.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
              [33mfor[39m=[32m"notes"[39m
            [36m>[39m
              [0mProgress Notes[0m
              [36m<span[39m
                [33mclass[39m=[32m"text-red-500"[39m
              [36m>[39m
                [0m*[0m
              [36m</span>[39m
            [36m</label>[39m
            [36m<textarea[39m
              [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[100px]"[39m
              [33mid[39m=[32m"notes"[39m
              [33mplaceholder[39m=[32m"Describe your progress, any challenges, and next steps..."[39m
            [36m>[39m
              [0mSome progress notes[0m
            [36m</textarea>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
            [36m>[39m
              [0mProvide detailed notes about your progress and any relevant information for the customer.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"[39m
            [33mrole[39m=[32m"alert"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle-alert h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12"[39m
                [33my1[39m=[32m"8"[39m
                [33my2[39m=[32m"12"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12.01"[39m
                [33my1[39m=[32m"16"[39m
                [33my2[39m=[32m"16"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-sm [&_p]:leading-relaxed"[39m
            [36m>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"space-y-1"[39m
              [36m>[39m
                [36m<li>[39m
                  [0m• [0m
                  [0mPlease upload at least 2 photos[0m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8 w-full"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-camera h-4 w-4 mr-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"13"[39m
                [33mr[39m=[32m"3"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mSubmit Milestone[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/TailorMilestoneSubmission.test.tsx:[2m103:19[22m[39m
    [90m101| [39m    [35mawait[39m user[33m.[39m[34mclick[39m(submitButton)[33m;[39m
    [90m102| [39m
    [90m103| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Please upload at least 2 photos'[39m))[33m.[39m[34mtoBeIn[39m…
    [90m   | [39m                  [31m^[39m
    [90m104| [39m  })[33m;[39m
    [90m105| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[300/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/TailorMilestoneSubmission.test.tsx[2m > [22mTailorMilestoneSubmission Component[2m > [22mvalidates required notes before submission
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: Please add notes describing your progress. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-2 rounded-full text-white bg-orange-500"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-camera h-5 w-5"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"13"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-lg font-semibold"[39m
              [36m>[39m
                [0mFabric Cutting in Progress[0m
              [36m</h2>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mDocument the fabric cutting process[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m/>[39m
        [36m</h3>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between text-sm text-muted-foreground"[39m
          [36m>[39m
            [36m<span>[39m
              [0mMilestone Progress[0m
            [36m</span>[39m
            [36m<span>[39m
              [0m0[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"100"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33mclass[39m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[39m
            [33mdata-max[39m=[32m"100"[39m
            [33mdata-state[39m=[32m"indeterminate"[39m
            [33mrole[39m=[32m"progressbar"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-full w-full flex-1 bg-primary transition-all"[39m
              [33mdata-max[39m=[32m"100"[39m
              [33mdata-state[39m=[32m"indeterminate"[39m
              [33mstyle[39m=[32m"transform: translateX(-100%);"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-6 pt-0 space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"font-medium mb-2"[39m
            [36m>[39m
              [0mInstructions[0m
            [36m</h3>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mTake clear photos of the cutting process[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mShow fabric laid out with pattern pieces[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mEnsure all pieces are cut accurately[0m
                [36m</span>[39m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"font-medium mb-2"[39m
            [36m>[39m
              [0mPhoto Requirements[0m
            [36m</h3>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mClear photo of fabric layout with patterns[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mCut pieces arranged and labeled[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mAny special cutting techniques used[0m
                [36m</span>[39m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
            [36m>[39m
              [0mPhotos ([0m
              [0m2[0m
              [0m required)[0m
              [36m<span[39m
                [33mclass[39m=[32m"text-red-500"[39m
              [36m>[39m
                [0m*[0m
              [36m</span>[39m
            [36m</label>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"photo-upload"[39m
            [36m>[39m
              [36m<input[39m
                [33maccept[39m=[32m"image/*"[39m
                [33mdata-testid[39m=[32m"photo-input"[39m
                [33mmultiple[39m=[32m""[39m
                [33mtype[39m=[32m"file"[39m
              [36m/>[39m
              [36m<div>[39m
                [0mMax photos: [0m
                [0m4[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
            [36m>[39m
              [0mUpload [0m
              [0m2[0m
              [0m to [0m
              [0m4[0m
              [0m photos. Max 5MB per photo. JPEG, PNG, or WebP format.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
              [33mfor[39m=[32m"notes"[39m
            [36m>[39m
              [0mProgress Notes[0m
              [36m<span[39m
                [33mclass[39m=[32m"text-red-500"[39m
              [36m>[39m
                [0m*[0m
              [36m</span>[39m
            [36m</label>[39m
            [36m<textarea[39m
              [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[100px]"[39m
              [33mid[39m=[32m"notes"[39m
              [33mplaceholder[39m=[32m"Describe your progress, any challenges, and next steps..."[39m
            [36m/>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
            [36m>[39m
              [0mProvide detailed notes about your progress and any relevant information for the customer.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"[39m
            [33mrole[39m=[32m"alert"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle-alert h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12"[39m
                [33my1[39m=[32m"8"[39m
                [33my2[39m=[32m"12"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12.01"[39m
                [33my1[39m=[32m"16"[39m
                [33my2[39m=[32m"16"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-sm [&_p]:leading-relaxed"[39m
            [36m>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"space-y-1"[39m
              [36m>[39m
                [36m<li>[39m
                  [0m• [0m
                  [0mPlease upload at least 2 photos[0m
                [36m</li>[39m
                [36m<li>[39m
                  [0m• [0m
                  [0mPlease add notes describing your progress[0m
                [36m</li>[39m
                [36m<li>[39m
                  [0m• [0m
                  [0mPlease provide more detailed notes (at least 10 characters)[0m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8 w-full"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-camera h-4 w-4 mr-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"13"[39m
                [33mr[39m=[32m"3"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mSubmit Milestone[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/TailorMilestoneSubmission.test.tsx:[2m113:19[22m[39m
    [90m111| [39m    [35mawait[39m user[33m.[39m[34mclick[39m(submitButton)[33m;[39m
    [90m112| [39m
    [90m113| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Please add notes describing your progress[39m…
    [90m   | [39m                  [31m^[39m
    [90m114| [39m  })[33m;[39m
    [90m115| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[301/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/TailorMilestoneSubmission.test.tsx[2m > [22mTailorMilestoneSubmission Component[2m > [22mvalidates minimum notes length
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: Please provide more detailed notes (at least 10 characters). This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-2 rounded-full text-white bg-orange-500"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-camera h-5 w-5"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"13"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-lg font-semibold"[39m
              [36m>[39m
                [0mFabric Cutting in Progress[0m
              [36m</h2>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mDocument the fabric cutting process[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m/>[39m
        [36m</h3>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between text-sm text-muted-foreground"[39m
          [36m>[39m
            [36m<span>[39m
              [0mMilestone Progress[0m
            [36m</span>[39m
            [36m<span>[39m
              [0m0[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"100"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33mclass[39m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[39m
            [33mdata-max[39m=[32m"100"[39m
            [33mdata-state[39m=[32m"indeterminate"[39m
            [33mrole[39m=[32m"progressbar"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-full w-full flex-1 bg-primary transition-all"[39m
              [33mdata-max[39m=[32m"100"[39m
              [33mdata-state[39m=[32m"indeterminate"[39m
              [33mstyle[39m=[32m"transform: translateX(-100%);"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-6 pt-0 space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"font-medium mb-2"[39m
            [36m>[39m
              [0mInstructions[0m
            [36m</h3>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mTake clear photos of the cutting process[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mShow fabric laid out with pattern pieces[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mEnsure all pieces are cut accurately[0m
                [36m</span>[39m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"font-medium mb-2"[39m
            [36m>[39m
              [0mPhoto Requirements[0m
            [36m</h3>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mClear photo of fabric layout with patterns[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mCut pieces arranged and labeled[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mAny special cutting techniques used[0m
                [36m</span>[39m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
            [36m>[39m
              [0mPhotos ([0m
              [0m2[0m
              [0m required)[0m
              [36m<span[39m
                [33mclass[39m=[32m"text-red-500"[39m
              [36m>[39m
                [0m*[0m
              [36m</span>[39m
            [36m</label>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"photo-upload"[39m
            [36m>[39m
              [36m<input[39m
                [33maccept[39m=[32m"image/*"[39m
                [33mdata-testid[39m=[32m"photo-input"[39m
                [33mmultiple[39m=[32m""[39m
                [33mtype[39m=[32m"file"[39m
              [36m/>[39m
              [36m<div>[39m
                [0mMax photos: [0m
                [0m4[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
            [36m>[39m
              [0mUpload [0m
              [0m2[0m
              [0m to [0m
              [0m4[0m
              [0m photos. Max 5MB per photo. JPEG, PNG, or WebP format.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
              [33mfor[39m=[32m"notes"[39m
            [36m>[39m
              [0mProgress Notes[0m
              [36m<span[39m
                [33mclass[39m=[32m"text-red-500"[39m
              [36m>[39m
                [0m*[0m
              [36m</span>[39m
            [36m</label>[39m
            [36m<textarea[39m
              [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[100px]"[39m
              [33mid[39m=[32m"notes"[39m
              [33mplaceholder[39m=[32m"Describe your progress, any challenges, and next steps..."[39m
            [36m>[39m
              [0mShort[0m
            [36m</textarea>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
            [36m>[39m
              [0mProvide detailed notes about your progress and any relevant information for the customer.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"[39m
            [33mrole[39m=[32m"alert"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle-alert h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12"[39m
                [33my1[39m=[32m"8"[39m
                [33my2[39m=[32m"12"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12.01"[39m
                [33my1[39m=[32m"16"[39m
                [33my2[39m=[32m"16"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-sm [&_p]:leading-relaxed"[39m
            [36m>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"space-y-1"[39m
              [36m>[39m
                [36m<li>[39m
                  [0m• [0m
                  [0mPlease upload at least 2 photos[0m
                [36m</li>[39m
                [36m<li>[39m
                  [0m• [0m
                  [0mPlease provide more detailed notes (at least 10 characters)[0m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8 w-full"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-camera h-4 w-4 mr-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"13"[39m
                [33mr[39m=[32m"3"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mSubmit Milestone[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/TailorMilestoneSubmission.test.tsx:[2m126:19[22m[39m
    [90m124| [39m    [35mawait[39m user[33m.[39m[34mclick[39m(submitButton)[33m;[39m
    [90m125| [39m
    [90m126| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Please provide more detailed notes (at le[39m…
    [90m   | [39m                  [31m^[39m
    [90m127| [39m  })[33m;[39m
    [90m128| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[302/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/TailorMilestoneSubmission.test.tsx[2m > [22mTailorMilestoneSubmission Component[2m > [22mvalidates maximum number of photos
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: Please upload no more than 4 photos. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-2 rounded-full text-white bg-orange-500"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-camera h-5 w-5"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"13"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-lg font-semibold"[39m
              [36m>[39m
                [0mFabric Cutting in Progress[0m
              [36m</h2>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mDocument the fabric cutting process[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m/>[39m
        [36m</h3>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between text-sm text-muted-foreground"[39m
          [36m>[39m
            [36m<span>[39m
              [0mMilestone Progress[0m
            [36m</span>[39m
            [36m<span>[39m
              [0m0[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"100"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33mclass[39m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[39m
            [33mdata-max[39m=[32m"100"[39m
            [33mdata-state[39m=[32m"indeterminate"[39m
            [33mrole[39m=[32m"progressbar"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-full w-full flex-1 bg-primary transition-all"[39m
              [33mdata-max[39m=[32m"100"[39m
              [33mdata-state[39m=[32m"indeterminate"[39m
              [33mstyle[39m=[32m"transform: translateX(-100%);"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-6 pt-0 space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"font-medium mb-2"[39m
            [36m>[39m
              [0mInstructions[0m
            [36m</h3>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mTake clear photos of the cutting process[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mShow fabric laid out with pattern pieces[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mEnsure all pieces are cut accurately[0m
                [36m</span>[39m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"font-medium mb-2"[39m
            [36m>[39m
              [0mPhoto Requirements[0m
            [36m</h3>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mClear photo of fabric layout with patterns[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mCut pieces arranged and labeled[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mAny special cutting techniques used[0m
                [36m</span>[39m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
            [36m>[39m
              [0mPhotos ([0m
              [0m2[0m
              [0m required)[0m
              [36m<span[39m
                [33mclass[39m=[32m"text-red-500"[39m
              [36m>[39m
                [0m*[0m
              [36m</span>[39m
            [36m</label>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"photo-upload"[39m
            [36m>[39m
              [36m<input[39m
                [33maccept[39m=[32m"image/*"[39m
                [33mdata-testid[39m=[32m"photo-input"[39m
                [33mmultiple[39m=[32m""[39m
                [33mtype[39m=[32m"file"[39m
              [36m/>[39m
              [36m<div>[39m
                [0mMax photos: [0m
                [0m4[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
            [36m>[39m
              [0mUpload [0m
              [0m2[0m
              [0m to [0m
              [0m4[0m
              [0m photos. Max 5MB per photo. JPEG, PNG, or WebP format.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
              [33mfor[39m=[32m"notes"[39m
            [36m>[39m
              [0mProgress Notes[0m
              [36m<span[39m
                [33mclass[39m=[32m"text-red-500"[39m
              [36m>[39m
                [0m*[0m
              [36m</span>[39m
            [36m</label>[39m
            [36m<textarea[39m
              [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[100px]"[39m
              [33mid[39m=[32m"notes"[39m
              [33mplaceholder[39m=[32m"Describe your progress, any challenges, and next steps..."[39m
            [36m>[39m
              [0mDetailed progress notes[0m
            [36m</textarea>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
            [36m>[39m
              [0mProvide detailed notes about your progress and any relevant information for the customer.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"[39m
            [33mrole[39m=[32m"alert"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle-alert h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12"[39m
                [33my1[39m=[32m"8"[39m
                [33my2[39m=[32m"12"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12.01"[39m
                [33my1[39m=[32m"16"[39m
                [33my2[39m=[32m"16"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-sm [&_p]:leading-relaxed"[39m
            [36m>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"space-y-1"[39m
              [36m>[39m
                [36m<li>[39m
                  [0m• [0m
                  [0mPlease upload no more than 4 photos[0m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8 w-full"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-camera h-4 w-4 mr-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"13"[39m
                [33mr[39m=[32m"3"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mSubmit Milestone[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/TailorMilestoneSubmission.test.tsx:[2m154:19[22m[39m
    [90m152| [39m    [35mawait[39m user[33m.[39m[34mclick[39m(submitButton)[33m;[39m
    [90m153| [39m
    [90m154| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Please upload no more than 4 photos'[39m))[33m.[39m[34mto[39m…
    [90m   | [39m                  [31m^[39m
    [90m155| [39m  })[33m;[39m
    [90m156| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[303/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/TailorMilestoneSubmission.test.tsx[2m > [22mTailorMilestoneSubmission Component[2m > [22mdisplays approved status correctly
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: Approved by customer!. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-2 rounded-full text-white bg-orange-500"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-camera h-5 w-5"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"13"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-lg font-semibold"[39m
              [36m>[39m
                [0mFabric Cutting in Progress[0m
              [36m</h2>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mDocument the fabric cutting process[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-primary-foreground hover:bg-primary/80 bg-green-500"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-circle-check-big h-3 w-3 mr-1"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m9 11 3 3L22 4"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mApproved[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</h3>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between text-sm text-muted-foreground"[39m
          [36m>[39m
            [36m<span>[39m
              [0mMilestone Progress[0m
            [36m</span>[39m
            [36m<span>[39m
              [0m100[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"100"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33mclass[39m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[39m
            [33mdata-max[39m=[32m"100"[39m
            [33mdata-state[39m=[32m"indeterminate"[39m
            [33mrole[39m=[32m"progressbar"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-full w-full flex-1 bg-primary transition-all"[39m
              [33mdata-max[39m=[32m"100"[39m
              [33mdata-state[39m=[32m"indeterminate"[39m
              [33mstyle[39m=[32m"transform: translateX(-0%);"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-6 pt-0 space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"font-medium mb-2"[39m
            [36m>[39m
              [0mInstructions[0m
            [36m</h3>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mTake clear photos of the cutting process[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mShow fabric laid out with pattern pieces[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mEnsure all pieces are cut accurately[0m
                [36m</span>[39m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"font-medium mb-2"[39m
            [36m>[39m
              [0mPhoto Requirements[0m
            [36m</h3>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mClear photo of fabric layout with patterns[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mCut pieces arranged and labeled[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mAny special cutting techniques used[0m
                [36m</span>[39m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground bg-background text-foreground"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-circle-check-big h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"m9 11 3 3L22 4"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<div[39m
            [33mclass[39m=[32m"text-sm [&_p]:leading-relaxed"[39m
          [36m>[39m
            [0mMilestone submitted on [0m
            [0m10/15/2025, 9:04:44 PM[0m
            [0m.[0m
            [0m Approved by customer![0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/TailorMilestoneSubmission.test.tsx:[2m261:19[22m[39m
    [90m259| [39m
    [90m260| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Approved'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m261| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Approved by customer!'[39m))[33m.[39m[34mtoBeInTheDocumen[39m…
    [90m   | [39m                  [31m^[39m
    [90m262| [39m  })[33m;[39m
    [90m263| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[304/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/TailorMilestoneSubmission.test.tsx[2m > [22mTailorMilestoneSubmission Component[2m > [22mhandles submission errors gracefully
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: Failed to submit milestone. Please try again.. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-2 rounded-full text-white bg-orange-500"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-camera h-5 w-5"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"13"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-lg font-semibold"[39m
              [36m>[39m
                [0mFabric Cutting in Progress[0m
              [36m</h2>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mDocument the fabric cutting process[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m/>[39m
        [36m</h3>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between text-sm text-muted-foreground"[39m
          [36m>[39m
            [36m<span>[39m
              [0mMilestone Progress[0m
            [36m</span>[39m
            [36m<span>[39m
              [0m0[0m
              [0m%[0m
            [36m</span>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"100"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33mclass[39m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[39m
            [33mdata-max[39m=[32m"100"[39m
            [33mdata-state[39m=[32m"indeterminate"[39m
            [33mrole[39m=[32m"progressbar"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-full w-full flex-1 bg-primary transition-all"[39m
              [33mdata-max[39m=[32m"100"[39m
              [33mdata-state[39m=[32m"indeterminate"[39m
              [33mstyle[39m=[32m"transform: translateX(-100%);"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-6 pt-0 space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"font-medium mb-2"[39m
            [36m>[39m
              [0mInstructions[0m
            [36m</h3>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mTake clear photos of the cutting process[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mShow fabric laid out with pattern pieces[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-muted-foreground"[39m
                [36m>[39m
                  [0m•[0m
                [36m</span>[39m
                [36m<span>[39m
                  [0mEnsure all pieces are cut accurately[0m
                [36m</span>[39m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"font-medium mb-2"[39m
            [36m>[39m
              [0mPhoto Requirements[0m
            [36m</h3>[39m
            [36m<ul[39m
              [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mClear photo of fabric layout with patterns[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mCut pieces arranged and labeled[0m
                [36m</span>[39m
              [36m</li>[39m
              [36m<li[39m
                [33mclass[39m=[32m"flex items-start gap-2"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"10"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"2"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span>[39m
                  [0mAny special cutting techniques used[0m
                [36m</span>[39m
              [36m</li>[39m
            [36m</ul>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
            [36m>[39m
              [0mPhotos ([0m
              [0m2[0m
              [0m required)[0m
              [36m<span[39m
                [33mclass[39m=[32m"text-red-500"[39m
              [36m>[39m
                [0m*[0m
              [36m</span>[39m
            [36m</label>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"photo-upload"[39m
            [36m>[39m
              [36m<input[39m
                [33maccept[39m=[32m"image/*"[39m
                [33mdata-testid[39m=[32m"photo-input"[39m
                [33mmultiple[39m=[32m""[39m
                [33mtype[39m=[32m"file"[39m
              [36m/>[39m
              [36m<div>[39m
                [0mMax photos: [0m
                [0m4[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
            [36m>[39m
              [0mUpload [0m
              [0m2[0m
              [0m to [0m
              [0m4[0m
              [0m photos. Max 5MB per photo. JPEG, PNG, or WebP format.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<label[39m
              [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
              [33mfor[39m=[32m"notes"[39m
            [36m>[39m
              [0mProgress Notes[0m
              [36m<span[39m
                [33mclass[39m=[32m"text-red-500"[39m
              [36m>[39m
                [0m*[0m
              [36m</span>[39m
            [36m</label>[39m
            [36m<textarea[39m
              [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[100px]"[39m
              [33mid[39m=[32m"notes"[39m
              [33mplaceholder[39m=[32m"Describe your progress, any challenges, and next steps..."[39m
            [36m>[39m
              [0mValid notes[0m
            [36m</textarea>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
            [36m>[39m
              [0mProvide detailed notes about your progress and any relevant information for the customer.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"[39m
            [33mrole[39m=[32m"alert"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle-alert h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12"[39m
                [33my1[39m=[32m"8"[39m
                [33my2[39m=[32m"12"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12.01"[39m
                [33my1[39m=[32m"16"[39m
                [33my2[39m=[32m"16"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-sm [&_p]:leading-relaxed"[39m
            [36m>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"space-y-1"[39m
              [36m>[39m
                [36m<li>[39m
                  [0m• [0m
                  [0mFailed to submit milestone. Please try again.[0m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8 w-full"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-camera h-4 w-4 mr-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"13"[39m
                [33mr[39m=[32m"3"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mSubmit Milestone[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-2 rounded-full text-white bg-orange-500"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-camera h-5 w-5"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"12"[39m
                    [33mcy[39m=[32m"13"[39m
                    [33mr[39m=[32m"3"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<h2[39m
                  [33mclass[39m=[32m"text-lg font-semibold"[39m
                [36m>[39m
                  [0mFabric Cutting in Progress[0m
                [36m</h2>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
                [36m>[39m
                  [0mDocument the fabric cutting process[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m/>[39m
          [36m</h3>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<span>[39m
                [0mMilestone Progress[0m
              [36m</span>[39m
              [36m<span>[39m
                [0m0[0m
                [0m%[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33maria-valuemax[39m=[32m"100"[39m
              [33maria-valuemin[39m=[32m"0"[39m
              [33mclass[39m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[39m
              [33mdata-max[39m=[32m"100"[39m
              [33mdata-state[39m=[32m"indeterminate"[39m
              [33mrole[39m=[32m"progressbar"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-full w-full flex-1 bg-primary transition-all"[39m
                [33mdata-max[39m=[32m"100"[39m
                [33mdata-state[39m=[32m"indeterminate"[39m
                [33mstyle[39m=[32m"transform: translateX(-100%);"[39m
              [36m/>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 pt-0 space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"font-medium mb-2"[39m
              [36m>[39m
                [0mInstructions[0m
              [36m</h3>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
              [36m>[39m
                [36m<li[39m
                  [33mclass[39m=[32m"flex items-start gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-muted-foreground"[39m
                  [36m>[39m
                    [0m•[0m
                  [36m</span>[39m
                  [36m<span>[39m
                    [0mTake clear photos of the cutting process[0m
                  [36m</span>[39m
                [36m</li>[39m
                [36m<li[39m
                  [33mclass[39m=[32m"flex items-start gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-muted-foreground"[39m
                  [36m>[39m
                    [0m•[0m
                  [36m</span>[39m
                  [36m<span>[39m
                    [0mShow fabric laid out with pattern pieces[0m
                  [36m</span>[39m
                [36m</li>[39m
                [36m<li[39m
                  [33mclass[39m=[32m"flex items-start gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-muted-foreground"[39m
                  [36m>[39m
                    [0m•[0m
                  [36m</span>[39m
                  [36m<span>[39m
                    [0mEnsure all pieces are cut accurately[0m
                  [36m</span>[39m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"font-medium mb-2"[39m
              [36m>[39m
                [0mPhoto Requirements[0m
              [36m</h3>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
              [36m>[39m
                [36m<li[39m
                  [33mclass[39m=[32m"flex items-start gap-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"10"[39m
                      [33mcy[39m=[32m"12"[39m
                      [33mr[39m=[32m"2"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span>[39m
                    [0mClear photo of fabric layout with patterns[0m
                  [36m</span>[39m
                [36m</li>[39m
                [36m<li[39m
                  [33mclass[39m=[32m"flex items-start gap-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"10"[39m
                      [33mcy[39m=[32m"12"[39m
                      [33mr[39m=[32m"2"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span>[39m
                    [0mCut pieces arranged and labeled[0m
                  [36m</span>[39m
                [36m</li>[39m
                [36m<li[39m
                  [33mclass[39m=[32m"flex items-start gap-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"10"[39m
                      [33mcy[39m=[32m"12"[39m
                      [33mr[39m=[32m"2"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span>[39m
                    [0mAny special cutting techniques used[0m
                  [36m</span>[39m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
              [36m>[39m
                [0mPhotos ([0m
                [0m2[0m
                [0m required)[0m
                [36m<span[39m
                  [33mclass[39m=[32m"text-red-500"[39m
                [36m>[39m
                  [0m*[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"photo-upload"[39m
              [36m>[39m
                [36m<input[39m
                  [33maccept[39m=[32m"image/*"[39m
                  [33mdata-testid[39m=[32m"photo-input"[39m
                  [33mmultiple[39m=[32m""[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
                [36m<div>[39m
                  [0mMax photos: [0m
                  [0m4[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
              [36m>[39m
                [0mUpload [0m
                [0m2[0m
                [0m to [0m
                [0m4[0m
                [0m photos. Max 5MB per photo. JPEG, PNG, or WebP format.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
                [33mfor[39m=[32m"notes"[39m
              [36m>[39m
                [0mProgress Notes[0m
                [36m<span[39m
                  [33mclass[39m=[32m"text-red-500"[39m
                [36m>[39m
                  [0m*[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<textarea[39m
                [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[100px]"[39m
                [33mid[39m=[32m"notes"[39m
                [33mplaceholder[39m=[32m"Describe your progress, any challenges, and next steps..."[39m
              [36m>[39m
                [0mValid notes[0m
              [36m</textarea>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
              [36m>[39m
                [0mProvide detailed notes about your progress and any relevant information for the customer.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"[39m
              [33mrole[39m=[32m"alert"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-circle-alert h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
                [36m<line[39m
                  [33mx1[39m=[32m"12"[39m
                  [33mx2[39m=[32m"12"[39m
                  [33my1[39m=[32m"8"[39m
                  [33my2[39m=[32m"12"[39m
                [36m/>[39m
                [36m<line[39m
                  [33mx1[39m=[32m"12"[39m
                  [33mx2[39m=[32m"12.01"[39m
                  [33my1[39m=[32m"16"[39m
                  [33my2[39m=[32m"16"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<div[39m
                [33mclass[39m=[32m"text-sm [&_p]:leading-relaxed"[39m
              [36m>[39m
                [36m<ul[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<li>[39m
                    [0m• [0m
                    [0mFailed to submit milestone. Please try again.[0m
                  [36m</li>[39m
                [36m</ul>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8 w-full"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-camera h-4 w-4 mr-2"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"13"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mSubmit Milestone[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
[90m [2m❯[22m Proxy.waitForWrapper ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m❯[22m tests/unit/components/features/milestones/TailorMilestoneSubmission.test.tsx:[2m353:11[22m[39m
    [90m351| [39m    [35mawait[39m user[33m.[39m[34mclick[39m(submitButton)[33m;[39m
    [90m352| [39m
    [90m353| [39m    [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m          [31m^[39m
    [90m354| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Failed to submit milestone. Please try [39m…
    [90m355| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[305/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/milestones/TailorMilestoneSubmission.test.tsx[2m > [22mTailorMilestoneSubmission Component[2m > [22mresets form after successful submission
[31m[1mAssertionError[22m[39m: expected "spy" to be called at least once

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-full"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center justify-between"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-2 rounded-full text-white bg-orange-500"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-camera h-5 w-5"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"12"[39m
                    [33mcy[39m=[32m"13"[39m
                    [33mr[39m=[32m"3"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<h2[39m
                  [33mclass[39m=[32m"text-lg font-semibold"[39m
                [36m>[39m
                  [0mFabric Cutting in Progress[0m
                [36m</h2>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
                [36m>[39m
                  [0mDocument the fabric cutting process[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m/>[39m
          [36m</h3>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between text-sm text-muted-foreground"[39m
            [36m>[39m
              [36m<span>[39m
                [0mMilestone Progress[0m
              [36m</span>[39m
              [36m<span>[39m
                [0m0[0m
                [0m%[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33maria-valuemax[39m=[32m"100"[39m
              [33maria-valuemin[39m=[32m"0"[39m
              [33mclass[39m=[32m"relative w-full overflow-hidden rounded-full bg-primary/20 h-2"[39m
              [33mdata-max[39m=[32m"100"[39m
              [33mdata-state[39m=[32m"indeterminate"[39m
              [33mrole[39m=[32m"progressbar"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-full w-full flex-1 bg-primary transition-all"[39m
                [33mdata-max[39m=[32m"100"[39m
                [33mdata-state[39m=[32m"indeterminate"[39m
                [33mstyle[39m=[32m"transform: translateX(-100%);"[39m
              [36m/>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 pt-0 space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"font-medium mb-2"[39m
              [36m>[39m
                [0mInstructions[0m
              [36m</h3>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
              [36m>[39m
                [36m<li[39m
                  [33mclass[39m=[32m"flex items-start gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-muted-foreground"[39m
                  [36m>[39m
                    [0m•[0m
                  [36m</span>[39m
                  [36m<span>[39m
                    [0mTake clear photos of the cutting process[0m
                  [36m</span>[39m
                [36m</li>[39m
                [36m<li[39m
                  [33mclass[39m=[32m"flex items-start gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-muted-foreground"[39m
                  [36m>[39m
                    [0m•[0m
                  [36m</span>[39m
                  [36m<span>[39m
                    [0mShow fabric laid out with pattern pieces[0m
                  [36m</span>[39m
                [36m</li>[39m
                [36m<li[39m
                  [33mclass[39m=[32m"flex items-start gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-muted-foreground"[39m
                  [36m>[39m
                    [0m•[0m
                  [36m</span>[39m
                  [36m<span>[39m
                    [0mEnsure all pieces are cut accurately[0m
                  [36m</span>[39m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"font-medium mb-2"[39m
              [36m>[39m
                [0mPhoto Requirements[0m
              [36m</h3>[39m
              [36m<ul[39m
                [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
              [36m>[39m
                [36m<li[39m
                  [33mclass[39m=[32m"flex items-start gap-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"10"[39m
                      [33mcy[39m=[32m"12"[39m
                      [33mr[39m=[32m"2"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span>[39m
                    [0mClear photo of fabric layout with patterns[0m
                  [36m</span>[39m
                [36m</li>[39m
                [36m<li[39m
                  [33mclass[39m=[32m"flex items-start gap-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"10"[39m
                      [33mcy[39m=[32m"12"[39m
                      [33mr[39m=[32m"2"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span>[39m
                    [0mCut pieces arranged and labeled[0m
                  [36m</span>[39m
                [36m</li>[39m
                [36m<li[39m
                  [33mclass[39m=[32m"flex items-start gap-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-file-image h-4 w-4 mt-0.5 text-muted-foreground"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"10"[39m
                      [33mcy[39m=[32m"12"[39m
                      [33mr[39m=[32m"2"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span>[39m
                    [0mAny special cutting techniques used[0m
                  [36m</span>[39m
                [36m</li>[39m
              [36m</ul>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
              [36m>[39m
                [0mPhotos ([0m
                [0m2[0m
                [0m required)[0m
                [36m<span[39m
                  [33mclass[39m=[32m"text-red-500"[39m
                [36m>[39m
                  [0m*[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"photo-upload"[39m
              [36m>[39m
                [36m<input[39m
                  [33maccept[39m=[32m"image/*"[39m
                  [33mdata-testid[39m=[32m"photo-input"[39m
                  [33mmultiple[39m=[32m""[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
                [36m<div>[39m
                  [0mMax photos: [0m
                  [0m4[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
              [36m>[39m
                [0mUpload [0m
                [0m2[0m
                [0m to [0m
                [0m4[0m
                [0m photos. Max 5MB per photo. JPEG, PNG, or WebP format.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
                [33mfor[39m=[32m"notes"[39m
              [36m>[39m
                [0mProgress Notes[0m
                [36m<span[39m
                  [33mclass[39m=[32m"text-red-500"[39m
                [36m>[39m
                  [0m*[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<textarea[39m
                [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[100px]"[39m
                [33mid[39m=[32m"notes"[39m
                [33mplaceholder[39m=[32m"Describe your progress, any challenges, and next steps..."[39m
              [36m>[39m
                [0mTest notes[0m
              [36m</textarea>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
              [36m>[39m
                [0mProvide detailed notes about your progress and any relevant information for the customer.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"[39m
              [33mrole[39m=[32m"alert"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-circle-alert h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
                [36m<line[39m
                  [33mx1[39m=[32m"12"[39m
                  [33mx2[39m=[32m"12"[39m
                  [33my1[39m=[32m"8"[39m
                  [33my2[39m=[32m"12"[39m
                [36m/>[39m
                [36m<line[39m
                  [33mx1[39m=[32m"12"[39m
                  [33mx2[39m=[32m"12.01"[39m
                  [33my1[39m=[32m"16"[39m
                  [33my2[39m=[32m"16"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<div[39m
                [33mclass[39m=[32m"text-sm [&_p]:leading-relaxed"[39m
              [36m>[39m
                [36m<ul[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<li>[39m
                    [0m• [0m
                    [0mPlease upload at least 2 photos[0m
                  [36m</li>[39m
                [36m</ul>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8 w-full"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-camera h-4 w-4 mr-2"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"13"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mSubmit Milestone[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
[36m [2m❯[22m tests/unit/components/features/milestones/TailorMilestoneSubmission.test.tsx:[2m389:28[22m[39m
    [90m387| [39m
    [90m388| [39m    [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m389| [39m      [34mexpect[39m(mockOnSubmit)[33m.[39m[34mtoHaveBeenCalled[39m()[33m;[39m
    [90m   | [39m                           [31m^[39m
    [90m390| [39m    })[33m;[39m
    [90m391| [39m
[90m [2m❯[22m runWithExpensiveErrorDiagnosticsDisabled ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m47:12[22m[39m
[90m [2m❯[22m checkCallback ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m124:77[22m[39m
[90m [2m❯[22m Timeout.checkRealTimersCallback ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m118:16[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[306/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/EscrowStatus.test.tsx[2m > [22mEscrowStatus[2m > [22mshould display escrow status data correctly
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: GH₵ 250.00

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm text-gray-600"[39m
[36m>[39m
  [0mGH₵ [0m
  [0m250.00[0m
  [36m<span[39m
    [33mclass[39m=[32m"ml-2 text-green-600"[39m
  [36m>[39m
    [0m✓ Paid[0m
  [36m</span>[39m
[36m</p>[39m

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm text-gray-600"[39m
[36m>[39m
  [0mGH₵ [0m
  [0m250.00[0m
  [36m<span[39m
    [33mclass[39m=[32m"ml-2 text-gray-500"[39m
  [36m>[39m
    [0m• Pending[0m
  [36m</span>[39m
[36m</p>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center space-x-2"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-dollar-sign h-5 w-5"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<line[39m
              [33mx1[39m=[32m"12"[39m
              [33mx2[39m=[32m"12"[39m
              [33my1[39m=[32m"2"[39m
              [33my2[39m=[32m"22"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<span>[39m
            [0mPayment Progress[0m
          [36m</span>[39m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-6 pt-0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between text-sm"[39m
            [36m>[39m
              [36m<span>[39m
                [0mProgress[0m
              [36m</span>[39m
              [36m<span>[39m
                [0m75[0m
                [0m%[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-full bg-gray-200 rounded-full h-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-green-600 h-2 rounded-full transition-all duration-300"[39m
                [33mstyle[39m=[32m"width: 75%;"[39m
              [36m/>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-3"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"font-medium"[39m
            [36m>[39m
              [0mPayment Breakdown[0m
            [36m</h4>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 gap-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between p-3 rounded-lg border bg-green-50 border-green-200"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center space-x-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-shrink-0 text-green-600"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-circle-check-big h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"m9 11 3 3L22 4"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<div>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"font-medium"[39m
                    [36m>[39m
                      [0mDeposit (25%)[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-gray-600"[39m
                    [36m>[39m
                      [0mGH₵ [0m
                      [0m250.00[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"ml-2 text-green-600"[39m
                      [36m>[39m
                        [0m✓ Paid[0m
                      [36m</span>[39m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between p-3 rounded-lg border bg-yellow-50 border-yellow-200"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center space-x-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-shrink-0 text-yellow-600"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-clock h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 6v6l4 2"[39m
                      [36m/>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"12"[39m
                        [33mcy[39m=[32m"12"[39m
                        [33mr[39m=[32m"10"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<div>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"font-medium"[39m
                    [36m>[39m
                      [0mFitting Payment (50%)[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-gray-600"[39m
                    [36m>[39m
                      [0mGH₵ [0m
                      [0m500.00[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"ml-2 text-yellow-600"[39m
                      [36m>[39m
                        [0m• Current[0m
                      [36m</span>[39m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between p-3 rounded-lg border bg-gray-50 border-gray-200"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center space-x-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-shrink-0 text-gray-400"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-clock h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 6v6l4 2"[39m
                      [36m/>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"12"[39m
                        [33mcy[39m=[32m"12"[39m
                        [33mr[39m=[32m"10"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<div>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"font-medium"[39m
                    [36m>[39m
                      [0mFinal Payment (25%)[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-gray-600"[39m
                    [36m>[39m
                      [0mGH₵ [0m
                      [0m250.00[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"ml-2 text-gray-500"[39m
                      [36m>[39m
                        [0m• Pending[0m
                      [36m</span>[39m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 bg-blue-50 rounded-lg"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center space-x-2 mb-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-clock h-4 w-4 text-blue-600"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 6v6l4 2"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-blue-900"[39m
              [36m>[39m
                [0mCurrent Stage[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-blue-800"[39m
            [36m>[39m
              [0mDeposit paid. Tailor will proceed with garment creation and fitting[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-blue-700 mt-2"[39m
            [36m>[39m
              [36m<strong>[39m
                [0mNext:[0m
              [36m</strong>[39m
              [0m [0m
              [0mDelivery confirmation required[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-2 gap-4 text-sm"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-1"[39m
            [36m>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mTotal Amount[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"font-medium"[39m
              [36m>[39m
                [0mGH₵ [0m
                [0m1000.00[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-1"[39m
            [36m>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-gray-600"[39m
              [36m>[39m
                [0mRemaining in Escrow[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"font-medium"[39m
              [36m>[39m
                [0mGH₵ [0m
                [0m750.00[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/EscrowStatus.test.tsx:[2m73:19[22m[39m
    [90m 71| [39m
    [90m 72| [39m    [90m// Check amounts[39m
    [90m 73| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'GH₵ 250.00'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 74| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'GH₵ 500.00'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m 75| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[307/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/EscrowStatus.test.tsx[2m > [22mEscrowStatus[2m > [22mshould not render when orderId is not provided
[31m[1mError[22m: [2mexpect([22m[31melement[31m[2m).not.toBeInTheDocument()[22m

[31mexpected document not to contain element, found <span>
  Loading escrow status...
</span> instead[31m[39m
[36m [2m❯[22m tests/unit/components/features/orders/EscrowStatus.test.tsx:[2m196:64[22m[39m
    [90m194| [39m    [90m// Should not make API call or show loading[39m
    [90m195| [39m    [34mexpect[39m(mockFetch)[33m.[39mnot[33m.[39m[34mtoHaveBeenCalled[39m()[33m;[39m
    [90m196| [39m    [34mexpect[39m(screen[33m.[39m[34mqueryByText[39m([32m'Loading escrow status...'[39m))[33m.[39mnot[33m.[39m[34mtoBeInT[39m…
    [90m   | [39m                                                               [31m^[39m
    [90m197| [39m  })[33m;[39m
    [90m198| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[308/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector[2m > [22mrenders the header and search functionality
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector[2m > [22mdisplays all profiles with correct information
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector[2m > [22mshows measurement completeness correctly
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector[2m > [22mindicates outdated measurements
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector[2m > [22mhandles profile selection
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector[2m > [22mshows selected profile with visual indicator
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector[2m > [22mfilters profiles by search query
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector[2m > [22mshows quick actions when enabled
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector[2m > [22mhandles edit profile action
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector[2m > [22mhandles copy measurements action
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector[2m > [22mshows add new profile option
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector[2m > [22mhandles create new profile action
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector[2m > [22mshows empty state when no profiles match filters
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector[2m > [22mdisplays age information when available
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector[2m > [22mshows gender badges
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector[2m > [22mapplies custom className
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector - Search and Filter[2m > [22mfilters by relationship type
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/FamilyProfileSelector.test.tsx[2m > [22mFamilyProfileSelector - Quick Selection[2m > [22mshows quick selection for multiple profiles
[31m[1mError[22m: useAccessibilityContext must be used within AccessibilityProvider[39m
[36m [2m❯[22m Module.useAccessibilityContext components/ui/AccessibilityProvider.tsx:[2m23:11[22m[39m
    [90m 21| [39m  [35mconst[39m context [33m=[39m [34museContext[39m([33mAccessibilityContext[39m)[33m;[39m
    [90m 22| [39m  [35mif[39m ([33m![39mcontext) {
    [90m 23| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m'useAccessibilityContext must be used within Acces[39m…
    [90m   | [39m          [31m^[39m
    [90m 24| [39m  }
    [90m 25| [39m  [35mreturn[39m context[33m;[39m
[90m [2m❯[22m FamilyProfileSelector components/features/orders/FamilyProfileSelector.tsx:[2m72:43[22m[39m
[90m [2m❯[22m Object.react-stack-bottom-frame ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m23863:20[22m[39m
[90m [2m❯[22m renderWithHooks ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m5529:22[22m[39m
[90m [2m❯[22m updateFunctionComponent ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m8897:19[22m[39m
[90m [2m❯[22m beginWork ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m10522:18[22m[39m
[90m [2m❯[22m runWithFiberInDEV ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m1522:13[22m[39m
[90m [2m❯[22m performUnitOfWork ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m15140:22[22m[39m
[90m [2m❯[22m workLoopSync ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m14956:41[22m[39m
[90m [2m❯[22m renderRootSync ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m14936:11[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[309/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageInput.test.tsx[2m > [22mMessageInput[2m > [22mRendering[2m > [22mshould render attachment button when enabled
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the title: Attach file.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageInput.test.tsx:[2m87:21[22m[39m
    [90m 85| [39m      [34mrender[39m([33m<[39m[33mMessageInput[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33mallowAttachments[39m[33m=[39m[33m{[39m[35mtrue[39m[33m}[39m [33m/[39m…
    [90m 86| [39m      
    [90m 87| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByTitle[39m([32m'Attach file'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m 88| [39m    })[33m;[39m
    [90m 89| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[310/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageInput.test.tsx[2m > [22mMessageInput[2m > [22mRendering[2m > [22mshould render voice message button when enabled
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the title: Record voice message.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"p-3 bg-white border-t"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-end gap-2"[39m
      [36m>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdata-state[39m=[32m"closed"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-paperclip h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdata-state[39m=[32m"closed"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-mic h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M12 19v3"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
            [36m/>[39m
            [36m<rect[39m
              [33mheight[39m=[32m"13"[39m
              [33mrx[39m=[32m"3"[39m
              [33mwidth[39m=[32m"6"[39m
              [33mx[39m=[32m"9"[39m
              [33my[39m=[32m"2"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[39m
            [33mmaxlength[39m=[32m"1000"[39m
            [33mplaceholder[39m=[32m"Type your message..."[39m
            [33mrows[39m=[32m"1"[39m
          [36m/>[39m
        [36m</div>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdisabled[39m=[32m""[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-send h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"m21.854 2.147-10.94 10.939"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
      [36m</div>[39m
      [36m<input[39m
        [33maccept[39m=[32m"image/*,.pdf,.doc,.docx,.txt"[39m
        [33mclass[39m=[32m"hidden"[39m
        [33mmultiple[39m=[32m""[39m
        [33mtype[39m=[32m"file"[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageInput.test.tsx:[2m93:21[22m[39m
    [90m 91| [39m      [34mrender[39m([33m<[39m[33mMessageInput[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33mallowVoiceMessages[39m[33m=[39m[33m{[39m[35mtrue[39m[33m}[39m…
    [90m 92| [39m      
    [90m 93| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByTitle[39m([32m'Record voice message'[39m))[33m.[39m[34mtoBeInTheDocum[39m…
    [90m   | [39m                    [31m^[39m
    [90m 94| [39m    })[33m;[39m
    [90m 95| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[311/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageInput.test.tsx[2m > [22mMessageInput[2m > [22mText Input[2m > [22mshould show character count when near limit
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the text: 17/20. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"20"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
            [33mstyle[31m=[32m"height: 0px;"[31m
          [36m>[31m
            [0mThis is a long msg[0m
          [36m</textarea>[31m
          [36m<span[31m
            [33mclass[31m=[32m"absolute bottom-2 right-12 text-xs text-gray-400"[31m
          [36m>[31m
            [0m18[0m
            [0m/[0m
            [0m20[0m
          [36m</span>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageInput.test.tsx:[2m136:21[22m[39m
    [90m134| [39m      [35mawait[39m user[33m.[39m[34mtype[39m(input[33m,[39m [32m'This is a long msg'[39m)[33m;[39m [90m// 17 characters ([39m…
    [90m135| [39m      
    [90m136| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'17/20'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m137| [39m    })[33m;[39m
    [90m138| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[312/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageInput.test.tsx[2m > [22mMessageInput[2m > [22mMessage Sending[2m > [22mshould send text message when send button clicked
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an accessible element with the role "button" and name `/send/i`

Here are the accessible roles:

  button:

  Name "":
  [36m<button[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
    [33mdata-state[39m=[32m"closed"[39m
  [36m/>[39m

  Name "":
  [36m<button[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[39m
    [33mdisabled[39m=[32m""[39m
  [36m/>[39m

  --------------------------------------------------
  textbox:

  Name "":
  [36m<textarea[39m
    [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[39m
    [33mmaxlength[39m=[32m"1000"[39m
    [33mplaceholder[39m=[32m"Type your message..."[39m
    [33mrows[39m=[32m"1"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"p-3 bg-white border-t"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-end gap-2"[39m
      [36m>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdata-state[39m=[32m"closed"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-paperclip h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[39m
            [33mmaxlength[39m=[32m"1000"[39m
            [33mplaceholder[39m=[32m"Type your message..."[39m
            [33mrows[39m=[32m"1"[39m
          [36m/>[39m
        [36m</div>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdisabled[39m=[32m""[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-send h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"m21.854 2.147-10.94 10.939"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
      [36m</div>[39m
      [36m<input[39m
        [33maccept[39m=[32m"image/*,.pdf,.doc,.docx,.txt"[39m
        [33mclass[39m=[32m"hidden"[39m
        [33mmultiple[39m=[32m""[39m
        [33mtype[39m=[32m"file"[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageInput.test.tsx:[2m171:33[22m[39m
    [90m169| [39m      
    [90m170| [39m      [35mconst[39m input [33m=[39m screen[33m.[39m[34mgetByPlaceholderText[39m([32m'Type your message...'[39m…
    [90m171| [39m      [35mconst[39m sendButton [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'button'[39m[33m,[39m { name[33m:[39m [36m/send/i[39m })[33m;[39m
    [90m   | [39m                                [31m^[39m
    [90m172| [39m      
    [90m173| [39m      [35mawait[39m user[33m.[39m[34mtype[39m(input[33m,[39m [32m'Hello tailor'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[313/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageInput.test.tsx[2m > [22mMessageInput[2m > [22mMessage Sending[2m > [22mshould clear input after sending
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an accessible element with the role "button" and name `/send/i`

Here are the accessible roles:

  button:

  Name "":
  [36m<button[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
    [33mdata-state[39m=[32m"closed"[39m
  [36m/>[39m

  Name "":
  [36m<button[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[39m
  [36m/>[39m

  --------------------------------------------------
  textbox:

  Name "":
  [36m<textarea[39m
    [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[39m
    [33mmaxlength[39m=[32m"1000"[39m
    [33mplaceholder[39m=[32m"Type your message..."[39m
    [33mrows[39m=[32m"1"[39m
    [33mstyle[39m=[32m"height: 0px;"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"p-3 bg-white border-t"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-end gap-2"[39m
      [36m>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdata-state[39m=[32m"closed"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-paperclip h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[39m
            [33mmaxlength[39m=[32m"1000"[39m
            [33mplaceholder[39m=[32m"Type your message..."[39m
            [33mrows[39m=[32m"1"[39m
            [33mstyle[39m=[32m"height: 0px;"[39m
          [36m>[39m
            [0mTest message[0m
          [36m</textarea>[39m
        [36m</div>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-send h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"m21.854 2.147-10.94 10.939"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
      [36m</div>[39m
      [36m<input[39m
        [33maccept[39m=[32m"image/*,.pdf,.doc,.docx,.txt"[39m
        [33mclass[39m=[32m"hidden"[39m
        [33mmultiple[39m=[32m""[39m
        [33mtype[39m=[32m"file"[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageInput.test.tsx:[2m198:31[22m[39m
    [90m196| [39m      [35mconst[39m input [33m=[39m screen[33m.[39m[34mgetByPlaceholderText[39m([32m'Type your message...'[39m…
    [90m197| [39m      [35mawait[39m user[33m.[39m[34mtype[39m(input[33m,[39m [32m'Test message'[39m)[33m;[39m
    [90m198| [39m      [35mawait[39m user[33m.[39m[34mclick[39m(screen[33m.[39m[34mgetByRole[39m([32m'button'[39m[33m,[39m { name[33m:[39m [36m/send/i[39m }))[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m199| [39m      
    [90m200| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[314/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageInput.test.tsx[2m > [22mMessageInput[2m > [22mFile Attachments[2m > [22mshould handle file selection
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the title: Attach file.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageInput.test.tsx:[2m220:28[22m[39m
    [90m218| [39m      
    [90m219| [39m      [35mconst[39m file [33m=[39m [35mnew[39m [33mFile[39m([[32m'test'[39m][33m,[39m [32m'test.jpg'[39m[33m,[39m { type[33m:[39m [32m'image/jpeg'[39m…
    [90m220| [39m      [35mconst[39m input [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Attach file'[39m)[33m.[39mparentElement[33m?.[39m[34mqu[39m…
    [90m   | [39m                           [31m^[39m
    [90m221| [39m      
    [90m222| [39m      [35mif[39m (input) {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[315/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageInput.test.tsx[2m > [22mMessageInput[2m > [22mFile Attachments[2m > [22mshould validate file size
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the title: Attach file.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageInput.test.tsx:[2m237:28[22m[39m
    [90m235| [39m      [90m// Create a file larger than 10MB[39m
    [90m236| [39m      [35mconst[39m largeFile [33m=[39m [35mnew[39m [33mFile[39m([[32m'x'[39m[33m.[39m[34mrepeat[39m([34m11[39m [33m*[39m [34m1024[39m [33m*[39m [34m1024[39m)][33m,[39m [32m'larg[39m…
    [90m237| [39m      [35mconst[39m input [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Attach file'[39m)[33m.[39mparentElement[33m?.[39m[34mqu[39m…
    [90m   | [39m                           [31m^[39m
    [90m238| [39m      
    [90m239| [39m      [35mif[39m (input) {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[316/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageInput.test.tsx[2m > [22mMessageInput[2m > [22mFile Attachments[2m > [22mshould validate file type
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the title: Attach file.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageInput.test.tsx:[2m253:28[22m[39m
    [90m251| [39m      
    [90m252| [39m      [35mconst[39m invalidFile [33m=[39m [35mnew[39m [33mFile[39m([[32m'test'[39m][33m,[39m [32m'test.exe'[39m[33m,[39m { type[33m:[39m [32m'appl[39m…
    [90m253| [39m      [35mconst[39m input [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Attach file'[39m)[33m.[39mparentElement[33m?.[39m[34mqu[39m…
    [90m   | [39m                           [31m^[39m
    [90m254| [39m      
    [90m255| [39m      [35mif[39m (input) {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[317/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageInput.test.tsx[2m > [22mMessageInput[2m > [22mFile Attachments[2m > [22mshould remove attachment
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the title: Attach file.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageInput.test.tsx:[2m269:28[22m[39m
    [90m267| [39m      
    [90m268| [39m      [35mconst[39m file [33m=[39m [35mnew[39m [33mFile[39m([[32m'test'[39m][33m,[39m [32m'test.jpg'[39m[33m,[39m { type[33m:[39m [32m'image/jpeg'[39m…
    [90m269| [39m      [35mconst[39m input [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Attach file'[39m)[33m.[39mparentElement[33m?.[39m[34mqu[39m…
    [90m   | [39m                           [31m^[39m
    [90m270| [39m      
    [90m271| [39m      [35mif[39m (input) {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[318/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageInput.test.tsx[2m > [22mMessageInput[2m > [22mFile Attachments[2m > [22mshould upload file and send message
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the title: Attach file.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageInput.test.tsx:[2m293:32[22m[39m
    [90m291| [39m      
    [90m292| [39m      [35mconst[39m file [33m=[39m [35mnew[39m [33mFile[39m([[32m'test'[39m][33m,[39m [32m'test.jpg'[39m[33m,[39m { type[33m:[39m [32m'image/jpeg'[39m…
    [90m293| [39m      [35mconst[39m fileInput [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Attach file'[39m)[33m.[39mparentElement…
    [90m   | [39m                               [31m^[39m
    [90m294| [39m      
    [90m295| [39m      [35mif[39m (fileInput) {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[319/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageInput.test.tsx[2m > [22mMessageInput[2m > [22mVoice Messages[2m > [22mshould start voice recording
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the title: Record voice message.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"p-3 bg-white border-t"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-end gap-2"[39m
      [36m>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdata-state[39m=[32m"closed"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-paperclip h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdata-state[39m=[32m"closed"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-mic h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M12 19v3"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
            [36m/>[39m
            [36m<rect[39m
              [33mheight[39m=[32m"13"[39m
              [33mrx[39m=[32m"3"[39m
              [33mwidth[39m=[32m"6"[39m
              [33mx[39m=[32m"9"[39m
              [33my[39m=[32m"2"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[39m
            [33mmaxlength[39m=[32m"1000"[39m
            [33mplaceholder[39m=[32m"Type your message..."[39m
            [33mrows[39m=[32m"1"[39m
          [36m/>[39m
        [36m</div>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdisabled[39m=[32m""[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-send h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"m21.854 2.147-10.94 10.939"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
      [36m</div>[39m
      [36m<input[39m
        [33maccept[39m=[32m"image/*,.pdf,.doc,.docx,.txt"[39m
        [33mclass[39m=[32m"hidden"[39m
        [33mmultiple[39m=[32m""[39m
        [33mtype[39m=[32m"file"[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageInput.test.tsx:[2m327:35[22m[39m
    [90m325| [39m      [34mrender[39m([33m<[39m[33mMessageInput[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33mallowVoiceMessages[39m[33m=[39m[33m{[39m[35mtrue[39m[33m}[39m…
    [90m326| [39m      
    [90m327| [39m      [35mconst[39m recordButton [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Record voice message'[39m)[33m;[39m
    [90m   | [39m                                  [31m^[39m
    [90m328| [39m      [35mawait[39m user[33m.[39m[34mclick[39m(recordButton)[33m;[39m
    [90m329| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[320/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageInput.test.tsx[2m > [22mMessageInput[2m > [22mVoice Messages[2m > [22mshould stop voice recording
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the title: Record voice message.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"p-3 bg-white border-t"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-end gap-2"[39m
      [36m>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdata-state[39m=[32m"closed"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-paperclip h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdata-state[39m=[32m"closed"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-mic h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M12 19v3"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
            [36m/>[39m
            [36m<rect[39m
              [33mheight[39m=[32m"13"[39m
              [33mrx[39m=[32m"3"[39m
              [33mwidth[39m=[32m"6"[39m
              [33mx[39m=[32m"9"[39m
              [33my[39m=[32m"2"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[39m
            [33mmaxlength[39m=[32m"1000"[39m
            [33mplaceholder[39m=[32m"Type your message..."[39m
            [33mrows[39m=[32m"1"[39m
          [36m/>[39m
        [36m</div>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdisabled[39m=[32m""[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-send h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"m21.854 2.147-10.94 10.939"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
      [36m</div>[39m
      [36m<input[39m
        [33maccept[39m=[32m"image/*,.pdf,.doc,.docx,.txt"[39m
        [33mclass[39m=[32m"hidden"[39m
        [33mmultiple[39m=[32m""[39m
        [33mtype[39m=[32m"file"[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageInput.test.tsx:[2m341:35[22m[39m
    [90m339| [39m      
    [90m340| [39m      [90m// Start recording[39m
    [90m341| [39m      [35mconst[39m recordButton [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Record voice message'[39m)[33m;[39m
    [90m   | [39m                                  [31m^[39m
    [90m342| [39m      [35mawait[39m user[33m.[39m[34mclick[39m(recordButton)[33m;[39m
    [90m343| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[321/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageInput.test.tsx[2m > [22mMessageInput[2m > [22mVoice Messages[2m > [22mshould cancel voice recording
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the title: Record voice message.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"p-3 bg-white border-t"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-end gap-2"[39m
      [36m>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdata-state[39m=[32m"closed"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-paperclip h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdata-state[39m=[32m"closed"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-mic h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M12 19v3"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
            [36m/>[39m
            [36m<rect[39m
              [33mheight[39m=[32m"13"[39m
              [33mrx[39m=[32m"3"[39m
              [33mwidth[39m=[32m"6"[39m
              [33mx[39m=[32m"9"[39m
              [33my[39m=[32m"2"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[39m
            [33mmaxlength[39m=[32m"1000"[39m
            [33mplaceholder[39m=[32m"Type your message..."[39m
            [33mrows[39m=[32m"1"[39m
          [36m/>[39m
        [36m</div>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdisabled[39m=[32m""[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-send h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"m21.854 2.147-10.94 10.939"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
      [36m</div>[39m
      [36m<input[39m
        [33maccept[39m=[32m"image/*,.pdf,.doc,.docx,.txt"[39m
        [33mclass[39m=[32m"hidden"[39m
        [33mmultiple[39m=[32m""[39m
        [33mtype[39m=[32m"file"[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageInput.test.tsx:[2m360:35[22m[39m
    [90m358| [39m      
    [90m359| [39m      [90m// Start recording[39m
    [90m360| [39m      [35mconst[39m recordButton [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Record voice message'[39m)[33m;[39m
    [90m   | [39m                                  [31m^[39m
    [90m361| [39m      [35mawait[39m user[33m.[39m[34mclick[39m(recordButton)[33m;[39m
    [90m362| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[322/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageInput.test.tsx[2m > [22mMessageInput[2m > [22mVoice Messages[2m > [22mshould handle microphone access error
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the title: Record voice message.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"p-3 bg-white border-t"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-end gap-2"[39m
      [36m>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdata-state[39m=[32m"closed"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-paperclip h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdata-state[39m=[32m"closed"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-mic h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M12 19v3"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
            [36m/>[39m
            [36m<rect[39m
              [33mheight[39m=[32m"13"[39m
              [33mrx[39m=[32m"3"[39m
              [33mwidth[39m=[32m"6"[39m
              [33mx[39m=[32m"9"[39m
              [33my[39m=[32m"2"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33mclass[39m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[39m
            [33mmaxlength[39m=[32m"1000"[39m
            [33mplaceholder[39m=[32m"Type your message..."[39m
            [33mrows[39m=[32m"1"[39m
          [36m/>[39m
        [36m</div>[39m
        [36m<button[39m
          [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[39m
          [33mdisabled[39m=[32m""[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-send h-4 w-4"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"m21.854 2.147-10.94 10.939"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
      [36m</div>[39m
      [36m<input[39m
        [33maccept[39m=[32m"image/*,.pdf,.doc,.docx,.txt"[39m
        [33mclass[39m=[32m"hidden"[39m
        [33mmultiple[39m=[32m""[39m
        [33mtype[39m=[32m"file"[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageInput.test.tsx:[2m382:35[22m[39m
    [90m380| [39m      [34mrender[39m([33m<[39m[33mMessageInput[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33mallowVoiceMessages[39m[33m=[39m[33m{[39m[35mtrue[39m[33m}[39m…
    [90m381| [39m      
    [90m382| [39m      [35mconst[39m recordButton [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Record voice message'[39m)[33m;[39m
    [90m   | [39m                                  [31m^[39m
    [90m383| [39m      [35mawait[39m user[33m.[39m[34mclick[39m(recordButton)[33m;[39m
    [90m384| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[323/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageInput.test.tsx[2m > [22mMessageInput[2m > [22mError Handling[2m > [22mshould display file upload errors
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the title: Attach file.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"p-3 bg-white border-t"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"flex items-end gap-2"[31m
      [36m>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdata-state[31m=[32m"closed"[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-paperclip h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
        [36m<div[31m
          [33mclass[31m=[32m"flex-1 relative"[31m
        [36m>[31m
          [36m<textarea[31m
            [33mclass[31m=[32m"flex w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 min-h-[40px] max-h-[120px] resize-none pr-12"[31m
            [33mmaxlength[31m=[32m"1000"[31m
            [33mplaceholder[31m=[32m"Type your message..."[31m
            [33mrows[31m=[32m"1"[31m
          [36m/>[31m
        [36m</div>[31m
        [36m<button[31m
          [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md text-xs h-8 w-8 p-0"[31m
          [33mdisabled[31m=[32m""[31m
        [36m>[31m
          [36m<svg[31m
            [33maria-hidden[31m=[32m"true"[31m
            [33mclass[31m=[32m"lucide lucide-send h-4 w-4"[31m
            [33mfill[31m=[32m"none"[31m
            [33mheight[31m=[32m"24"[31m
            [33mstroke[31m=[32m"currentColor"[31m
            [33mstroke-linecap[31m=[32m"round"[31m
            [33mstroke-linejoin[31m=[32m"round"[31m
            [33mstroke-width[31m=[32m"2"[31m
            [33mviewBox[31m=[32m"0 0 24 24"[31m
            [33mwidth[31m=[32m"24"[31m
            [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
          [36m>[31m
            [36m<path[31m
              [33md[31m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[31m
            [36m/>[31m
            [36m<path[31m
              [33md[31m=[32m"m21.854 2.147-10.94 10.939"[31m
            [36m/>[31m
          [36m</svg>[31m
        [36m</button>[31m
      [36m</div>[31m
      [36m<input[31m
        [33maccept[31m=[32m"image/*,.pdf,.doc,.docx,.txt"[31m
        [33mclass[31m=[32m"hidden"[31m
        [33mmultiple[31m=[32m""[31m
        [33mtype[31m=[32m"file"[31m
      [36m/>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageInput.test.tsx:[2m399:32[22m[39m
    [90m397| [39m      
    [90m398| [39m      [35mconst[39m file [33m=[39m [35mnew[39m [33mFile[39m([[32m'test'[39m][33m,[39m [32m'test.jpg'[39m[33m,[39m { type[33m:[39m [32m'image/jpeg'[39m…
    [90m399| [39m      [35mconst[39m fileInput [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Attach file'[39m)[33m.[39mparentElement…
    [90m   | [39m                               [31m^[39m
    [90m400| [39m      
    [90m401| [39m      [35mif[39m (fileInput) {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[324/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mRendering[2m > [22mshould render messages
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mRendering[2m > [22mshould show connection status when disconnected
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mMessage Grouping[2m > [22mshould group messages by date
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mMessage Grouping[2m > [22mshould show "Today" for today's messages
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mMessage Grouping[2m > [22mshould show avatars for message groups
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mMessage Types[2m > [22mshould render text messages correctly
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mMessage Types[2m > [22mshould render image messages
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mMessage Types[2m > [22mshould handle image load error
[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mMessage Types[2m > [22mshould render document messages
[31m[1mRangeError[22m: Invalid time value[39m
[90m [2m❯[22m Module.format ../../node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/format.js:[2m350:11[22m[39m
[36m [2m❯[22m formatDateHeader components/features/orders/MessageList.tsx:[2m85:12[22m[39m
    [90m 83| [39m    [35mreturn[39m [32m'Yesterday'[39m[33m;[39m
    [90m 84| [39m  } [35melse[39m {
    [90m 85| [39m    [35mreturn[39m [34mformat[39m(date[33m,[39m [32m'MMMM d, yyyy'[39m)[33m;[39m
    [90m   | [39m           [31m^[39m
    [90m 86| [39m  }
    [90m 87| [39m}[33m;[39m
[90m [2m❯[22m components/features/orders/MessageList.tsx:[2m429:27[22m[39m
[90m [2m❯[22m components/features/orders/MessageList.tsx:[2m428:14[22m[39m
[90m [2m❯[22m mountMemo ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m6603:23[22m[39m
[90m [2m❯[22m Object.useMemo ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m22924:18[22m[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.useMemo ../../node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:[2m1209:34[22m[39m
[90m [2m❯[22m MessageList components/features/orders/MessageList.tsx:[2m414:33[22m[39m
[90m [2m❯[22m Object.react-stack-bottom-frame ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m23863:20[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[325/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mMessage Types[2m > [22mshould handle document download
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageList.test.tsx:[2m239:7[22m[39m
    [90m237| [39m      [35mconst[39m removeChildSpy [33m=[39m vi[33m.[39m[34mspyOn[39m(document[33m.[39mbody[33m,[39m [32m'removeChild'[39m)[33m.[39m[34mmo[39m…
    [90m238| [39m      
    [90m239| [39m      [34mrender[39m([33m<[39m[33mMessageList[39m 
    [90m   | [39m      [31m^[39m
    [90m240| [39m        [33mmessages[39m[33m=[39m[33m{[39m[mockMessages[[34m3[39m]][33m}[39m
    [90m241| [39m        [33mcurrentUserId[39m[33m=[39m[33m{[39mcurrentUserId[33m}[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[326/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mMessage Types[2m > [22mshould render voice messages
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageList.test.tsx:[2m254:7[22m[39m
    [90m252| [39m
    [90m253| [39m    [34mit[39m([32m'should render voice messages'[39m[33m,[39m () [33m=>[39m {
    [90m254| [39m      [34mrender[39m([33m<[39m[33mMessageList[39m 
    [90m   | [39m      [31m^[39m
    [90m255| [39m        [33mmessages[39m[33m=[39m[33m{[39m[mockMessages[[34m4[39m]][33m}[39m
    [90m256| [39m        [33mcurrentUserId[39m[33m=[39m[33m{[39mcurrentUserId[33m}[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[327/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mMessage Types[2m > [22mshould handle voice message play toggle
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageList.test.tsx:[2m265:7[22m[39m
    [90m263| [39m    [34mit[39m([32m'should handle voice message play toggle'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m264| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m()[33m;[39m
    [90m265| [39m      [34mrender[39m([33m<[39m[33mMessageList[39m 
    [90m   | [39m      [31m^[39m
    [90m266| [39m        [33mmessages[39m[33m=[39m[33m{[39m[mockMessages[[34m4[39m]][33m}[39m
    [90m267| [39m        [33mcurrentUserId[39m[33m=[39m[33m{[39mcurrentUserId[33m}[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[328/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mMessage Status[2m > [22mshould show read status for own messages
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageList.test.tsx:[2m285:7[22m[39m
    [90m283| [39m      }[33m;[39m
    [90m284| [39m
    [90m285| [39m      [34mrender[39m([33m<[39m[33mMessageList[39m 
    [90m   | [39m      [31m^[39m
    [90m286| [39m        [33mmessages[39m[33m=[39m[33m{[39m[ownMessage][33m}[39m
    [90m287| [39m        [33mcurrentUserId[39m[33m=[39m[33m{[39mcurrentUserId[33m}[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[329/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mMessage Status[2m > [22mshould show unread status for own messages
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageList.test.tsx:[2m301:7[22m[39m
    [90m299| [39m      }[33m;[39m
    [90m300| [39m
    [90m301| [39m      [34mrender[39m([33m<[39m[33mMessageList[39m 
    [90m   | [39m      [31m^[39m
    [90m302| [39m        [33mmessages[39m[33m=[39m[33m{[39m[unreadMessage][33m}[39m
    [90m303| [39m        [33mcurrentUserId[39m[33m=[39m[33m{[39mcurrentUserId[33m}[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[330/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mTyping Indicators[2m > [22mshould show typing indicator
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageList.test.tsx:[2m317:7[22m[39m
    [90m315| [39m      ][33m;[39m
    [90m316| [39m
    [90m317| [39m      [34mrender[39m([33m<[39m[33mMessageList[39m 
    [90m   | [39m      [31m^[39m
    [90m318| [39m        [33mmessages[39m[33m=[39m[33m{[39mmockMessages[33m}[39m
    [90m319| [39m        [33mcurrentUserId[39m[33m=[39m[33m{[39mcurrentUserId[33m}[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[331/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mTyping Indicators[2m > [22mshould show multiple users typing
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageList.test.tsx:[2m332:7[22m[39m
    [90m330| [39m      ][33m;[39m
    [90m331| [39m
    [90m332| [39m      [34mrender[39m([33m<[39m[33mMessageList[39m 
    [90m   | [39m      [31m^[39m
    [90m333| [39m        [33mmessages[39m[33m=[39m[33m{[39mmockMessages[33m}[39m
    [90m334| [39m        [33mcurrentUserId[39m[33m=[39m[33m{[39mcurrentUserId[33m}[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[332/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mTyping Indicators[2m > [22mshould not show typing indicator when no users typing
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageList.test.tsx:[2m342:7[22m[39m
    [90m340| [39m
    [90m341| [39m    [34mit[39m([32m'should not show typing indicator when no users typing'[39m[33m,[39m () [33m=>[39m {
    [90m342| [39m      [34mrender[39m([33m<[39m[33mMessageList[39m 
    [90m   | [39m      [31m^[39m
    [90m343| [39m        [33mmessages[39m[33m=[39m[33m{[39mmockMessages[33m}[39m
    [90m344| [39m        [33mcurrentUserId[39m[33m=[39m[33m{[39mcurrentUserId[33m}[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[333/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mMessage Styling[2m > [22mshould apply correct styling for own messages
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageList.test.tsx:[2m354:7[22m[39m
    [90m352| [39m  [34mdescribe[39m([32m'Message Styling'[39m[33m,[39m () [33m=>[39m {
    [90m353| [39m    [34mit[39m([32m'should apply correct styling for own messages'[39m[33m,[39m () [33m=>[39m {
    [90m354| [39m      [34mrender[39m([33m<[39m[33mMessageList[39m 
    [90m   | [39m      [31m^[39m
    [90m355| [39m        [33mmessages[39m[33m=[39m[33m{[39m[mockMessages[[34m1[39m]][33m}[39m [90m// Own message[39m
    [90m356| [39m        [33mcurrentUserId[39m[33m=[39m[33m{[39mcurrentUserId[33m}[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[334/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mMessage Styling[2m > [22mshould apply correct styling for other messages
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageList.test.tsx:[2m367:7[22m[39m
    [90m365| [39m
    [90m366| [39m    [34mit[39m([32m'should apply correct styling for other messages'[39m[33m,[39m () [33m=>[39m {
    [90m367| [39m      [34mrender[39m([33m<[39m[33mMessageList[39m 
    [90m   | [39m      [31m^[39m
    [90m368| [39m        [33mmessages[39m[33m=[39m[33m{[39m[mockMessages[[34m0[39m]][33m}[39m [90m// Tailor message[39m
    [90m369| [39m        [33mcurrentUserId[39m[33m=[39m[33m{[39mcurrentUserId[33m}[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[335/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mTimestamps[2m > [22mshould show timestamps for messages
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageList.test.tsx:[2m382:7[22m[39m
    [90m380| [39m  [34mdescribe[39m([32m'Timestamps'[39m[33m,[39m () [33m=>[39m {
    [90m381| [39m    [34mit[39m([32m'should show timestamps for messages'[39m[33m,[39m () [33m=>[39m {
    [90m382| [39m      [34mrender[39m([33m<[39m[33mMessageList[39m 
    [90m   | [39m      [31m^[39m
    [90m383| [39m        [33mmessages[39m[33m=[39m[33m{[39mmockMessages[33m.[39m[34mslice[39m([34m0[39m[33m,[39m [34m1[39m)[33m}[39m
    [90m384| [39m        [33mcurrentUserId[39m[33m=[39m[33m{[39mcurrentUserId[33m}[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[336/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mTimestamps[2m > [22mshould format different date formats correctly
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageList.test.tsx:[2m400:7[22m[39m
    [90m398| [39m      }[33m;[39m
    [90m399| [39m
    [90m400| [39m      [34mrender[39m([33m<[39m[33mMessageList[39m 
    [90m   | [39m      [31m^[39m
    [90m401| [39m        [33mmessages[39m[33m=[39m[33m{[39m[yesterdayMessage][33m}[39m
    [90m402| [39m        [33mcurrentUserId[39m[33m=[39m[33m{[39mcurrentUserId[33m}[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[337/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mAccessibility[2m > [22mshould have proper ARIA attributes
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageList.test.tsx:[2m412:7[22m[39m
    [90m410| [39m  [34mdescribe[39m([32m'Accessibility'[39m[33m,[39m () [33m=>[39m {
    [90m411| [39m    [34mit[39m([32m'should have proper ARIA attributes'[39m[33m,[39m () [33m=>[39m {
    [90m412| [39m      [34mrender[39m([33m<[39m[33mMessageList[39m 
    [90m   | [39m      [31m^[39m
    [90m413| [39m        [33mmessages[39m[33m=[39m[33m{[39mmockMessages[33m}[39m
    [90m414| [39m        [33mcurrentUserId[39m[33m=[39m[33m{[39mcurrentUserId[33m}[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[338/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MessageList.test.tsx[2m > [22mMessageList[2m > [22mAccessibility[2m > [22mshould support keyboard navigation
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MessageList.test.tsx:[2m422:7[22m[39m
    [90m420| [39m
    [90m421| [39m    [34mit[39m([32m'should support keyboard navigation'[39m[33m,[39m () [33m=>[39m {
    [90m422| [39m      [34mrender[39m([33m<[39m[33mMessageList[39m 
    [90m   | [39m      [31m^[39m
    [90m423| [39m        [33mmessages[39m[33m=[39m[33m{[39mmockMessages[33m}[39m
    [90m424| [39m        [33mcurrentUserId[39m[33m=[39m[33m{[39mcurrentUserId[33m}[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[339/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx[2m > [22mMilestonePhotoGallery[2m > [22mInteractivity[2m > [22mshould open modal when photo is clicked and interactive=true
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: Beautiful kente fabric selected. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"opacity: 0; position: fixed; pointer-events: none; outline-color: none; outline-style: none; outline-width: initial;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-4"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto"[39m
        [33mstyle[39m=[32m"max-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[39m
          [33mdata-photo-container[39m=[32m"true"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[39m
          [36m/>[39m
          [36m<img[39m
            [33malt[39m=[32m"Fabric Selected photo"[39m
            [33mclass[39m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[39m
            [33msrc[39m=[32m"https://example.com/fabric.jpg"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute bottom-0 left-0 right-0 p-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-lg"[39m
                  [36m>[39m
                    [0m🧵[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-white"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-medium truncate"[39m
                    [36m>[39m
                      [0mFabric Selected[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-xs opacity-75"[39m
                    [36m>[39m
                      [0m1/15/2024[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 text-xs"[39m
                [36m>[39m
                  [0mAPPROVED[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-zoom-in h-8 w-8 text-white"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"11"[39m
                [33mcy[39m=[32m"11"[39m
                [33mr[39m=[32m"8"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"21"[39m
                [33mx2[39m=[32m"16.65"[39m
                [33my1[39m=[32m"21"[39m
                [33my2[39m=[32m"16.65"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"11"[39m
                [33mx2[39m=[32m"11"[39m
                [33my1[39m=[32m"8"[39m
                [33my2[39m=[32m"14"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"8"[39m
                [33mx2[39m=[32m"14"[39m
                [33my1[39m=[32m"11"[39m
                [33my2[39m=[32m"11"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[39m
          [33mdata-photo-container[39m=[32m"true"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[39m
          [36m/>[39m
          [36m<img[39m
            [33malt[39m=[32m"Cutting Started photo"[39m
            [33mclass[39m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[39m
            [33msrc[39m=[32m"https://example.com/cutting.jpg"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute bottom-0 left-0 right-0 p-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-lg"[39m
                  [36m>[39m
                    [0m✂️[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-white"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-medium truncate"[39m
                    [36m>[39m
 ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body[39m
    [33mdata-scroll-locked[39m=[32m"1"[39m
    [33mstyle[39m=[32m"pointer-events: none;"[39m
  [36m>[39m
    [36m<span[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
      [33mdata-radix-focus-guard[39m=[32m""[39m
      [33mstyle[39m=[32m"opacity: 0; position: fixed; pointer-events: none; outline-color: none; outline-style: none; outline-width: initial;"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m/>[39m
    [36m<div[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto"[39m
          [33mstyle[39m=[32m"max-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[39m
            [33mdata-photo-container[39m=[32m"true"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[39m
            [36m/>[39m
            [36m<img[39m
              [33malt[39m=[32m"Fabric Selected photo"[39m
              [33mclass[39m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[39m
              [33msrc[39m=[32m"https://example.com/fabric.jpg"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute bottom-0 left-0 right-0 p-3"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-2"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-lg"[39m
                    [36m>[39m
                      [0m🧵[0m
                    [36m</span>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"text-white"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm font-medium truncate"[39m
                      [36m>[39m
                        [0mFabric Selected[0m
                      [36m</p>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-xs opacity-75"[39m
                      [36m>[39m
                        [0m1/15/2024[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 text-xs"[39m
                  [36m>[39m
                    [0mAPPROVED[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-zoom-in h-8 w-8 text-white"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"11"[39m
                  [33mcy[39m=[32m"11"[39m
                  [33mr[39m=[32m"8"[39m
                [36m/>[39m
                [36m<line[39m
                  [33mx1[39m=[32m"21"[39m
                  [33mx2[39m=[32m"16.65"[39m
                  [33my1[39m=[32m"21"[39m
                  [33my2[39m=[32m"16.65"[39m
                [36m/>[39m
                [36m<line[39m
                  [33mx1[39m=[32m"11"[39m
                  [33mx2[39m=[32m"11"[39m
                  [33my1[39m=[32m"8"[39m
                  [33my2[39m=[32m"14"[39m
                [36m/>[39m
                [36m<line[39m
                  [33mx1[39m=[32m"8"[39m
                  [33mx2[39m=[32m"14"[39m
                  [33my1[39m=[32m"11"[39m
                  [33my2[39m=[32m"11"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[39m
            [33mdata-photo-container[39m=[32m"true"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[39m
            [36m/>[39m
            [36m<img[39m
              [33malt[39m=[32m"Cutting Started photo"[39m
              [33mclass[39m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[39m
              [33msrc[39m=[32m"https://example.com/cutting.jpg"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute bottom-0 left-0 right-0 p-3"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-2"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-lg"[39m
                    [36m>[39m
          ...
[90m [2m❯[22m Proxy.waitForWrapper ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx:[2m150:13[22m[39m
    [90m148| [39m      
    [90m149| [39m      [90m// Modal should open with photo details[39m
    [90m150| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m            [31m^[39m
    [90m151| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByRole[39m([32m'dialog'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m152| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Beautiful kente fabric selected'[39m))[33m.[39m[34mto[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[340/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx[2m > [22mMilestonePhotoGallery[2m > [22mPhoto Modal[2m > [22mshould navigate between photos using modal controls
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: Precise cutting in progress. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"opacity: 0; position: fixed; pointer-events: none; outline-color: none; outline-style: none; outline-width: initial;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-4"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto"[39m
        [33mstyle[39m=[32m"max-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[39m
          [33mdata-photo-container[39m=[32m"true"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[39m
          [36m/>[39m
          [36m<img[39m
            [33malt[39m=[32m"Fabric Selected photo"[39m
            [33mclass[39m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[39m
            [33msrc[39m=[32m"https://example.com/fabric.jpg"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute bottom-0 left-0 right-0 p-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-lg"[39m
                  [36m>[39m
                    [0m🧵[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-white"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-medium truncate"[39m
                    [36m>[39m
                      [0mFabric Selected[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-xs opacity-75"[39m
                    [36m>[39m
                      [0m1/15/2024[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 text-xs"[39m
                [36m>[39m
                  [0mAPPROVED[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-zoom-in h-8 w-8 text-white"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"11"[39m
                [33mcy[39m=[32m"11"[39m
                [33mr[39m=[32m"8"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"21"[39m
                [33mx2[39m=[32m"16.65"[39m
                [33my1[39m=[32m"21"[39m
                [33my2[39m=[32m"16.65"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"11"[39m
                [33mx2[39m=[32m"11"[39m
                [33my1[39m=[32m"8"[39m
                [33my2[39m=[32m"14"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"8"[39m
                [33mx2[39m=[32m"14"[39m
                [33my1[39m=[32m"11"[39m
                [33my2[39m=[32m"11"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[39m
          [33mdata-photo-container[39m=[32m"true"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[39m
          [36m/>[39m
          [36m<img[39m
            [33malt[39m=[32m"Cutting Started photo"[39m
            [33mclass[39m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[39m
            [33msrc[39m=[32m"https://example.com/cutting.jpg"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute bottom-0 left-0 right-0 p-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-lg"[39m
                  [36m>[39m
                    [0m✂️[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-white"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-medium truncate"[39m
                    [36m>[39m
 ...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx:[2m204:21[22m[39m
    [90m202| [39m      
    [90m203| [39m      [90m// Should show second photo details[39m
    [90m204| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Precise cutting in progress'[39m))[33m.[39m[34mtoBeInTh[39m…
    [90m   | [39m                    [31m^[39m
    [90m205| [39m    })[33m;[39m
    [90m206| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[341/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx[2m > [22mMilestonePhotoGallery[2m > [22mPhoto Modal[2m > [22mshould close modal when close button is clicked
[31m[1mTestingLibraryElementError[22m[39m: Unable to find a label with the text of: Close

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"opacity: 0; position: fixed; pointer-events: none; outline-color: none; outline-style: none; outline-width: initial;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-4"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto"[39m
        [33mstyle[39m=[32m"max-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[39m
          [33mdata-photo-container[39m=[32m"true"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[39m
          [36m/>[39m
          [36m<img[39m
            [33malt[39m=[32m"Fabric Selected photo"[39m
            [33mclass[39m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[39m
            [33msrc[39m=[32m"https://example.com/fabric.jpg"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute bottom-0 left-0 right-0 p-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-lg"[39m
                  [36m>[39m
                    [0m🧵[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-white"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-medium truncate"[39m
                    [36m>[39m
                      [0mFabric Selected[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-xs opacity-75"[39m
                    [36m>[39m
                      [0m1/15/2024[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 text-xs"[39m
                [36m>[39m
                  [0mAPPROVED[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-zoom-in h-8 w-8 text-white"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"11"[39m
                [33mcy[39m=[32m"11"[39m
                [33mr[39m=[32m"8"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"21"[39m
                [33mx2[39m=[32m"16.65"[39m
                [33my1[39m=[32m"21"[39m
                [33my2[39m=[32m"16.65"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"11"[39m
                [33mx2[39m=[32m"11"[39m
                [33my1[39m=[32m"8"[39m
                [33my2[39m=[32m"14"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"8"[39m
                [33mx2[39m=[32m"14"[39m
                [33my1[39m=[32m"11"[39m
                [33my2[39m=[32m"11"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[39m
          [33mdata-photo-container[39m=[32m"true"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[39m
          [36m/>[39m
          [36m<img[39m
            [33malt[39m=[32m"Cutting Started photo"[39m
            [33mclass[39m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[39m
            [33msrc[39m=[32m"https://example.com/cutting.jpg"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute bottom-0 left-0 right-0 p-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-lg"[39m
                  [36m>[39m
                    [0m✂️[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-white"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-medium truncate"[39m
                    [36m>[39m
 ...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getAllByLabelText ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/queries/label-text.js:[2m111:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx:[2m220:34[22m[39m
    [90m218| [39m      
    [90m219| [39m      [90m// Close modal[39m
    [90m220| [39m      [35mconst[39m closeButton [33m=[39m screen[33m.[39m[34mgetByLabelText[39m([32m'Close'[39m)[33m;[39m
    [90m   | [39m                                 [31m^[39m
    [90m221| [39m      [35mawait[39m user[33m.[39m[34mclick[39m(closeButton)[33m;[39m
    [90m222| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[342/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx[2m > [22mMilestonePhotoGallery[2m > [22mAccessibility[2m > [22mshould support keyboard navigation in modal
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: Precise cutting in progress. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"opacity: 0; position: fixed; pointer-events: none; outline-color: none; outline-style: none; outline-width: initial;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-4"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto"[39m
        [33mstyle[39m=[32m"max-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[39m
          [33mdata-photo-container[39m=[32m"true"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[39m
          [36m/>[39m
          [36m<img[39m
            [33malt[39m=[32m"Fabric Selected photo"[39m
            [33mclass[39m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[39m
            [33msrc[39m=[32m"https://example.com/fabric.jpg"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute bottom-0 left-0 right-0 p-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-lg"[39m
                  [36m>[39m
                    [0m🧵[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-white"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-medium truncate"[39m
                    [36m>[39m
                      [0mFabric Selected[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-xs opacity-75"[39m
                    [36m>[39m
                      [0m1/15/2024[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 text-xs"[39m
                [36m>[39m
                  [0mAPPROVED[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-zoom-in h-8 w-8 text-white"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"11"[39m
                [33mcy[39m=[32m"11"[39m
                [33mr[39m=[32m"8"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"21"[39m
                [33mx2[39m=[32m"16.65"[39m
                [33my1[39m=[32m"21"[39m
                [33my2[39m=[32m"16.65"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"11"[39m
                [33mx2[39m=[32m"11"[39m
                [33my1[39m=[32m"8"[39m
                [33my2[39m=[32m"14"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"8"[39m
                [33mx2[39m=[32m"14"[39m
                [33my1[39m=[32m"11"[39m
                [33my2[39m=[32m"11"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[39m
          [33mdata-photo-container[39m=[32m"true"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[39m
          [36m/>[39m
          [36m<img[39m
            [33malt[39m=[32m"Cutting Started photo"[39m
            [33mclass[39m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[39m
            [33msrc[39m=[32m"https://example.com/cutting.jpg"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute bottom-0 left-0 right-0 p-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-lg"[39m
                  [36m>[39m
                    [0m✂️[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-white"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-medium truncate"[39m
                    [36m>[39m
 ...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx:[2m272:21[22m[39m
    [90m270| [39m      [90m// Navigate with arrow keys[39m
    [90m271| [39m      [35mawait[39m user[33m.[39m[34mkeyboard[39m([32m'{ArrowRight}'[39m)[33m;[39m
    [90m272| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Precise cutting in progress'[39m))[33m.[39m[34mtoBeInTh[39m…
    [90m   | [39m                    [31m^[39m
    [90m273| [39m      
    [90m274| [39m      [35mawait[39m user[33m.[39m[34mkeyboard[39m([32m'{ArrowLeft}'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[343/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx[2m > [22mMilestonePhotoGallery[2m > [22mCustom Props[2m > [22mshould respect maxHeight prop
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the role "img"

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<img[39m
  [33malt[39m=[32m"Fabric Selected photo"[39m
  [33mclass[39m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[39m
  [33msrc[39m=[32m"https://example.com/fabric.jpg"[39m
[36m/>[39m

Ignored nodes: comments, script, style
[36m<img[39m
  [33malt[39m=[32m"Cutting Started photo"[39m
  [33mclass[39m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[39m
  [33msrc[39m=[32m"https://example.com/cutting.jpg"[39m
[36m/>[39m

Ignored nodes: comments, script, style
[36m<img[39m
  [33malt[39m=[32m"Fitting Ready photo"[39m
  [33mclass[39m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[39m
  [33msrc[39m=[32m"https://example.com/fitting.jpg"[39m
[36m/>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-4"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto"[39m
        [33mstyle[39m=[32m"max-height: 300px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[39m
          [33mdata-photo-container[39m=[32m"true"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[39m
          [36m/>[39m
          [36m<img[39m
            [33malt[39m=[32m"Fabric Selected photo"[39m
            [33mclass[39m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[39m
            [33msrc[39m=[32m"https://example.com/fabric.jpg"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute bottom-0 left-0 right-0 p-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-lg"[39m
                  [36m>[39m
                    [0m🧵[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-white"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-medium truncate"[39m
                    [36m>[39m
                      [0mFabric Selected[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-xs opacity-75"[39m
                    [36m>[39m
                      [0m1/15/2024[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 text-xs"[39m
                [36m>[39m
                  [0mAPPROVED[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-zoom-in h-8 w-8 text-white"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"11"[39m
                [33mcy[39m=[32m"11"[39m
                [33mr[39m=[32m"8"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"21"[39m
                [33mx2[39m=[32m"16.65"[39m
                [33my1[39m=[32m"21"[39m
                [33my2[39m=[32m"16.65"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"11"[39m
                [33mx2[39m=[32m"11"[39m
                [33my1[39m=[32m"8"[39m
                [33my2[39m=[32m"14"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"8"[39m
                [33mx2[39m=[32m"14"[39m
                [33my1[39m=[32m"11"[39m
                [33my2[39m=[32m"11"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[39m
          [33mdata-photo-container[39m=[32m"true"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[39m
          [36m/>[39m
          [36m<img[39m
            [33malt[39m=[32m"Cutting Started photo"[39m
            [33mclass[39m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[39m
            [33msrc[39m=[32m"https://example.com/cutting.jpg"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute bottom-0 left-0 right-0 p-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-lg"[39m
                  [36m>[39m
                    [0m✂️[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-white"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-medium truncate"[39m
                    [36m>[39m
                      [0mCutting Started[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-xs opacity-75"[39m
                    [36m>[39m
                      [0m1/16/2024[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[39m
                [36m>[39m
                  [0mPENDING[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-zoom-in h-8 w-8 text-white"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"11"[39m
                [33mcy[39m=[32m"11"[39m
                [33mr[39m=[32m"8"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"21"[39m
                [33mx2[39m=[32m"16.65"[39m
                [33my1[39m=[32m"21"[39m
                [33my2[39m=[32m"16.65"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"11"[39m
                [33mx2[39m=[32m"11"[39m
                [33my1[39m=[32m"8"[39m
                [33my2[39m=[32m"14"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"8"[39m
                [33mx2[39m=[32m"14"[39m
                [33my1[39m=[32m"11"[39m
                [33my2[39m=[32m"11"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/20"[39m
          [33mdata-photo-container[39m=[32m"true"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"animate-pulse rounded-md bg-slate-100 absolute inset-0"[39m
          [36m/>[39m
          [36m<img[39m
            [33malt[39m=[32m"Fitting Ready photo"[39m
            [33mclass[39m=[32m"w-full h-full object-cover transition-transform group-hover:scale-105 invisible"[39m
            [33msrc[39m=[32m"https://example.com/fitting.jpg"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute bottom-0 left-0 right-0 p-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-lg"[39m
                  [36m>[39m
                    [0m👔[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-white"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-medium truncate"[39m
                    [36m>[39m
                      [0mFitting Ready[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-xs opacity-75"[39m
                    [36m>[39m
                      [0m1/20/2024[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[39m
                [36m>[39m
                  [0mREJECTED[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-zoom-in h-8 w-8 text-white"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"11"[39m
                [33mcy[39m=[32m"11"[39m
                [33mr[39m=[32m"8"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"21"[39m
                [33mx2[39m=[32m"16.65"[39m
                [33my1[39m=[32m"21"[39m
                [33my2[39m=[32m"16.65"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"11"[39m
                [33mx2[39m=[32m"11"[39m
                [33my1[39m=[32m"8"[39m
                [33my2[39m=[32m"14"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"8"[39m
                [33mx2[39m=[32m"14"[39m
                [33my1[39m=[32m"11"[39m
                [33my2[39m=[32m"11"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/MilestonePhotoGallery.test.tsx:[2m316:36[22m[39m
    [90m314| [39m      [34mrender[39m([33m<[39m[33mMilestonePhotoGallery[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33mmaxHeight[39m[33m=[39m[32m"300px[39m…
    [90m315| [39m      
    [90m316| [39m      [35mconst[39m gridContainer [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'img'[39m)[33m.[39m[34mclosest[39m([32m'.grid'[39m)[33m;[39m
    [90m   | [39m                                   [31m^[39m
    [90m317| [39m      [34mexpect[39m(gridContainer)[33m.[39m[34mtoHaveStyle[39m({ maxHeight[33m:[39m [32m'300px'[39m })[33m;[39m
    [90m318| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[344/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22mOrderChat[2m > [22mRendering[2m > [22mshould load and display messages
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the text: Hello! I've started working on your dress.. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div />[31m
  [36m</body>[31m
[36m</html>[31m[39m
[90m [2m❯[22m Proxy.waitForWrapper ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/OrderChat.test.tsx:[2m111:13[22m[39m
    [90m109| [39m      [34mrender[39m([33m<[39m[33mOrderChat[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m110| [39m      
    [90m111| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m            [31m^[39m
    [90m112| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Hello! I\'ve started working on your [39m…
    [90m113| [39m      })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[345/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22mOrderChat[2m > [22mWebSocket Connection[2m > [22mshould handle WebSocket message events
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the text: New message. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div />[31m
  [36m</body>[31m
[36m</html>[31m[39m
[90m [2m❯[22m Proxy.waitForWrapper ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/OrderChat.test.tsx:[2m199:13[22m[39m
    [90m197| [39m      }
    [90m198| [39m      
    [90m199| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m            [31m^[39m
    [90m200| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'New message'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m201| [39m      })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[346/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22mOrderChat[2m > [22mMessage Sending[2m > [22mshould send text message
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the placeholder text of: Type your message...

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/OrderChat.test.tsx:[2m215:28[22m[39m
    [90m213| [39m      })[33m;[39m
    [90m214| [39m      
    [90m215| [39m      [35mconst[39m input [33m=[39m screen[33m.[39m[34mgetByPlaceholderText[39m([32m'Type your message...'[39m…
    [90m   | [39m                           [31m^[39m
    [90m216| [39m      [35mconst[39m sendButton [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'button'[39m[33m,[39m { name[33m:[39m [36m/send/i[39m })[33m;[39m
    [90m217| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[347/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22mOrderChat[2m > [22mMessage Sending[2m > [22mshould handle send message API call
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the placeholder text of: Type your message...

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-80 h-96 flex flex-col"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-3"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative flex shrink-0 overflow-hidden rounded-full h-10 w-10"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"flex h-full w-full items-center justify-center rounded-full bg-muted"[39m
              [36m>[39m
                [0mJO[0m
              [36m</span>[39m
            [36m</span>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 min-w-0"[39m
            [36m>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"tracking-tight text-base font-semibold truncate"[39m
              [36m>[39m
                [0mJohn Doe[0m
              [36m</h3>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mt-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-2 h-2 rounded-full bg-green-500"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-xs text-gray-600"[39m
                [36m>[39m
                  [0mOnline now[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-1"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
              [33mtitle[39m=[32m"Call tailor"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-phone h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0 text-green-600"[39m
              [33mtitle[39m=[32m"Continue on WhatsApp"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-message-square h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
              [33mtitle[39m=[32m"Collapse chat"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M18 6 6 18"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m6 6 12 12"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"shrink-0 bg-border h-[1px] w-full"[39m
        [33mdata-orientation[39m=[32m"horizontal"[39m
        [33mrole[39m=[32m"none"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col p-0 min-h-0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-center p-4 flex-1"[39m
        [36m>[39m
          [36m<div[39m
            ...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/OrderChat.test.tsx:[2m239:28[22m[39m
    [90m237| [39m      })[33m;[39m
    [90m238| [39m      
    [90m239| [39m      [35mconst[39m input [33m=[39m screen[33m.[39m[34mgetByPlaceholderText[39m([32m'Type your message...'[39m…
    [90m   | [39m                           [31m^[39m
    [90m240| [39m      [35mawait[39m user[33m.[39m[34mtype[39m(input[33m,[39m [32m'Hello tailor!'[39m)[33m;[39m
    [90m241| [39m      fireEvent[33m.[39m[34mkeyDown[39m(input[33m,[39m { key[33m:[39m [32m'Enter'[39m[33m,[39m shiftKey[33m:[39m [35mfalse[39m })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[348/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22mOrderChat[2m > [22mMessage Sending[2m > [22mshould call onMessageSent callback
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the placeholder text of: Type your message...

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow w-80 h-96 flex flex-col"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-3"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative flex shrink-0 overflow-hidden rounded-full h-10 w-10"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"flex h-full w-full items-center justify-center rounded-full bg-muted"[39m
              [36m>[39m
                [0mJO[0m
              [36m</span>[39m
            [36m</span>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 min-w-0"[39m
            [36m>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"tracking-tight text-base font-semibold truncate"[39m
              [36m>[39m
                [0mJohn Doe[0m
              [36m</h3>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mt-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-2 h-2 rounded-full bg-green-500"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-xs text-gray-600"[39m
                [36m>[39m
                  [0mOnline now[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-1"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
              [33mtitle[39m=[32m"Call tailor"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-phone h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0 text-green-600"[39m
              [33mtitle[39m=[32m"Continue on WhatsApp"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-message-square h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-8 w-8 p-0"[39m
              [33mtitle[39m=[32m"Collapse chat"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M18 6 6 18"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m6 6 12 12"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"shrink-0 bg-border h-[1px] w-full"[39m
        [33mdata-orientation[39m=[32m"horizontal"[39m
        [33mrole[39m=[32m"none"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col p-0 min-h-0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-center p-4 flex-1"[39m
        [36m>[39m
          [36m<div[39m
            ...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/OrderChat.test.tsx:[2m270:28[22m[39m
    [90m268| [39m      })[33m;[39m
    [90m269| [39m      
    [90m270| [39m      [35mconst[39m input [33m=[39m screen[33m.[39m[34mgetByPlaceholderText[39m([32m'Type your message...'[39m…
    [90m   | [39m                           [31m^[39m
    [90m271| [39m      [35mawait[39m user[33m.[39m[34mtype[39m(input[33m,[39m [32m'Test message'[39m)[33m;[39m
    [90m272| [39m      fireEvent[33m.[39m[34mkeyDown[39m(input[33m,[39m { key[33m:[39m [32m'Enter'[39m[33m,[39m shiftKey[33m:[39m [35mfalse[39m })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[349/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22mOrderChat[2m > [22mExternal Actions[2m > [22mshould handle WhatsApp redirect
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the title: Continue on WhatsApp.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/OrderChat.test.tsx:[2m296:37[22m[39m
    [90m294| [39m      })[33m;[39m
    [90m295| [39m      
    [90m296| [39m      [35mconst[39m whatsappButton [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Continue on WhatsApp'[39m)[33m;[39m
    [90m   | [39m                                    [31m^[39m
    [90m297| [39m      [35mawait[39m user[33m.[39m[34mclick[39m(whatsappButton)[33m;[39m
    [90m298| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[350/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22mOrderChat[2m > [22mExternal Actions[2m > [22mshould handle call tailor
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the title: Call tailor.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/OrderChat.test.tsx:[2m318:33[22m[39m
    [90m316| [39m      })[33m;[39m
    [90m317| [39m      
    [90m318| [39m      [35mconst[39m callButton [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Call tailor'[39m)[33m;[39m
    [90m   | [39m                                [31m^[39m
    [90m319| [39m      [35mawait[39m user[33m.[39m[34mclick[39m(callButton)[33m;[39m
    [90m320| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[351/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22mOrderChat[2m > [22mExternal Actions[2m > [22mshould handle collapse toggle
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the title: Collapse chat.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/OrderChat.test.tsx:[2m335:37[22m[39m
    [90m333| [39m      })[33m;[39m
    [90m334| [39m      
    [90m335| [39m      [35mconst[39m collapseButton [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Collapse chat'[39m)[33m;[39m
    [90m   | [39m                                    [31m^[39m
    [90m336| [39m      [35mawait[39m user[33m.[39m[34mclick[39m(collapseButton)[33m;[39m
    [90m337| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[352/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22mOrderChat[2m > [22mError Handling[2m > [22mshould display connection error
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the text: Connection error occurred. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div />[31m
  [36m</body>[31m
[36m</html>[31m[39m
[90m [2m❯[22m Proxy.waitForWrapper ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/OrderChat.test.tsx:[2m359:13[22m[39m
    [90m357| [39m      }
    [90m358| [39m      
    [90m359| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m            [31m^[39m
    [90m360| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Connection error occurred'[39m))[33m.[39m[34mtoBeInTh[39m…
    [90m361| [39m      })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[353/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22mOrderChat[2m > [22mError Handling[2m > [22mshould show disconnected state
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the text: /reconnecting/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div />[31m
  [36m</body>[31m
[36m</html>[31m[39m
[90m [2m❯[22m Proxy.waitForWrapper ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/OrderChat.test.tsx:[2m380:13[22m[39m
    [90m378| [39m      }
    [90m379| [39m      
    [90m380| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m            [31m^[39m
    [90m381| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/reconnecting/i[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m382| [39m      })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[354/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/OrderChat.test.tsx[2m > [22mOrderChat[2m > [22mConfiguration[2m > [22mshould respect max message length
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the placeholder text of: Type your message...

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/OrderChat.test.tsx:[2m399:28[22m[39m
    [90m397| [39m      })[33m;[39m
    [90m398| [39m      
    [90m399| [39m      [35mconst[39m input [33m=[39m screen[33m.[39m[34mgetByPlaceholderText[39m([32m'Type your message...'[39m…
    [90m   | [39m                           [31m^[39m
    [90m400| [39m      [35mawait[39m user[33m.[39m[34mtype[39m(input[33m,[39m [32m'This is a very long message that exceeds[39m…
    [90m401| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[355/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mBasic Rendering[2m > [22mshould render modal when open
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m64:7[22m[39m
    [90m 62| [39m  [34mdescribe[39m([32m'Basic Rendering'[39m[33m,[39m () [33m=>[39m {
    [90m 63| [39m    [34mit[39m([32m'should render modal when open'[39m[33m,[39m () [33m=>[39m {
    [90m 64| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m 65| [39m      
    [90m 66| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByRole[39m([32m'dialog'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[356/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mBasic Rendering[2m > [22mshould not render modal when closed
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m72:7[22m[39m
    [90m 70| [39m
    [90m 71| [39m    [34mit[39m([32m'should not render modal when closed'[39m[33m,[39m () [33m=>[39m {
    [90m 72| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33misOpen[39m[33m=[39m[33m{[39m[35mfalse[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m 73| [39m      
    [90m 74| [39m      [34mexpect[39m(screen[33m.[39m[34mqueryByRole[39m([32m'dialog'[39m))[33m.[39mnot[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[357/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mBasic Rendering[2m > [22mshould display photo with correct src
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m78:7[22m[39m
    [90m 76| [39m
    [90m 77| [39m    [34mit[39m([32m'should display photo with correct src'[39m[33m,[39m () [33m=>[39m {
    [90m 78| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m 79| [39m      
    [90m 80| [39m      [35mconst[39m image [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'img'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[358/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mBasic Rendering[2m > [22mshould show photo notes when available
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m86:7[22m[39m
    [90m 84| [39m
    [90m 85| [39m    [34mit[39m([32m'should show photo notes when available'[39m[33m,[39m () [33m=>[39m {
    [90m 86| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m 87| [39m      
    [90m 88| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'"Beautiful fabric selection for the dre[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[359/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mBasic Rendering[2m > [22mshould not show notes section when notes are empty
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m93:7[22m[39m
    [90m 91| [39m    [34mit[39m([32m'should not show notes section when notes are empty'[39m[33m,[39m () [33m=>[39m {
    [90m 92| [39m      [35mconst[39m photoWithoutNotes [33m=[39m { [33m...[39mmockPhoto[33m,[39m notes[33m:[39m undefined }[33m;[39m
    [90m 93| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33mphoto[39m[33m=[39m[33m{[39mphotoWithoutNotes[33m}[39m [33m/[39m…
    [90m   | [39m      [31m^[39m
    [90m 94| [39m      
    [90m 95| [39m      [34mexpect[39m(screen[33m.[39m[34mqueryByText[39m([32m'"'[39m))[33m.[39mnot[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[360/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mNavigation Controls[2m > [22mshould show navigation buttons when hasPrevious and hasNext are true
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m101:7[22m[39m
    [90m 99| [39m  [34mdescribe[39m([32m'Navigation Controls'[39m[33m,[39m () [33m=>[39m {
    [90m100| [39m    [34mit[39m([32m'should show navigation buttons when hasPrevious and hasNext ar[39m…
    [90m101| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m102| [39m      
    [90m103| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Previous'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[361/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mNavigation Controls[2m > [22mshould disable previous button when hasPrevious is false
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m110:7[22m[39m
    [90m108| [39m
    [90m109| [39m    [34mit[39m([32m'should disable previous button when hasPrevious is false'[39m[33m,[39m () …
    [90m110| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33mhasPrevious[39m[33m=[39m[33m{[39m[35mfalse[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m111| [39m      
    [90m112| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Previous'[39m))[33m.[39m[34mtoBeDisabled[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[362/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mNavigation Controls[2m > [22mshould disable next button when hasNext is false
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m116:7[22m[39m
    [90m114| [39m
    [90m115| [39m    [34mit[39m([32m'should disable next button when hasNext is false'[39m[33m,[39m () [33m=>[39m {
    [90m116| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33mhasNext[39m[33m=[39m[33m{[39m[35mfalse[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m117| [39m      
    [90m118| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Next'[39m))[33m.[39m[34mtoBeDisabled[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[363/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mNavigation Controls[2m > [22mshould call onPrevious when previous button is clicked
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m123:7[22m[39m
    [90m121| [39m    [34mit[39m([32m'should call onPrevious when previous button is clicked'[39m[33m,[39m [35masync[39m…
    [90m122| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m()[33m;[39m
    [90m123| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m124| [39m      
    [90m125| [39m      [35mawait[39m user[33m.[39m[34mclick[39m(screen[33m.[39m[34mgetByText[39m([32m'Previous'[39m))[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[364/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mNavigation Controls[2m > [22mshould call onNext when next button is clicked
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m131:7[22m[39m
    [90m129| [39m    [34mit[39m([32m'should call onNext when next button is clicked'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m130| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m()[33m;[39m
    [90m131| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m132| [39m      
    [90m133| [39m      [35mawait[39m user[33m.[39m[34mclick[39m(screen[33m.[39m[34mgetByText[39m([32m'Next'[39m))[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[365/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mKeyboard Navigation[2m > [22mshould navigate to previous photo with left arrow key
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m140:7[22m[39m
    [90m138| [39m  [34mdescribe[39m([32m'Keyboard Navigation'[39m[33m,[39m () [33m=>[39m {
    [90m139| [39m    [34mit[39m([32m'should navigate to previous photo with left arrow key'[39m[33m,[39m () [33m=>[39m {
    [90m140| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m141| [39m      
    [90m142| [39m      fireEvent[33m.[39m[34mkeyDown[39m(document[33m,[39m { key[33m:[39m [32m'ArrowLeft'[39m })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[366/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mKeyboard Navigation[2m > [22mshould navigate to next photo with right arrow key
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m147:7[22m[39m
    [90m145| [39m
    [90m146| [39m    [34mit[39m([32m'should navigate to next photo with right arrow key'[39m[33m,[39m () [33m=>[39m {
    [90m147| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m148| [39m      
    [90m149| [39m      fireEvent[33m.[39m[34mkeyDown[39m(document[33m,[39m { key[33m:[39m [32m'ArrowRight'[39m })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[367/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mKeyboard Navigation[2m > [22mshould close modal with escape key
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m154:7[22m[39m
    [90m152| [39m
    [90m153| [39m    [34mit[39m([32m'should close modal with escape key'[39m[33m,[39m () [33m=>[39m {
    [90m154| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m155| [39m      
    [90m156| [39m      fireEvent[33m.[39m[34mkeyDown[39m(document[33m,[39m { key[33m:[39m [32m'Escape'[39m })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[368/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mKeyboard Navigation[2m > [22mshould not navigate when hasPrevious is false and left arrow is pressed
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m161:7[22m[39m
    [90m159| [39m
    [90m160| [39m    [34mit[39m([32m'should not navigate when hasPrevious is false and left arrow i[39m…
    [90m161| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33mhasPrevious[39m[33m=[39m[33m{[39m[35mfalse[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m162| [39m      
    [90m163| [39m      fireEvent[33m.[39m[34mkeyDown[39m(document[33m,[39m { key[33m:[39m [32m'ArrowLeft'[39m })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[369/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mKeyboard Navigation[2m > [22mshould not navigate when hasNext is false and right arrow is pressed
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m168:7[22m[39m
    [90m166| [39m
    [90m167| [39m    [34mit[39m([32m'should not navigate when hasNext is false and right arrow is p[39m…
    [90m168| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33mhasNext[39m[33m=[39m[33m{[39m[35mfalse[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m169| [39m      
    [90m170| [39m      fireEvent[33m.[39m[34mkeyDown[39m(document[33m,[39m { key[33m:[39m [32m'ArrowRight'[39m })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[370/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mZoom Controls[2m > [22mshould display initial zoom level as 100%
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m177:7[22m[39m
    [90m175| [39m  [34mdescribe[39m([32m'Zoom Controls'[39m[33m,[39m () [33m=>[39m {
    [90m176| [39m    [34mit[39m([32m'should display initial zoom level as 100%'[39m[33m,[39m () [33m=>[39m {
    [90m177| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m178| [39m      
    [90m179| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'100%'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[371/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mZoom Controls[2m > [22mshould zoom in when zoom in button is clicked
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m184:7[22m[39m
    [90m182| [39m    [34mit[39m([32m'should zoom in when zoom in button is clicked'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m183| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m()[33m;[39m
    [90m184| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m185| [39m      
    [90m186| [39m      [35mconst[39m zoomInButton [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Zoom in (+)'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[372/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mZoom Controls[2m > [22mshould zoom out when zoom out button is clicked
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m194:7[22m[39m
    [90m192| [39m    [34mit[39m([32m'should zoom out when zoom out button is clicked'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m193| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m()[33m;[39m
    [90m194| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m195| [39m      
    [90m196| [39m      [90m// First zoom in, then zoom out[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[373/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mZoom Controls[2m > [22mshould reset zoom when reset button is clicked
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m208:7[22m[39m
    [90m206| [39m    [34mit[39m([32m'should reset zoom when reset button is clicked'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m207| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m()[33m;[39m
    [90m208| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m209| [39m      
    [90m210| [39m      [90m// Zoom in multiple times[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[374/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mZoom Controls[2m > [22mshould disable zoom out button at minimum zoom
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m223:7[22m[39m
    [90m221| [39m
    [90m222| [39m    [34mit[39m([32m'should disable zoom out button at minimum zoom'[39m[33m,[39m () [33m=>[39m {
    [90m223| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m224| [39m      
    [90m225| [39m      [35mconst[39m zoomOutButton [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Zoom out (-)'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[375/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mZoom Controls[2m > [22mshould support keyboard zoom controls
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m231:7[22m[39m
    [90m229| [39m
    [90m230| [39m    [34mit[39m([32m'should support keyboard zoom controls'[39m[33m,[39m () [33m=>[39m {
    [90m231| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m232| [39m      
    [90m233| [39m      [90m// Zoom in with +[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[376/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mDownload Functionality[2m > [22mshould not show download button when allowDownload is false
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m257:7[22m[39m
    [90m255| [39m
    [90m256| [39m    [34mit[39m([32m'should not show download button when allowDownload is false'[39m[33m,[39m …
    [90m257| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33mallowDownload[39m[33m=[39m[33m{[39m[35mfalse[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m258| [39m      
    [90m259| [39m      [34mexpect[39m(screen[33m.[39m[34mqueryByTitle[39m([32m'Download image'[39m))[33m.[39mnot[33m.[39m[34mtoBeInTheDocum[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[377/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mDownload Functionality[2m > [22mshould show download button when allowDownload is true
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m263:7[22m[39m
    [90m261| [39m
    [90m262| [39m    [34mit[39m([32m'should show download button when allowDownload is true'[39m[33m,[39m () [33m=>[39m…
    [90m263| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33mallowDownload[39m[33m=[39m[33m{[39m[35mtrue[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m264| [39m      
    [90m265| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByTitle[39m([32m'Download image'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[378/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mDownload Functionality[2m > [22mshould trigger download when download button is clicked
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m270:7[22m[39m
    [90m268| [39m    [34mit[39m([32m'should trigger download when download button is clicked'[39m[33m,[39m [35masyn[39m…
    [90m269| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m()[33m;[39m
    [90m270| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33mallowDownload[39m[33m=[39m[33m{[39m[35mtrue[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m271| [39m      
    [90m272| [39m      [35mconst[39m downloadButton [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Download image'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[379/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mDownload Functionality[2m > [22mshould handle download errors gracefully
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m288:7[22m[39m
    [90m286| [39m      
    [90m287| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m()[33m;[39m
    [90m288| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33mallowDownload[39m[33m=[39m[33m{[39m[35mtrue[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m289| [39m      
    [90m290| [39m      [35mconst[39m downloadButton [33m=[39m screen[33m.[39m[34mgetByTitle[39m([32m'Download image'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[380/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mImage Loading States[2m > [22mshould show loading spinner initially
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m303:7[22m[39m
    [90m301| [39m  [34mdescribe[39m([32m'Image Loading States'[39m[33m,[39m () [33m=>[39m {
    [90m302| [39m    [34mit[39m([32m'should show loading spinner initially'[39m[33m,[39m () [33m=>[39m {
    [90m303| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m304| [39m      
    [90m305| [39m      [90m// Before image loads, should show loading spinner[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[381/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mImage Loading States[2m > [22mshould hide loading spinner when image loads
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m311:7[22m[39m
    [90m309| [39m
    [90m310| [39m    [34mit[39m([32m'should hide loading spinner when image loads'[39m[33m,[39m () [33m=>[39m {
    [90m311| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m312| [39m      
    [90m313| [39m      [35mconst[39m image [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'img'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[382/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mImage Loading States[2m > [22mshould show error state when image fails to load
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m320:7[22m[39m
    [90m318| [39m
    [90m319| [39m    [34mit[39m([32m'should show error state when image fails to load'[39m[33m,[39m () [33m=>[39m {
    [90m320| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m321| [39m      
    [90m322| [39m      [35mconst[39m image [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'img'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[383/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mMouse Interactions[2m > [22mshould enable dragging when zoomed in
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m333:7[22m[39m
    [90m331| [39m    [34mit[39m([32m'should enable dragging when zoomed in'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m332| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m()[33m;[39m
    [90m333| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m334| [39m      
    [90m335| [39m      [90m// Zoom in first[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[384/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mMouse Interactions[2m > [22mshould show default cursor when not zoomed
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m344:7[22m[39m
    [90m342| [39m
    [90m343| [39m    [34mit[39m([32m'should show default cursor when not zoomed'[39m[33m,[39m () [33m=>[39m {
    [90m344| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m345| [39m      
    [90m346| [39m      [35mconst[39m image [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'img'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[385/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mAccessibility[2m > [22mshould have proper ARIA attributes
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m353:7[22m[39m
    [90m351| [39m  [34mdescribe[39m([32m'Accessibility'[39m[33m,[39m () [33m=>[39m {
    [90m352| [39m    [34mit[39m([32m'should have proper ARIA attributes'[39m[33m,[39m () [33m=>[39m {
    [90m353| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m354| [39m      
    [90m355| [39m      [35mconst[39m dialog [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'dialog'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[386/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mAccessibility[2m > [22mshould have descriptive alt text for image
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m360:7[22m[39m
    [90m358| [39m
    [90m359| [39m    [34mit[39m([32m'should have descriptive alt text for image'[39m[33m,[39m () [33m=>[39m {
    [90m360| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m361| [39m      
    [90m362| [39m      [35mconst[39m image [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'img'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[387/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mAccessibility[2m > [22mshould have proper button titles for screen readers
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m368:7[22m[39m
    [90m366| [39m
    [90m367| [39m    [34mit[39m([32m'should have proper button titles for screen readers'[39m[33m,[39m () [33m=>[39m {
    [90m368| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33mallowDownload[39m[33m=[39m[33m{[39m[35mtrue[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m369| [39m      
    [90m370| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByTitle[39m([32m'Zoom in (+)'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[388/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mBody Scroll Lock[2m > [22mshould prevent body scroll when modal is open
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m381:7[22m[39m
    [90m379| [39m  [34mdescribe[39m([32m'Body Scroll Lock'[39m[33m,[39m () [33m=>[39m {
    [90m380| [39m    [34mit[39m([32m'should prevent body scroll when modal is open'[39m[33m,[39m () [33m=>[39m {
    [90m381| [39m      [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m      [31m^[39m
    [90m382| [39m      
    [90m383| [39m      [34mexpect[39m(document[33m.[39mbody[33m.[39mstyle[33m.[39moverflow)[33m.[39m[34mtoBe[39m([32m'hidden'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[389/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mBody Scroll Lock[2m > [22mshould restore body scroll when modal is closed
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m387:28[22m[39m
    [90m385| [39m
    [90m386| [39m    [34mit[39m([32m'should restore body scroll when modal is closed'[39m[33m,[39m () [33m=>[39m {
    [90m387| [39m      [35mconst[39m { rerender } [33m=[39m [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m                           [31m^[39m
    [90m388| [39m      
    [90m389| [39m      [34mrerender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33misOpen[39m[33m=[39m[33m{[39m[35mfalse[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[390/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/orders/PhotoModal.test.tsx[2m > [22mPhotoModal[2m > [22mPhoto Changes[2m > [22mshould reset zoom and position when photo changes
[31m[1mError[22m: Target container is not a DOM element.[39m
[90m [2m❯[22m Object.process.env.NODE_ENV.exports.createRoot ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m24878:15[22m[39m
[90m [2m❯[22m createConcurrentRoot ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m147:27[22m[39m
[90m [2m❯[22m Proxy.render ../../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.1.7_@types+reac_krrl3ty72hikjfyopzphs2gsla/node_modules/@testing-library/react/dist/pure.js:[2m266:12[22m[39m
[36m [2m❯[22m tests/unit/components/features/orders/PhotoModal.test.tsx:[2m397:28[22m[39m
    [90m395| [39m  [34mdescribe[39m([32m'Photo Changes'[39m[33m,[39m () [33m=>[39m {
    [90m396| [39m    [34mit[39m([32m'should reset zoom and position when photo changes'[39m[33m,[39m () [33m=>[39m {
    [90m397| [39m      [35mconst[39m { rerender } [33m=[39m [34mrender[39m([33m<[39m[33mPhotoModal[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m   | [39m                           [31m^[39m
    [90m398| [39m      
    [90m399| [39m      [90m// Zoom in[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[391/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/BulkProgressUpdater.test.tsx[2m > [22mBulkProgressUpdater[2m > [22mshows update form when items are selected
[31m[1mTestingLibraryElementError[22m[39m: Found a label with the text of: /New Status/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6 "[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-square-check-big h-5 w-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"m9 11 3 3L22 4"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mBulk Progress Updater[0m
          [36m</h3>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
          [36m>[39m
            [0mUpdate progress for multiple items simultaneously and notify customers[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 pt-0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-base px-3 py-1"[39m
              [36m>[39m
                [0m1[0m
                [0m Selected[0m
              [36m</div>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mof [0m
                [0m2[0m
                [0m total items[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs"[39m
            [36m>[39m
              [0mClear Selection[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold tracking-tight text-base"[39m
          [36m>[39m
            [0mQuick Select by Stage[0m
          [36m</h3>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
          [36m>[39m
            [0mSelect all items at the same production stage[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 pt-0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-wrap gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs bg-indigo-100 text-indigo-800"[39m
            [36m>[39m
              [0min progress[0m
              [0m ([0m
              [0m2[0m
              [0m)[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-lg font-semibold"[39m
        [36m>[39m
          [0mSelect Items to Update[0m
        [36m</h3>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow cursor-pointer transition-all hover:shadow-md border-primary ring-2 ring-primary"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-checked[39m=[32m"true"[39m
                  [33mclass[39m=[32m"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground"[39m
                  [33mdata-state[39m=[32m"checked"[39m
                  [33mrole[39m=[32m"checkbox"[39m
                  [33mtype[39m=[32m"button"[39m
                  [33mvalue[39m=[32m"on"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"flex items-center justify-center text-current"[39m
                    [33mdata-state[39m=[32m"checked"[39m
                    [33mstyle[39m=[32m"pointer-events: none;"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-check h-4 w-4"[39m
        ...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getAllByLabelText ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/queries/label-text.js:[2m108:40[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/BulkProgressUpdater.test.tsx:[2m120:19[22m[39m
    [90m118| [39m    
    [90m119| [39m    [90m// Update form should appear[39m
    [90m120| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByLabelText[39m([36m/New Status/i[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m121| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByLabelText[39m([36m/Progress Notes/i[39m))[33m.[39m[34mtoBeInTheDocument[39m…
    [90m122| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[392/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/BulkProgressUpdater.test.tsx[2m > [22mBulkProgressUpdater[2m > [22mcalls onUpdate with correct data
[31m[1mTestingLibraryElementError[22m[39m: Found a label with the text of: /New Status/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6 "[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-square-check-big h-5 w-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"m9 11 3 3L22 4"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mBulk Progress Updater[0m
          [36m</h3>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
          [36m>[39m
            [0mUpdate progress for multiple items simultaneously and notify customers[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 pt-0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-base px-3 py-1"[39m
              [36m>[39m
                [0m1[0m
                [0m Selected[0m
              [36m</div>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mof [0m
                [0m2[0m
                [0m total items[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs"[39m
            [36m>[39m
              [0mClear Selection[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold tracking-tight text-base"[39m
          [36m>[39m
            [0mQuick Select by Stage[0m
          [36m</h3>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
          [36m>[39m
            [0mSelect all items at the same production stage[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 pt-0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-wrap gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs bg-indigo-100 text-indigo-800"[39m
            [36m>[39m
              [0min progress[0m
              [0m ([0m
              [0m2[0m
              [0m)[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-lg font-semibold"[39m
        [36m>[39m
          [0mSelect Items to Update[0m
        [36m</h3>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow cursor-pointer transition-all hover:shadow-md border-primary ring-2 ring-primary"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-checked[39m=[32m"true"[39m
                  [33mclass[39m=[32m"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground"[39m
                  [33mdata-state[39m=[32m"checked"[39m
                  [33mrole[39m=[32m"checkbox"[39m
                  [33mtype[39m=[32m"button"[39m
                  [33mvalue[39m=[32m"on"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"flex items-center justify-center text-current"[39m
                    [33mdata-state[39m=[32m"checked"[39m
                    [33mstyle[39m=[32m"pointer-events: none;"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-check h-4 w-4"[39m
        ...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getAllByLabelText ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/queries/label-text.js:[2m108:40[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/BulkProgressUpdater.test.tsx:[2m179:33[22m[39m
    [90m177| [39m    
    [90m178| [39m    [90m// Fill in form[39m
    [90m179| [39m    [35mconst[39m statusSelect [33m=[39m screen[33m.[39m[34mgetByLabelText[39m([36m/New Status/i[39m)[33m;[39m
    [90m   | [39m                                [31m^[39m
    [90m180| [39m    fireEvent[33m.[39m[34mchange[39m(statusSelect[33m,[39m { target[33m:[39m { value[33m:[39m [33mOrderStatus[39m[33m.[39m[33mAWAI[39m…
    [90m181| [39m    

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[393/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/DesignSuggestionTool.test.tsx[2m > [22mDesignSuggestionTool[2m > [22mdisplays template guidelines when selected
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: /Gold/i

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[39m
[36m>[39m
  [0mGold[0m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 bg-green-100 text-green-800"[39m
[36m>[39m
  [0m✓ [0m
  [0mGold[0m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6 "[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-sparkles h-5 w-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M20 2v4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M22 4h-4"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"4"[39m
                [33mcy[39m=[32m"20"[39m
                [33mr[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mDesign Suggestion Tool[0m
          [36m</h3>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
          [36m>[39m
            [0mCreate coordinated design recommendations using cultural event templates[0m
          [36m</p>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-lg font-semibold"[39m
        [36m>[39m
          [0mSelect Cultural Event Template[0m
        [36m</h3>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid gap-3 md:grid-cols-2 lg:grid-cols-3"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow cursor-pointer transition-all hover:shadow-md border-primary ring-2 ring-primary"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
            [36m>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"font-semibold tracking-tight text-base flex items-center justify-between"[39m
              [36m>[39m
                [0mTraditional Ghanaian Wedding[0m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-circle-check-big h-5 w-5 text-primary"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m9 11 3 3L22 4"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-muted-foreground text-sm"[39m
              [36m>[39m
                [0mCoordinated Kente or matching prints for family[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-6 pt-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex flex-wrap gap-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[39m
                  [36m>[39m
                    [0mGold[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[39m
                  [36m>[39m
                    [0mRoyal Blue[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[39m
                  [36m>[39m
                    [0mBurgundy[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                [36m>[39m
                  [0mBright colors symbolize joy and celebration[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow cursor-pointer transition-all hover:shadow-md"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
            [36m>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"font-semibold tracking-tight text-base flex items-center justify-between"...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/DesignSuggestionTool.test.tsx:[2m53:19[22m[39m
    [90m 51| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Template Guidelines'[39m))[33m.[39m[34mtoBeInTheDocument[39m(…
    [90m 52| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Recommended Colors'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m 53| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/Gold/i[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 54| [39m  })[33m;[39m
    [90m 55| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[394/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/DesignSuggestionTool.test.tsx[2m > [22mDesignSuggestionTool[2m > [22mshows colors to avoid for certain events
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: /Black/i

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[39m
[36m>[39m
  [0mBlack[0m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80 text-xs"[39m
[36m>[39m
  [0m✗ [0m
  [0mBlack[0m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6 "[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-sparkles h-5 w-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M20 2v4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M22 4h-4"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"4"[39m
                [33mcy[39m=[32m"20"[39m
                [33mr[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mDesign Suggestion Tool[0m
          [36m</h3>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
          [36m>[39m
            [0mCreate coordinated design recommendations using cultural event templates[0m
          [36m</p>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-lg font-semibold"[39m
        [36m>[39m
          [0mSelect Cultural Event Template[0m
        [36m</h3>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid gap-3 md:grid-cols-2 lg:grid-cols-3"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow cursor-pointer transition-all hover:shadow-md border-primary ring-2 ring-primary"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
            [36m>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"font-semibold tracking-tight text-base flex items-center justify-between"[39m
              [36m>[39m
                [0mTraditional Ghanaian Wedding[0m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-circle-check-big h-5 w-5 text-primary"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m9 11 3 3L22 4"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-muted-foreground text-sm"[39m
              [36m>[39m
                [0mCoordinated Kente or matching prints for family[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-6 pt-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex flex-wrap gap-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[39m
                  [36m>[39m
                    [0mGold[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[39m
                  [36m>[39m
                    [0mRoyal Blue[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[39m
                  [36m>[39m
                    [0mBurgundy[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                [36m>[39m
                  [0mBright colors symbolize joy and celebration[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow cursor-pointer transition-all hover:shadow-md"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
            [36m>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"font-semibold tracking-tight text-base flex items-center justify-between"...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/DesignSuggestionTool.test.tsx:[2m70:19[22m[39m
    [90m 68| [39m    [90m// Wedding should show black as color to avoid[39m
    [90m 69| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Colors to Avoid'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m 70| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/Black/i[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 71| [39m  })[33m;[39m
    [90m 72| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[395/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/DesignSuggestionTool.test.tsx[2m > [22mDesignSuggestionTool[2m > [22mdisplays traditional patterns for templates that have them
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: /Kente weave/i

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm"[39m
[36m>[39m
  [0mKente weave, Adinkra symbols, Batik prints[0m
[36m</p>[39m

Ignored nodes: comments, script, style
[36m<textarea[39m
  [33mclass[39m=[32m"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 resize-none"[39m
  [33mid[39m=[32m"suggestion"[39m
  [33mplaceholder[39m=[32m"Describe your design recommendations, coordination ideas, and specific guidance for the group..."[39m
  [33mrows[39m=[32m"8"[39m
[36m>[39m
  [0mCultural Context: Coordinated Kente or matching prints for family

Coordination Guidelines:
Family members should wear complementary colors from same fabric lot. Bride/groom colors should be distinctive but harmonious.

Recommended Patterns: Kente weave, Adinkra symbols, Batik prints

Please add your specific design recommendations below...[0m
[36m</textarea>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6 "[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-sparkles h-5 w-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M20 2v4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M22 4h-4"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"4"[39m
                [33mcy[39m=[32m"20"[39m
                [33mr[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mDesign Suggestion Tool[0m
          [36m</h3>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
          [36m>[39m
            [0mCreate coordinated design recommendations using cultural event templates[0m
          [36m</p>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-lg font-semibold"[39m
        [36m>[39m
          [0mSelect Cultural Event Template[0m
        [36m</h3>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid gap-3 md:grid-cols-2 lg:grid-cols-3"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow cursor-pointer transition-all hover:shadow-md border-primary ring-2 ring-primary"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
            [36m>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"font-semibold tracking-tight text-base flex items-center justify-between"[39m
              [36m>[39m
                [0mTraditional Ghanaian Wedding[0m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-circle-check-big h-5 w-5 text-primary"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m9 11 3 3L22 4"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-muted-foreground text-sm"[39m
              [36m>[39m
                [0mCoordinated Kente or matching prints for family[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-6 pt-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex flex-wrap gap-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[39m
                  [36m>[39m
                    [0mGold[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[39m
                  [36m>[39m
                    [0mRoyal Blue[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 text-xs"[39m
                  [36m>[39m
                    [0mBurgundy[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                [36m>[39m
                  [0mBright colors symbolize joy and celebration[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow cursor-pointer transition-all hover:shadow-md"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
            [36m>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"font-semibold tracking-tight text-base flex items-center justify-between"...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/DesignSuggestionTool.test.tsx:[2m85:19[22m[39m
    [90m 83| [39m    
    [90m 84| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Traditional Patterns'[39m))[33m.[39m[34mtoBeInTheDocument[39m…
    [90m 85| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/Kente weave/i[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 86| [39m  })[33m;[39m
    [90m 87| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[396/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/FabricAllocationCalculator.test.tsx[2m > [22mFabricAllocationCalculator[2m > [22mupdates buffer percentage when changed
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: 1.12 yds. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6 "[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-calculator h-5 w-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"20"[39m
                [33mrx[39m=[32m"2"[39m
                [33mwidth[39m=[32m"16"[39m
                [33mx[39m=[32m"4"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"8"[39m
                [33mx2[39m=[32m"16"[39m
                [33my1[39m=[32m"6"[39m
                [33my2[39m=[32m"6"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"16"[39m
                [33mx2[39m=[32m"16"[39m
                [33my1[39m=[32m"14"[39m
                [33my2[39m=[32m"18"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 10h.01"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 10h.01"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M8 10h.01"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 14h.01"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M8 14h.01"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 18h.01"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M8 18h.01"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mFabric Allocation Calculator[0m
          [36m</h3>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
          [36m>[39m
            [0mCalculate total fabric needs with buffer for waste and errors[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 pt-0 space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid gap-4 md:grid-cols-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"rounded-xl border text-card-foreground shadow bg-blue-50 border-blue-200"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 pt-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-medium text-blue-600"[39m
                    [36m>[39m
                      [0mTotal Needed[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-2xl font-bold text-blue-900"[39m
                    [36m>[39m
                      [0m7.50[0m
                      [0m yds[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-ruler h-8 w-8 text-blue-600"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m14.5 12.5 2-2"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m11.5 9.5 2-2"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m8.5 6.5 2-2"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m17.5 15.5 2-2"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"rounded-xl border text-card-foreground shadow bg-yellow-50 border-yellow-200"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 pt-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-medium text-yellow-600"[39m
                    [36m>[39m
                      [0mBuffer ([0m
                      [0m15[0m
                      [0m%)[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-2xl font-bold text-yellow-900"[39m
                    [36m>[39m
                      [0m1.13[0m
                      [0m yds[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-tr...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/FabricAllocationCalculator.test.tsx:[2m70:19[22m[39m
    [90m 68| [39m    
    [90m 69| [39m    [90m// 7.5 * 15% = 1.125[39m
    [90m 70| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'1.12 yds'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 71| [39m    [90m// 7.5 + 1.125 = 8.625[39m
    [90m 72| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'8.62 yds'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[397/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/FeaturedTailors.test.tsx[2m > [22mFeaturedTailors[2m > [22mLoading State[2m > [22mshould show loading skeletons while fetching
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element by: [data-testid="tailor-card-tailor-1"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-center justify-between"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M5 21h14"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mFeatured Tailors[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mt-1"[39m
          [36m>[39m
            [0mDiscover top-rated and recommended expert tailors[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<button[39m
          [33mclass[39m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[39m
        [36m>[39m
          [0mView All[0m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M5 12h14"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"m12 5 7 7-7 7"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"hidden lg:block"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"tailor-card-featured-1"[39m
            [36m>[39m
              [36m<h3 />[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"ml-1"[39m
                [36m>[39m
                  [0mTop Rated[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute top-2 left-2 z-10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[39m
              [36m>[39m
                [0mTop Rated[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"tailor-card-featured-2"[39m
            [36m>[39m
              [36m<h3 />[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-blue-500"[39m
              [36m>[39m
             ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M5 21h14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mFeatured Tailors[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-gray-600 mt-1"[39m
            [36m>[39m
              [0mDiscover top-rated and recommended expert tailors[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<button[39m
            [33mclass[39m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[39m
          [36m>[39m
            [0mView All[0m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M5 12h14"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"m12 5 7 7-7 7"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"hidden lg:block"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tailor-card-featured-1"[39m
              [36m>[39m
                [36m<h3 />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-1"[39m
                  [36m>[39m
                    [0mTop Rated[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute top-2 left-2 z-10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[39m
                [36m>[39m
                  [0mTop Rated[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tailor-card-featured-2"[39m
              [36m>[39m
                [36m<h3 />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
              [36m>[39m
                [36m<div[39m
                ...
[90m [2m❯[22m Proxy.waitForWrapper ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/FeaturedTailors.test.tsx:[2m127:13[22m[39m
    [90m125| [39m      
    [90m126| [39m      [90m// Wait for loading to complete[39m
    [90m127| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m            [31m^[39m
    [90m128| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Featured Tailors'[39m))[33m.[39m[34mtoBeInTheDocument[39m…
    [90m129| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByTestId[39m([32m'tailor-card-tailor-1'[39m))[33m.[39m[34mtoBeInTheDo[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[398/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/FeaturedTailors.test.tsx[2m > [22mFeaturedTailors[2m > [22mSuccessful Data Loading[2m > [22mshould render featured tailors
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element by: [data-testid="tailor-card-tailor-1"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-center justify-between"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M5 21h14"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mFeatured Tailors[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mt-1"[39m
          [36m>[39m
            [0mDiscover top-rated and recommended expert tailors[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<button[39m
          [33mclass[39m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[39m
        [36m>[39m
          [0mView All[0m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M5 12h14"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"m12 5 7 7-7 7"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"hidden lg:block"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"tailor-card-featured-1"[39m
            [36m>[39m
              [36m<h3 />[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"ml-1"[39m
                [36m>[39m
                  [0mTop Rated[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute top-2 left-2 z-10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[39m
              [36m>[39m
                [0mTop Rated[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"tailor-card-featured-2"[39m
            [36m>[39m
              [36m<h3 />[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-blue-500"[39m
              [36m>[39m
             ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M5 21h14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mFeatured Tailors[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-gray-600 mt-1"[39m
            [36m>[39m
              [0mDiscover top-rated and recommended expert tailors[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<button[39m
            [33mclass[39m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[39m
          [36m>[39m
            [0mView All[0m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M5 12h14"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"m12 5 7 7-7 7"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"hidden lg:block"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tailor-card-featured-1"[39m
              [36m>[39m
                [36m<h3 />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-1"[39m
                  [36m>[39m
                    [0mTop Rated[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute top-2 left-2 z-10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[39m
                [36m>[39m
                  [0mTop Rated[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tailor-card-featured-2"[39m
              [36m>[39m
                [36m<h3 />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
              [36m>[39m
                [36m<div[39m
                ...
[90m [2m❯[22m Proxy.waitForWrapper ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/FeaturedTailors.test.tsx:[2m145:13[22m[39m
    [90m143| [39m      [34mrender[39m([33m<[39m[33mFeaturedTailors[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m144| [39m
    [90m145| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m            [31m^[39m
    [90m146| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Featured Tailors'[39m))[33m.[39m[34mtoBeInTheDocument[39m…
    [90m147| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByTestId[39m([32m'tailor-card-tailor-1'[39m))[33m.[39m[34mtoBeInTheDo[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[399/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/FeaturedTailors.test.tsx[2m > [22mFeaturedTailors[2m > [22mSuccessful Data Loading[2m > [22mshould show correct featured badges
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: Top Rated

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<span[39m
  [33mclass[39m=[32m"ml-1"[39m
[36m>[39m
  [0mTop Rated[0m
[36m</span>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[39m
[36m>[39m
  [0mTop Rated[0m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<span[39m
  [33mclass[39m=[32m"ml-1"[39m
[36m>[39m
  [0mTop Rated[0m
[36m</span>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-center justify-between"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M5 21h14"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mFeatured Tailors[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mt-1"[39m
          [36m>[39m
            [0mDiscover top-rated and recommended expert tailors[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<button[39m
          [33mclass[39m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[39m
        [36m>[39m
          [0mView All[0m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M5 12h14"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"m12 5 7 7-7 7"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"hidden lg:block"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"tailor-card-featured-1"[39m
            [36m>[39m
              [36m<h3 />[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"ml-1"[39m
                [36m>[39m
                  [0mTop Rated[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute top-2 left-2 z-10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[39m
              [36m>[39m
                [0mTop Rated[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"tailor-card-featured-2"[39m
            [36m>[39m
              [36m<h3 />[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-blue-500"[39m
              [36m>[39m
             ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M5 21h14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mFeatured Tailors[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-gray-600 mt-1"[39m
            [36m>[39m
              [0mDiscover top-rated and recommended expert tailors[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<button[39m
            [33mclass[39m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[39m
          [36m>[39m
            [0mView All[0m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M5 12h14"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"m12 5 7 7-7 7"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"hidden lg:block"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tailor-card-featured-1"[39m
              [36m>[39m
                [36m<h3 />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-1"[39m
                  [36m>[39m
                    [0mTop Rated[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute top-2 left-2 z-10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[39m
                [36m>[39m
                  [0mTop Rated[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tailor-card-featured-2"[39m
              [36m>[39m
                [36m<h3 />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
              [36m>[39m
                [36m<div[39m
                ...
[90m [2m❯[22m Proxy.waitForWrapper ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/FeaturedTailors.test.tsx:[2m155:13[22m[39m
    [90m153| [39m      [34mrender[39m([33m<[39m[33mFeaturedTailors[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m154| [39m
    [90m155| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m            [31m^[39m
    [90m156| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Top Rated'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m157| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Fast Response'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[400/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/FeaturedTailors.test.tsx[2m > [22mFeaturedTailors[2m > [22mFeatured Reason Icons[2m > [22mshould show correct icons for different featured reasons
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: Top Rated

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<span[39m
  [33mclass[39m=[32m"ml-1"[39m
[36m>[39m
  [0mTop Rated[0m
[36m</span>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[39m
[36m>[39m
  [0mTop Rated[0m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<span[39m
  [33mclass[39m=[32m"ml-1"[39m
[36m>[39m
  [0mTop Rated[0m
[36m</span>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-center justify-between"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M5 21h14"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mFeatured Tailors[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-gray-600 mt-1"[39m
          [36m>[39m
            [0mDiscover top-rated and recommended expert tailors[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<button[39m
          [33mclass[39m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[39m
        [36m>[39m
          [0mView All[0m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M5 12h14"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"m12 5 7 7-7 7"[39m
            [36m/>[39m
          [36m</svg>[39m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"hidden lg:block"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"tailor-card-featured-1"[39m
            [36m>[39m
              [36m<h3 />[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"ml-1"[39m
                [36m>[39m
                  [0mTop Rated[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute top-2 left-2 z-10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[39m
              [36m>[39m
                [0mTop Rated[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"tailor-card-featured-2"[39m
            [36m>[39m
              [36m<h3 />[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-blue-500"[39m
              [36m>[39m
             ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M5 21h14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mFeatured Tailors[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-gray-600 mt-1"[39m
            [36m>[39m
              [0mDiscover top-rated and recommended expert tailors[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<button[39m
            [33mclass[39m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[39m
          [36m>[39m
            [0mView All[0m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M5 12h14"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"m12 5 7 7-7 7"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"hidden lg:block"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tailor-card-featured-1"[39m
              [36m>[39m
                [36m<h3 />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-1"[39m
                  [36m>[39m
                    [0mTop Rated[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute top-2 left-2 z-10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[39m
                [36m>[39m
                  [0mTop Rated[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tailor-card-featured-2"[39m
              [36m>[39m
                [36m<h3 />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
              [36m>[39m
                [36m<div[39m
                ...
[90m [2m❯[22m Proxy.waitForWrapper ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/FeaturedTailors.test.tsx:[2m189:13[22m[39m
    [90m187| [39m      [34mrender[39m([33m<[39m[33mFeaturedTailors[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m188| [39m
    [90m189| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m            [31m^[39m
    [90m190| [39m        [90m// Check for HIGH_RATING (Top Rated)[39m
    [90m191| [39m        [35mconst[39m topRatedBadge [33m=[39m screen[33m.[39m[34mgetByText[39m([32m'Top Rated'[39m)[33m.[39m[34mclosest[39m([32m'.[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[401/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/FeaturedTailors.test.tsx[2m > [22mFeaturedTailors[2m > [22mCarousel Functionality[2m > [22mshould show carousel controls when there are multiple slides
[31m[1mAssertionError[22m[39m: expected 0 to be greater than 0

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900 flex items-center gap-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-crown h-6 w-6 text-yellow-500"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M5 21h14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mFeatured Tailors[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-gray-600 mt-1"[39m
            [36m>[39m
              [0mDiscover top-rated and recommended expert tailors[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<button[39m
            [33mclass[39m=[32m"items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 hidden sm:flex"[39m
          [36m>[39m
            [0mView All[0m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-arrow-right h-4 w-4 ml-1"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M5 12h14"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"m12 5 7 7-7 7"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"hidden lg:block"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tailor-card-featured-0"[39m
              [36m>[39m
                [36m<h3 />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 text-white text-xs px-2 py-1 shadow-md bg-yellow-500"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-500"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-1"[39m
                  [36m>[39m
                    [0mTop Rated[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute top-2 left-2 z-10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent text-secondary-foreground hover:bg-secondary/80 text-xs bg-white/90"[39m
                [36m>[39m
                  [0mTop Rated[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"tailor-card-featured-1"[39m
              [36m>[39m
                [36m<h3 />[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute -top-2 -right-2 z-10"[39m
              [36m>[39m
                [36m<div[39m
                ...
[36m [2m❯[22m tests/unit/components/features/tailors/FeaturedTailors.test.tsx:[2m224:56[22m[39m
    [90m222| [39m        
    [90m223| [39m        [90m// Carousel controls should be present in DOM (may be hidden b[39m…
    [90m224| [39m        [34mexpect[39m(leftArrows[33m.[39mlength [33m+[39m rightArrows[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m…
    [90m   | [39m                                                       [31m^[39m
    [90m225| [39m      })[33m;[39m
    [90m226| [39m    })[33m;[39m
[90m [2m❯[22m runWithExpensiveErrorDiagnosticsDisabled ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m47:12[22m[39m
[90m [2m❯[22m checkCallback ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m124:77[22m[39m
[90m [2m❯[22m Timeout.checkRealTimersCallback ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m118:16[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[402/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/GroupOrderMessaging.test.tsx[2m > [22mGroupOrderMessaging[2m > [22mrenders with participants
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: 2 participants. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6 "[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-message-square h-5 w-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mGroup Order Messaging[0m
          [36m</h3>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
          [36m>[39m
            [0mCommunicate with all participants or send individual messages[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 pt-0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-users h-5 w-5 text-muted-foreground"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M16 3.128a4 4 0 0 1 0 7.744"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M22 21v-2a4 4 0 0 0-3-3.87"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"9"[39m
                  [33mcy[39m=[32m"7"[39m
                  [33mr[39m=[32m"4"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm"[39m
              [36m>[39m
                [36m<strong>[39m
                  [0m2[0m
                [36m</strong>[39m
                [0m participants[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-smartphone h-3 w-3 mr-1"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<rect[39m
                  [33mheight[39m=[32m"20"[39m
                  [33mrx[39m=[32m"2"[39m
                  [33mry[39m=[32m"2"[39m
                  [33mwidth[39m=[32m"14"[39m
                  [33mx[39m=[32m"5"[39m
                  [33my[39m=[32m"2"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 18h.01"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mWhatsApp Enabled[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mdata-orientation[39m=[32m"horizontal"[39m
        [33mdir[39m=[32m"ltr"[39m
      [36m>[39m
        [36m<div[39m
          [33maria-orientation[39m=[32m"horizontal"[39m
          [33mclass[39m=[32m"h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-2"[39m
          [33mdata-orientation[39m=[32m"horizontal"[39m
          [33mrole[39m=[32m"tablist"[39m
          [33mstyle[39m=[32m"outline-color: none; outline-style: none; outline-width: initial;"[39m
          [33mtabindex[39m=[32m"0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r0»-content-broadcast"[39m
            [33maria-selected[39m=[32m"true"[39m
            [33mclass[39m=[32m"justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm flex items-center gap-2"[39m
            [33mdata-orientation[39m=[32m"horizontal"[39m
            [33mdata-radix-collection-item[39m=[32m""[39m
            [33mdata-state[39m=[32m"active"[39m
            [33mid[39m=[32m"radix-«r0»-trigger-broadcast"[39m
            [33mrole[39m=[32m"tab"[39m
            [33mtabindex[39m=[32m"-1"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
         ...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/GroupOrderMessaging.test.tsx:[2m34:19[22m[39m
    [90m 32| [39m    
    [90m 33| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Group Order Messaging'[39m))[33m.[39m[34mtoBeInTheDocumen[39m…
    [90m 34| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'2 participants'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 35| [39m  })[33m;[39m
    [90m 36| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[403/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/GroupOrderMessaging.test.tsx[2m > [22mGroupOrderMessaging[2m > [22mshows recipient selector in individual mode
[31m[1mTestingLibraryElementError[22m[39m: Unable to find a label with the text of: /Select Recipient/i

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6 "[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-message-square h-5 w-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mGroup Order Messaging[0m
          [36m</h3>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
          [36m>[39m
            [0mCommunicate with all participants or send individual messages[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 pt-0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-users h-5 w-5 text-muted-foreground"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M16 3.128a4 4 0 0 1 0 7.744"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M22 21v-2a4 4 0 0 0-3-3.87"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"9"[39m
                  [33mcy[39m=[32m"7"[39m
                  [33mr[39m=[32m"4"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm"[39m
              [36m>[39m
                [36m<strong>[39m
                  [0m2[0m
                [36m</strong>[39m
                [0m participants[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-smartphone h-3 w-3 mr-1"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<rect[39m
                  [33mheight[39m=[32m"20"[39m
                  [33mrx[39m=[32m"2"[39m
                  [33mry[39m=[32m"2"[39m
                  [33mwidth[39m=[32m"14"[39m
                  [33mx[39m=[32m"5"[39m
                  [33my[39m=[32m"2"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 18h.01"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mWhatsApp Enabled[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mdata-orientation[39m=[32m"horizontal"[39m
        [33mdir[39m=[32m"ltr"[39m
      [36m>[39m
        [36m<div[39m
          [33maria-orientation[39m=[32m"horizontal"[39m
          [33mclass[39m=[32m"h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-2"[39m
          [33mdata-orientation[39m=[32m"horizontal"[39m
          [33mrole[39m=[32m"tablist"[39m
          [33mstyle[39m=[32m"outline-color: none; outline-style: none; outline-width: initial;"[39m
          [33mtabindex[39m=[32m"0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r9»-content-broadcast"[39m
            [33maria-selected[39m=[32m"true"[39m
            [33mclass[39m=[32m"justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm flex items-center gap-2"[39m
            [33mdata-orientation[39m=[32m"horizontal"[39m
            [33mdata-radix-collection-item[39m=[32m""[39m
            [33mdata-state[39m=[32m"active"[39m
            [33mid[39m=[32m"radix-«r9»-trigger-broadcast"[39m
            [33mrole[39m=[32m"tab"[39m
            [33mtabindex[39m=[32m"-1"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
         ...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getAllByLabelText ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/queries/label-text.js:[2m111:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/GroupOrderMessaging.test.tsx:[2m71:19[22m[39m
    [90m 69| [39m    fireEvent[33m.[39m[34mclick[39m(individualTab)[33m;[39m
    [90m 70| [39m    
    [90m 71| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByLabelText[39m([36m/Select Recipient/i[39m))[33m.[39m[34mtoBeInTheDocume[39m…
    [90m   | [39m                  [31m^[39m
    [90m 72| [39m  })[33m;[39m
    [90m 73| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[404/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/GroupOrderMessaging.test.tsx[2m > [22mGroupOrderMessaging[2m > [22mallows switching between WhatsApp and SMS
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the role "button" and name `/WhatsApp/i`

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<button[39m
  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2 flex-1"[39m
[36m>[39m
  [36m<svg[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"lucide lucide-smartphone h-4 w-4 mr-2"[39m
    [33mfill[39m=[32m"none"[39m
    [33mheight[39m=[32m"24"[39m
    [33mstroke[39m=[32m"currentColor"[39m
    [33mstroke-linecap[39m=[32m"round"[39m
    [33mstroke-linejoin[39m=[32m"round"[39m
    [33mstroke-width[39m=[32m"2"[39m
    [33mviewBox[39m=[32m"0 0 24 24"[39m
    [33mwidth[39m=[32m"24"[39m
    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
  [36m>[39m
    [36m<rect[39m
      [33mheight[39m=[32m"20"[39m
      [33mrx[39m=[32m"2"[39m
      [33mry[39m=[32m"2"[39m
      [33mwidth[39m=[32m"14"[39m
      [33mx[39m=[32m"5"[39m
      [33my[39m=[32m"2"[39m
    [36m/>[39m
    [36m<path[39m
      [33md[39m=[32m"M12 18h.01"[39m
    [36m/>[39m
  [36m</svg>[39m
  [0mWhatsApp[0m
[36m</button>[39m

Ignored nodes: comments, script, style
[36m<button[39m
  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8"[39m
  [33mdisabled[39m=[32m""[39m
[36m>[39m
  [36m<svg[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"lucide lucide-send h-4 w-4 mr-2"[39m
    [33mfill[39m=[32m"none"[39m
    [33mheight[39m=[32m"24"[39m
    [33mstroke[39m=[32m"currentColor"[39m
    [33mstroke-linecap[39m=[32m"round"[39m
    [33mstroke-linejoin[39m=[32m"round"[39m
    [33mstroke-width[39m=[32m"2"[39m
    [33mviewBox[39m=[32m"0 0 24 24"[39m
    [33mwidth[39m=[32m"24"[39m
    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
  [36m>[39m
    [36m<path[39m
      [33md[39m=[32m"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"[39m
    [36m/>[39m
    [36m<path[39m
      [33md[39m=[32m"m21.854 2.147-10.94 10.939"[39m
    [36m/>[39m
  [36m</svg>[39m
  [0mSend via WhatsApp[0m
[36m</button>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6 "[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold leading-none tracking-tight flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-message-square h-5 w-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mGroup Order Messaging[0m
          [36m</h3>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
          [36m>[39m
            [0mCommunicate with all participants or send individual messages[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 pt-0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-users h-5 w-5 text-muted-foreground"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M16 3.128a4 4 0 0 1 0 7.744"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M22 21v-2a4 4 0 0 0-3-3.87"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"9"[39m
                  [33mcy[39m=[32m"7"[39m
                  [33mr[39m=[32m"4"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm"[39m
              [36m>[39m
                [36m<strong>[39m
                  [0m2[0m
                [36m</strong>[39m
                [0m participants[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-smartphone h-3 w-3 mr-1"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<rect[39m
                  [33mheight[39m=[32m"20"[39m
                  [33mrx[39m=[32m"2"[39m
                  [33mry[39m=[32m"2"[39m
                  [33mwidth[39m=[32m"14"[39m
                  [33mx[39m=[32m"5"[39m
                  [33my[39m=[32m"2"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 18h.01"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mWhatsApp Enabled[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mdata-orientation[39m=[32m"horizontal"[39m
        [33mdir[39m=[32m"ltr"[39m
      [36m>[39m
        [36m<div[39m
          [33maria-orientation[39m=[32m"horizontal"[39m
          [33mclass[39m=[32m"h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-2"[39m
          [33mdata-orientation[39m=[32m"horizontal"[39m
          [33mrole[39m=[32m"tablist"[39m
          [33mstyle[39m=[32m"outline-color: none; outline-style: none; outline-width: initial;"[39m
          [33mtabindex[39m=[32m"0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«ri»-content-broadcast"[39m
            [33maria-selected[39m=[32m"true"[39m
            [33mclass[39m=[32m"justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm flex items-center gap-2"[39m
            [33mdata-orientation[39m=[32m"horizontal"[39m
            [33mdata-radix-collection-item[39m=[32m""[39m
            [33mdata-state[39m=[32m"active"[39m
            [33mid[39m=[32m"radix-«ri»-trigger-broadcast"[39m
            [33mrole[39m=[32m"tab"[39m
            [33mtabindex[39m=[32m"-1"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
         ...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/GroupOrderMessaging.test.tsx:[2m110:35[22m[39m
    [90m108| [39m    )[33m;[39m
    [90m109| [39m    
    [90m110| [39m    [35mconst[39m whatsappButton [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'button'[39m[33m,[39m { name[33m:[39m [36m/WhatsAp[39m…
    [90m   | [39m                                  [31m^[39m
    [90m111| [39m    [35mconst[39m smsButton [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'button'[39m[33m,[39m { name[33m:[39m [36m/SMS/i[39m })[33m;[39m
    [90m112| [39m    

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[405/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/GroupOrderMessaging.test.tsx[2m > [22mGroupOrderMessaging[2m > [22mrequires recipient selection for individual messages
[31m[1mError[22m: [2mexpect([22m[31melement[31m[2m).toBeDisabled()[22m

Received element is not disabled:
  [31m<button
  class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-10 rounded-md px-8"
/>[31m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/GroupOrderMessaging.test.tsx:[2m183:24[22m[39m
    [90m181| [39m    [90m// Should be disabled without recipient[39m
    [90m182| [39m    [35mconst[39m sendButton [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'button'[39m[33m,[39m { name[33m:[39m [36m/Send via/i[39m …
    [90m183| [39m    [34mexpect[39m(sendButton)[33m.[39m[34mtoBeDisabled[39m()[33m;[39m
    [90m   | [39m                       [31m^[39m
    [90m184| [39m  })[33m;[39m
    [90m185| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[406/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/ProductionSchedulePlanner.test.tsx[2m > [22mProductionSchedulePlanner[2m > [22mdisplays event date and days remaining
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: /30 days remaining/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6 "[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"font-semibold leading-none tracking-tight"[39m
              [36m>[39m
                [0mProduction Schedule Planner[0m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mOrganize production order and manage deadlines[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 text-sm px-3 py-1"[39m
            [36m>[39m
              [0m100[0m
              [0m% On Track[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 pt-0 space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground bg-background text-foreground"[39m
            [33mrole[39m=[32m"alert"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-calendar h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M8 2v4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 2v4"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"18"[39m
                [33mrx[39m=[32m"2"[39m
                [33mwidth[39m=[32m"18"[39m
                [33mx[39m=[32m"3"[39m
                [33my[39m=[32m"4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M3 10h18"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-sm [&_p]:leading-relaxed"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<span>[39m
                  [0mEvent Date: [0m
                  [36m<strong>[39m
                    [0mNovember 14, 2025[0m
                  [36m</strong>[39m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
                [36m>[39m
                  [0m29[0m
                  [0m days remaining[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-refresh-cw h-4 w-4 mr-2"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 3v5h-5"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M8 16H3v5"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mRecalculate Dates[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"tracking-tight text-sm font-medium"[39m
          [36m>[39m
            [0mSchedule Health[0m
          [36m</h3>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 pt-0"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"100"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33mclass[39m=[32m"relative w-full overflow-hidden rounded-full h-3 bg-green-100"[39m
            [33mdata-max[39m=[32m"100"[39m
            [33mdata-state[39m=[32m"indeterminate"[39m
            [33mrole[39m=[32m"progressbar"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-full w-full flex-1 bg-primary transi...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/ProductionSchedulePlanner.test.tsx:[2m59:19[22m[39m
    [90m 57| [39m    
    [90m 58| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/Event Date:/i[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m 59| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/30 days remaining/i[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m 60| [39m  })[33m;[39m
    [90m 61| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[407/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/ProductionSchedulePlanner.test.tsx[2m > [22mProductionSchedulePlanner[2m > [22mdisplays production timeline visualization
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: /Event Date/i

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<span>[39m
  [0mEvent Date: [0m
  [36m<strong>[39m
    [0mNovember 14, 2025[0m
  [36m</strong>[39m
[36m</span>[39m

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"font-bold text-green-600"[39m
[36m>[39m
  [0mEvent Date[0m
[36m</p>[39m

Ignored nodes: comments, script, style
[36m<span>[39m
  [0mAllow buffer time before event date for final adjustments[0m
[36m</span>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6 "[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"font-semibold leading-none tracking-tight"[39m
              [36m>[39m
                [0mProduction Schedule Planner[0m
              [36m</h3>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
              [36m>[39m
                [0mOrganize production order and manage deadlines[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"inline-flex items-center rounded-full border font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 text-sm px-3 py-1"[39m
            [36m>[39m
              [0m100[0m
              [0m% On Track[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 pt-0 space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground bg-background text-foreground"[39m
            [33mrole[39m=[32m"alert"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-calendar h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M8 2v4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 2v4"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"18"[39m
                [33mrx[39m=[32m"2"[39m
                [33mwidth[39m=[32m"18"[39m
                [33mx[39m=[32m"3"[39m
                [33my[39m=[32m"4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M3 10h18"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-sm [&_p]:leading-relaxed"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<span>[39m
                  [0mEvent Date: [0m
                  [36m<strong>[39m
                    [0mNovember 14, 2025[0m
                  [36m</strong>[39m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
                [36m>[39m
                  [0m29[0m
                  [0m days remaining[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex gap-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-refresh-cw h-4 w-4 mr-2"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 3v5h-5"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M8 16H3v5"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mRecalculate Dates[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col space-y-1.5 p-6"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"tracking-tight text-sm font-medium"[39m
          [36m>[39m
            [0mSchedule Health[0m
          [36m</h3>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 pt-0"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-valuemax[39m=[32m"100"[39m
            [33maria-valuemin[39m=[32m"0"[39m
            [33mclass[39m=[32m"relative w-full overflow-hidden rounded-full h-3 bg-green-100"[39m
            [33mdata-max[39m=[32m"100"[39m
            [33mdata-state[39m=[32m"indeterminate"[39m
            [33mrole[39m=[32m"progressbar"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-full w-full flex-1 bg-primary transi...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/ProductionSchedulePlanner.test.tsx:[2m170:19[22m[39m
    [90m168| [39m    
    [90m169| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Production Timeline'[39m))[33m.[39m[34mtoBeInTheDocument[39m(…
    [90m170| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/Event Date/i[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m171| [39m  })[33m;[39m
    [90m172| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[408/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/SavedSearches.test.tsx[2m > [22mSavedSearches[2m > [22mSaved Searches List[2m > [22mshould render filter summary
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: /2 fabrics • 1 styles • 7-14 days/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4 hover:shadow-md transition-shadow"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-start justify-between gap-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 min-w-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"font-semibold text-gray-900 truncate"[39m
                [36m>[39m
                  [0mWedding Tailors in Accra[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 flex items-center gap-1 text-xs"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-bell h-3 w-3"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M10.268 21a2 2 0 0 0 3.464 0"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mWeekly[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-600 mb-3 truncate"[39m
              [36m>[39m
                [0m"wedding" • Accra • ★ 4+ • 2 occasions[0m
              [36m</p>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-4 text-xs text-gray-500"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"flex items-center gap-1"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-calendar h-3 w-3"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M8 2v4"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M16 2v4"[39m
                    [36m/>[39m
                    [36m<rect[39m
                      [33mheight[39m=[32m"18"[39m
                      [33mrx[39m=[32m"2"[39m
                      [33mwidth[39m=[32m"18"[39m
                      [33mx[39m=[32m"3"[39m
                      [33my[39m=[32m"4"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M3 10h18"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mCreated [0m
                  [0m2 days ago[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"flex items-center gap-1"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-clock h-3 w-3"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 6v6l4 2"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"12"[39m
                      [33mcy[39m=[32m"12"[39m
                      [33mr[39m=[32m"10"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mNotified [0m
                  [0m2 days ago[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-1 flex-shrink-0"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs"[39m
                [33mtitle[39m=[32m"Load search"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-search h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
    ...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/SavedSearches.test.tsx:[2m162:21[22m[39m
    [90m160| [39m
    [90m161| [39m      [90m// Second search summary[39m
    [90m162| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/2 fabrics • 1 styles • 7-14 days/[39m))[33m.[39m[34mtoB[39m…
    [90m   | [39m                    [31m^[39m
    [90m163| [39m    })[33m;[39m
    [90m164| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[409/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/SavedSearches.test.tsx[2m > [22mSavedSearches[2m > [22mSaved Searches List[2m > [22mshould show creation and notification timestamps
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: /Created 2 days ago/

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<span[39m
  [33mclass[39m=[32m"flex items-center gap-1"[39m
[36m>[39m
  [36m<svg[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"lucide lucide-calendar h-3 w-3"[39m
    [33mfill[39m=[32m"none"[39m
    [33mheight[39m=[32m"24"[39m
    [33mstroke[39m=[32m"currentColor"[39m
    [33mstroke-linecap[39m=[32m"round"[39m
    [33mstroke-linejoin[39m=[32m"round"[39m
    [33mstroke-width[39m=[32m"2"[39m
    [33mviewBox[39m=[32m"0 0 24 24"[39m
    [33mwidth[39m=[32m"24"[39m
    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
  [36m>[39m
    [36m<path[39m
      [33md[39m=[32m"M8 2v4"[39m
    [36m/>[39m
    [36m<path[39m
      [33md[39m=[32m"M16 2v4"[39m
    [36m/>[39m
    [36m<rect[39m
      [33mheight[39m=[32m"18"[39m
      [33mrx[39m=[32m"2"[39m
      [33mwidth[39m=[32m"18"[39m
      [33mx[39m=[32m"3"[39m
      [33my[39m=[32m"4"[39m
    [36m/>[39m
    [36m<path[39m
      [33md[39m=[32m"M3 10h18"[39m
    [36m/>[39m
  [36m</svg>[39m
  [0mCreated [0m
  [0m2 days ago[0m
[36m</span>[39m

Ignored nodes: comments, script, style
[36m<span[39m
  [33mclass[39m=[32m"flex items-center gap-1"[39m
[36m>[39m
  [36m<svg[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"lucide lucide-calendar h-3 w-3"[39m
    [33mfill[39m=[32m"none"[39m
    [33mheight[39m=[32m"24"[39m
    [33mstroke[39m=[32m"currentColor"[39m
    [33mstroke-linecap[39m=[32m"round"[39m
    [33mstroke-linejoin[39m=[32m"round"[39m
    [33mstroke-width[39m=[32m"2"[39m
    [33mviewBox[39m=[32m"0 0 24 24"[39m
    [33mwidth[39m=[32m"24"[39m
    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
  [36m>[39m
    [36m<path[39m
      [33md[39m=[32m"M8 2v4"[39m
    [36m/>[39m
    [36m<path[39m
      [33md[39m=[32m"M16 2v4"[39m
    [36m/>[39m
    [36m<rect[39m
      [33mheight[39m=[32m"18"[39m
      [33mrx[39m=[32m"2"[39m
      [33mwidth[39m=[32m"18"[39m
      [33mx[39m=[32m"3"[39m
      [33my[39m=[32m"4"[39m
    [36m/>[39m
    [36m<path[39m
      [33md[39m=[32m"M3 10h18"[39m
    [36m/>[39m
  [36m</svg>[39m
  [0mCreated [0m
  [0m2 days ago[0m
[36m</span>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow p-4 hover:shadow-md transition-shadow"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-start justify-between gap-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 min-w-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"font-semibold text-gray-900 truncate"[39m
                [36m>[39m
                  [0mWedding Tailors in Accra[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground hover:bg-primary/80 flex items-center gap-1 text-xs"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-bell h-3 w-3"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M10.268 21a2 2 0 0 0 3.464 0"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mWeekly[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-600 mb-3 truncate"[39m
              [36m>[39m
                [0m"wedding" • Accra • ★ 4+ • 2 occasions[0m
              [36m</p>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-4 text-xs text-gray-500"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"flex items-center gap-1"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-calendar h-3 w-3"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M8 2v4"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M16 2v4"[39m
                    [36m/>[39m
                    [36m<rect[39m
                      [33mheight[39m=[32m"18"[39m
                      [33mrx[39m=[32m"2"[39m
                      [33mwidth[39m=[32m"18"[39m
                      [33mx[39m=[32m"3"[39m
                      [33my[39m=[32m"4"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M3 10h18"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mCreated [0m
                  [0m2 days ago[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"flex items-center gap-1"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-clock h-3 w-3"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 6v6l4 2"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"12"[39m
                      [33mcy[39m=[32m"12"[39m
                      [33mr[39m=[32m"10"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mNotified [0m
                  [0m2 days ago[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-1 flex-shrink-0"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs"[39m
                [33mtitle[39m=[32m"Load search"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-search h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
    ...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/SavedSearches.test.tsx:[2m170:21[22m[39m
    [90m168| [39m      [34mrender[39m([33m<[39m[33mSavedSearches[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m169| [39m
    [90m170| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/Created 2 days ago/[39m))[33m.[39m[34mtoBeInTheDocument[39m…
    [90m   | [39m                    [31m^[39m
    [90m171| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/Notified 2 days ago/[39m))[33m.[39m[34mtoBeInTheDocumen[39m…
    [90m172| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[410/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/SavedSearches.test.tsx[2m > [22mSavedSearches[2m > [22mDelete Action[2m > [22mshould close dialog when cancel is clicked
[31m[1mError[22m: [2mexpect([22m[31melement[31m[2m).not.toBeInTheDocument()[22m

[31mexpected document not to contain element, found <h2
  class="text-lg font-semibold leading-none tracking-tight"
  id="radix-«r1b»"
>
  Delete Saved Search?
</h2> instead[31m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/SavedSearches.test.tsx:[2m371:62[22m[39m
    [90m369| [39m      fireEvent[33m.[39m[34mclick[39m(cancelButton)[33m;[39m
    [90m370| [39m
    [90m371| [39m      [34mexpect[39m(screen[33m.[39m[34mqueryByText[39m([32m'Delete Saved Search?'[39m))[33m.[39mnot[33m.[39m[34mtoBeInThe[39m…
    [90m   | [39m                                                             [31m^[39m
    [90m372| [39m      [34mexpect[39m(mockDeleteSavedSearch)[33m.[39mnot[33m.[39m[34mtoHaveBeenCalled[39m()[33m;[39m
    [90m373| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[411/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/SaveSearchDialog.test.tsx[2m > [22mSaveSearchDialog[2m > [22mRendering[2m > [22mshould render dialog when open
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: Save Search

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<h2[39m
  [33mclass[39m=[32m"text-lg font-semibold leading-none tracking-tight flex items-center gap-2"[39m
  [33mid[39m=[32m"radix-«r1»"[39m
[36m>[39m
  [36m<svg[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"lucide lucide-heart h-5 w-5 text-red-500"[39m
    [33mfill[39m=[32m"none"[39m
    [33mheight[39m=[32m"24"[39m
    [33mstroke[39m=[32m"currentColor"[39m
    [33mstroke-linecap[39m=[32m"round"[39m
    [33mstroke-linejoin[39m=[32m"round"[39m
    [33mstroke-width[39m=[32m"2"[39m
    [33mviewBox[39m=[32m"0 0 24 24"[39m
    [33mwidth[39m=[32m"24"[39m
    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
  [36m>[39m
    [36m<path[39m
      [33md[39m=[32m"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"[39m
    [36m/>[39m
  [36m</svg>[39m
  [0mSave Search[0m
[36m</h2>[39m

Ignored nodes: comments, script, style
[36m<button[39m
  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2"[39m
  [33mdisabled[39m=[32m""[39m
[36m>[39m
  [36m<svg[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"lucide lucide-heart h-4 w-4 mr-2"[39m
    [33mfill[39m=[32m"none"[39m
    [33mheight[39m=[32m"24"[39m
    [33mstroke[39m=[32m"currentColor"[39m
    [33mstroke-linecap[39m=[32m"round"[39m
    [33mstroke-linejoin[39m=[32m"round"[39m
    [33mstroke-width[39m=[32m"2"[39m
    [33mviewBox[39m=[32m"0 0 24 24"[39m
    [33mwidth[39m=[32m"24"[39m
    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
  [36m>[39m
    [36m<path[39m
      [33md[39m=[32m"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"[39m
    [36m/>[39m
  [36m</svg>[39m
  [0mSave Search[0m
[36m</button>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"opacity: 0; position: fixed; pointer-events: none; outline-color: none; outline-style: none; outline-width: initial;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-describedby[39m=[32m"radix-«r2»"[39m
    [33maria-labelledby[39m=[32m"radix-«r1»"[39m
    [33mclass[39m=[32m"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg sm:max-w-md"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mid[39m=[32m"radix-«r0»"[39m
    [33mrole[39m=[32m"dialog"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
    [33mtabindex[39m=[32m"-1"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col space-y-1.5 text-center sm:text-left"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-lg font-semibold leading-none tracking-tight flex items-center gap-2"[39m
        [33mid[39m=[32m"radix-«r1»"[39m
      [36m>[39m
        [36m<svg[39m
          [33maria-hidden[39m=[32m"true"[39m
          [33mclass[39m=[32m"lucide lucide-heart h-5 w-5 text-red-500"[39m
          [33mfill[39m=[32m"none"[39m
          [33mheight[39m=[32m"24"[39m
          [33mstroke[39m=[32m"currentColor"[39m
          [33mstroke-linecap[39m=[32m"round"[39m
          [33mstroke-linejoin[39m=[32m"round"[39m
          [33mstroke-width[39m=[32m"2"[39m
          [33mviewBox[39m=[32m"0 0 24 24"[39m
          [33mwidth[39m=[32m"24"[39m
          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
        [36m>[39m
          [36m<path[39m
            [33md[39m=[32m"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"[39m
          [36m/>[39m
        [36m</svg>[39m
        [0mSave Search[0m
      [36m</h2>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
        [33mid[39m=[32m"radix-«r2»"[39m
      [36m>[39m
        [0mSave your search criteria and get notified when new matching tailors join the platform.[0m
      [36m</p>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-4 py-4"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-2"[39m
      [36m>[39m
        [36m<label[39m
          [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
          [33mfor[39m=[32m"name"[39m
        [36m>[39m
          [0mSearch Name [0m
          [36m<span[39m
            [33mclass[39m=[32m"text-red-500"[39m
          [36m>[39m
            [0m*[0m
          [36m</span>[39m
        [36m</label>[39m
        [36m<input[39m
          [33mclass[39m=[32m"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"[39m
          [33mid[39m=[32m"name"[39m
          [33mmaxlength[39m=[32m"100"[39m
          [33mplaceholder[39m=[32m"e.g., Wedding Tailors in Accra"[39m
          [33mvalue[39m=[32m""[39m
        [36m/>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-xs text-gray-600"[39m
        [36m>[39m
          [0mGive your search a memorable name[0m
        [36m</p>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-center justify-between p-3 bg-gray-50 rounded-lg"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-3"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-bell h-5 w-5 text-blue-600"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M10.268 21a2 2 0 0 0 3.464 0"[39m
            [36m/>[39m
            [36m<path[39m
              [33md[39m=[32m"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"font-medium text-sm"[39m
            [36m>[39m
              [0mEnable Alerts[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-gray-600"[39m
            [36m>[39m
              [0mGet notified about new matching tailors[0m
            [36m</p>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<button[39m
          [33maria-checked[39m=[32m"true"[39m
          [33mclass[39m=[32m"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/SaveSearchDialog.test.tsx:[2m46:21[22m[39m
    [90m 44| [39m      )[33m;[39m
    [90m 45| [39m
    [90m 46| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Save Search'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m 47| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/Save your search criteria and get notif[39m…
    [90m 48| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[412/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/SaveSearchDialog.test.tsx[2m > [22mSaveSearchDialog[2m > [22mForm Interactions[2m > [22mshould change alert frequency when option is selected
[31m[1mTypeError[22m: resizeObserver.observe is not a function[39m
[90m [2m❯[22m autoUpdate ../../node_modules/.pnpm/@floating-ui+dom@1.7.3/node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs:[2m628:22[22m[39m
[90m [2m❯[22m Object.whileElementsMounted [as current] ../../node_modules/.pnpm/@radix-ui+react-popper@1.2.8_@types+react-dom@19.1.7_@types+react@19.1.9_react-dom@19.1.0_react@19.1.0/node_modules/@radix-ui/react-popper/src/popper.tsx:[2m184:25[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@floating-ui+react-dom@2.1.5_react-dom@19.1.0_react@19.1.0/node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs:[2m189:40[22m[39m
[90m [2m❯[22m Object.react-stack-bottom-frame ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m23949:20[22m[39m
[90m [2m❯[22m runWithFiberInDEV ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m1522:13[22m[39m
[90m [2m❯[22m commitHookEffectListMount ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m11905:29[22m[39m
[90m [2m❯[22m commitHookLayoutEffects ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m11857:11[22m[39m
[90m [2m❯[22m commitLayoutEffectOnFiber ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m12613:13[22m[39m
[90m [2m❯[22m recursivelyTraverseLayoutEffects ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m13590:11[22m[39m
[90m [2m❯[22m commitLayoutEffectOnFiber ../../node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m12611:11[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[413/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/SaveSearchDialog.test.tsx[2m > [22mSaveSearchDialog[2m > [22mSave Functionality[2m > [22mshould show alert when name is empty
[31m[1mAssertionError[22m[39m: expected "get" to be called with arguments: [ Array(1) ][90m

Received: 

[39m[90m

Number of calls: [1m0[22m
[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body[39m
    [33mdata-scroll-locked[39m=[32m"1"[39m
    [33mstyle[39m=[32m"pointer-events: none;"[39m
  [36m>[39m
    [36m<span[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
      [33mdata-radix-focus-guard[39m=[32m""[39m
      [33mstyle[39m=[32m"opacity: 0; position: fixed; pointer-events: none; outline-color: none; outline-style: none; outline-width: initial;"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m/>[39m
    [36m<div[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
    [36m/>[39m
    [36m<div[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mclass[39m=[32m"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"[39m
      [33mdata-aria-hidden[39m=[32m"true"[39m
      [33mdata-state[39m=[32m"open"[39m
      [33mstyle[39m=[32m"pointer-events: auto;"[39m
    [36m/>[39m
    [36m<div[39m
      [33maria-describedby[39m=[32m"radix-«r27»"[39m
      [33maria-labelledby[39m=[32m"radix-«r26»"[39m
      [33mclass[39m=[32m"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg sm:max-w-md"[39m
      [33mdata-state[39m=[32m"open"[39m
      [33mid[39m=[32m"radix-«r25»"[39m
      [33mrole[39m=[32m"dialog"[39m
      [33mstyle[39m=[32m"pointer-events: auto;"[39m
      [33mtabindex[39m=[32m"-1"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex flex-col space-y-1.5 text-center sm:text-left"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-lg font-semibold leading-none tracking-tight flex items-center gap-2"[39m
          [33mid[39m=[32m"radix-«r26»"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-heart h-5 w-5 text-red-500"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"[39m
            [36m/>[39m
          [36m</svg>[39m
          [0mSave Search[0m
        [36m</h2>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
          [33mid[39m=[32m"radix-«r27»"[39m
        [36m>[39m
          [0mSave your search criteria and get notified when new matching tailors join the platform.[0m
        [36m</p>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-4 py-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-2"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"[39m
            [33mfor[39m=[32m"name"[39m
          [36m>[39m
            [0mSearch Name [0m
            [36m<span[39m
              [33mclass[39m=[32m"text-red-500"[39m
            [36m>[39m
              [0m*[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<input[39m
            [33mclass[39m=[32m"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"[39m
            [33mid[39m=[32m"name"[39m
            [33mmaxlength[39m=[32m"100"[39m
            [33mplaceholder[39m=[32m"e.g., Wedding Tailors in Accra"[39m
            [33mvalue[39m=[32m""[39m
          [36m/>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-xs text-gray-600"[39m
          [36m>[39m
            [0mGive your search a memorable name[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between p-3 bg-gray-50 rounded-lg"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-3"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-bell h-5 w-5 text-blue-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M10.268 21a2 2 0 0 0 3.464 0"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"font-medium text-sm"[39m
              [36m>[39m
                [0mEnable Alerts[0m
              [36m</p>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-gray-600"[39m
              [36m>[39m
                [0mGet notified about new matching tailors[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<button[39m
            [33maria-checked[39m=[32m"true"[39m
            [33mcl...
[36m [2m❯[22m tests/unit/components/features/tailors/SaveSearchDialog.test.tsx:[2m244:26[22m[39m
    [90m242| [39m
    [90m243| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m244| [39m        [34mexpect[39m(alertSpy)[33m.[39m[34mtoHaveBeenCalledWith[39m([32m'Please enter a name for[39m…
    [90m   | [39m                         [31m^[39m
    [90m245| [39m        [34mexpect[39m(mockCreateSavedSearch)[33m.[39mnot[33m.[39m[34mtoHaveBeenCalled[39m()[33m;[39m
    [90m246| [39m      })[33m;[39m
[90m [2m❯[22m runWithExpensiveErrorDiagnosticsDisabled ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m47:12[22m[39m
[90m [2m❯[22m checkCallback ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m124:77[22m[39m
[90m [2m❯[22m Timeout.checkRealTimersCallback ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m118:16[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[414/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorCard.test.tsx[2m > [22mTailorCard[2m > [22mBasic Rendering[2m > [22mshould render placeholder when no profile photo
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: Kente Designs Ltd

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"text-sm text-blue-600 font-medium"[39m
[36m>[39m
  [0mKente Designs Ltd[0m
[36m</p>[39m

Ignored nodes: comments, script, style
[36m<h3[39m
  [33mclass[39m=[32m"font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"[39m
[36m>[39m
  [0mKente Designs Ltd[0m
[36m</h3>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow group cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-1"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"relative"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full h-48 bg-gradient-to-br from-blue-50 to-blue-100 rounded-t-lg flex items-center justify-center"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"text-center"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-16 h-16 mx-auto mb-2 bg-blue-200 rounded-full flex items-center justify-center"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-map-pin h-8 w-8 text-blue-600"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"10"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-blue-600 font-medium"[39m
            [36m>[39m
              [0mKente Designs Ltd[0m
            [36m</p>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"absolute top-2 right-2"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"variant-ghost size-sm"[39m
            [33mdata-testid[39m=[32m"favorite-button-tailor-1"[39m
          [36m>[39m
            [0mFavorite [0m
            [0mKente Designs Ltd[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"absolute top-2 left-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 bg-green-600 text-white text-xs"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle-check-big h-3 w-3 mr-1"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"m9 11 3 3L22 4"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mVerified[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mb-3"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"[39m
          [36m>[39m
            [0mKente Designs Ltd[0m
          [36m</h3>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2 mt-1"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-1"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
              [36m>[39m
                [0m4.8[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm text-gray-500"[39m
              [36m>[39m
                [0m([0m
                [0m25[0m
                [0m)[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-xs text-green-600 border-green-200"[39m
            [36m>[39m
              [0mFast Response[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-1 mb-3"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorCard.test.tsx:[2m102:21[22m[39m
    [90m100| [39m
    [90m101| [39m      [90m// Should show business name in placeholder[39m
    [90m102| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Kente Designs Ltd'[39m))[33m.[39m[34mtoBeInTheDocument[39m(…
    [90m   | [39m                    [31m^[39m
    [90m103| [39m      [90m// Should not have img tag[39m
    [90m104| [39m      [34mexpect[39m(screen[33m.[39m[34mqueryByAltText[39m([32m'Kente Designs Ltd'[39m))[33m.[39mnot[33m.[39m[34mtoBeInThe[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[415/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorCard.test.tsx[2m > [22mTailorCard[2m > [22mBasic Rendering[2m > [22mshould display specializations with limit
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: +1

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-xs text-gray-500"[39m
[36m>[39m
  [0m+[0m
  [0m1[0m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<span[39m
  [33mclass[39m=[32m"text-xs text-gray-600"[39m
[36m>[39m
  [0m+[0m
  [0m1[0m
[36m</span>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow group cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-1"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"relative"[39m
      [36m>[39m
        [36m<img[39m
          [33malt[39m=[32m"Kente Designs Ltd"[39m
          [33mclass[39m=[32m"w-full h-48 object-cover rounded-t-lg"[39m
          [33msrc[39m=[32m"https://example.com/profile.jpg"[39m
        [36m/>[39m
        [36m<div[39m
          [33mclass[39m=[32m"absolute top-2 right-2"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"variant-ghost size-sm"[39m
            [33mdata-testid[39m=[32m"favorite-button-tailor-1"[39m
          [36m>[39m
            [0mFavorite [0m
            [0mKente Designs Ltd[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"absolute top-2 left-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 bg-green-600 text-white text-xs"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle-check-big h-3 w-3 mr-1"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"m9 11 3 3L22 4"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mVerified[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mb-3"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"[39m
          [36m>[39m
            [0mKente Designs Ltd[0m
          [36m</h3>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2 mt-1"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-1"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
              [36m>[39m
                [0m4.8[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm text-gray-500"[39m
              [36m>[39m
                [0m([0m
                [0m25[0m
                [0m)[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-xs text-green-600 border-green-200"[39m
            [36m>[39m
              [0mFast Response[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-1 mb-3"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-map-pin h-4 w-4 text-gray-400"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
            [36m/>[39m
            [36m<circle[39m
              [33mcx[39m=[32m"12"[39m
              [33mcy[39m=[32m"10"[39m
              [33mr[39m=[32m"3"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
          [36m>[39m
            [0mAccra[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-gray-400"[39m
          [36m>[39m
            [0m•[0m
          [36m</span>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-clock h-4 w-4 text-gray-400"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-li...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorCard.test.tsx:[2m116:21[22m[39m
    [90m114| [39m      
    [90m115| [39m      [90m// Should show "+1" for remaining[39m
    [90m116| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'+1'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m117| [39m      [34mexpect[39m(screen[33m.[39m[34mqueryByText[39m([32m'Casual Wear'[39m))[33m.[39mnot[33m.[39m[34mtoBeInTheDocument[39m(…
    [90m118| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[416/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorCard.test.tsx[2m > [22mTailorCard[2m > [22mSelection State[2m > [22mshould apply selected styling when isSelected is true
[31m[1mError[22m: [2mexpect([22m[31mreceived[31m[2m).toHaveClass()[22m

[31mreceived[31m value must be an HTMLElement or an SVGElement.
[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorCard.test.tsx:[2m153:20[22m[39m
    [90m151| [39m
    [90m152| [39m      [35mconst[39m card [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'button'[39m[33m,[39m { name[33m:[39m [36m/kente designs l[39m…
    [90m153| [39m      [34mexpect[39m(card)[33m.[39m[34mtoHaveClass[39m([32m'ring-2'[39m[33m,[39m [32m'ring-blue-500'[39m)[33m;[39m
    [90m   | [39m                   [31m^[39m
    [90m154| [39m    })[33m;[39m
    [90m155| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[417/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorCard.test.tsx[2m > [22mTailorCard[2m > [22mSelection State[2m > [22mshould not apply selected styling when isSelected is false
[31m[1mError[22m: [2mexpect([22m[31mreceived[31m[2m).not.toHaveClass()[22m

[31mreceived[31m value must be an HTMLElement or an SVGElement.
[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorCard.test.tsx:[2m160:24[22m[39m
    [90m158| [39m
    [90m159| [39m      [35mconst[39m card [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'button'[39m[33m,[39m { name[33m:[39m [36m/kente designs l[39m…
    [90m160| [39m      [34mexpect[39m(card)[33m.[39mnot[33m.[39m[34mtoHaveClass[39m([32m'ring-2'[39m[33m,[39m [32m'ring-blue-500'[39m)[33m;[39m
    [90m   | [39m                       [31m^[39m
    [90m161| [39m    })[33m;[39m
    [90m162| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[418/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorCard.test.tsx[2m > [22mTailorCard[2m > [22mAction Buttons[2m > [22mshould handle contact button click with WhatsApp
[31m[1mAssertionError[22m: expected "spy" to be called with arguments: [ StringContaining{…}, '_blank' ][90m

Received: 

[1m  1st spy call:

[22m[2m  Array [[22m
[32m-   StringContaining "https://wa.me/233501234567",[90m
[31m+   "/tailors/tailor-1",[90m
[2m    "_blank",[22m
[2m  ][22m
[31m[90m

Number of calls: [1m1[22m
[31m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorCard.test.tsx:[2m228:30[22m[39m
    [90m226| [39m      fireEvent[33m.[39m[34mclick[39m(contactButton)[33m;[39m
    [90m227| [39m
    [90m228| [39m      [34mexpect[39m(mockWindowOpen)[33m.[39m[34mtoHaveBeenCalledWith[39m(
    [90m   | [39m                             [31m^[39m
    [90m229| [39m        expect[33m.[39m[34mstringContaining[39m([32m'https://wa.me/233501234567'[39m)[33m,[39m
    [90m230| [39m        [32m'_blank'[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[419/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorCard.test.tsx[2m > [22mTailorCard[2m > [22mAction Buttons[2m > [22mshould handle contact button click without WhatsApp
[31m[1mAssertionError[22m: expected "spy" to not be called at all, but actually been called 1 times[90m

Received: 

[1m  1st spy call:

[22m    Array [
      "/tailors/tailor-1",
      "_blank",
    ]
[31m[90m

Number of calls: [1m1[22m
[31m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorCard.test.tsx:[2m251:34[22m[39m
    [90m249| [39m
    [90m250| [39m      [34mexpect[39m(consoleSpy)[33m.[39m[34mtoHaveBeenCalledWith[39m([32m'Contact tailor:'[39m[33m,[39m [32m'tail[39m…
    [90m251| [39m      [34mexpect[39m(mockWindowOpen)[33m.[39mnot[33m.[39m[34mtoHaveBeenCalled[39m()[33m;[39m
    [90m   | [39m                                 [31m^[39m
    [90m252| [39m      
    [90m253| [39m      consoleSpy[33m.[39m[34mmockRestore[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[420/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorCard.test.tsx[2m > [22mTailorCard[2m > [22mHover Effects[2m > [22mshould show portfolio images on hover
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: +1

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-xs text-gray-500"[39m
[36m>[39m
  [0m+[0m
  [0m1[0m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<span[39m
  [33mclass[39m=[32m"text-xs text-gray-600"[39m
[36m>[39m
  [0m+[0m
  [0m1[0m
[36m</span>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow group cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-1"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"relative"[39m
      [36m>[39m
        [36m<img[39m
          [33malt[39m=[32m"Kente Designs Ltd"[39m
          [33mclass[39m=[32m"w-full h-48 object-cover rounded-t-lg"[39m
          [33msrc[39m=[32m"https://example.com/profile.jpg"[39m
        [36m/>[39m
        [36m<div[39m
          [33mclass[39m=[32m"absolute top-2 right-2"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"variant-ghost size-sm"[39m
            [33mdata-testid[39m=[32m"favorite-button-tailor-1"[39m
          [36m>[39m
            [0mFavorite [0m
            [0mKente Designs Ltd[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"absolute top-2 left-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 bg-green-600 text-white text-xs"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle-check-big h-3 w-3 mr-1"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"m9 11 3 3L22 4"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mVerified[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mb-3"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"[39m
          [36m>[39m
            [0mKente Designs Ltd[0m
          [36m</h3>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2 mt-1"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-1"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
              [36m>[39m
                [0m4.8[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm text-gray-500"[39m
              [36m>[39m
                [0m([0m
                [0m25[0m
                [0m)[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-xs text-green-600 border-green-200"[39m
            [36m>[39m
              [0mFast Response[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-1 mb-3"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-map-pin h-4 w-4 text-gray-400"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
            [36m/>[39m
            [36m<circle[39m
              [33mcx[39m=[32m"12"[39m
              [33mcy[39m=[32m"10"[39m
              [33mr[39m=[32m"3"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
          [36m>[39m
            [0mAccra[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-gray-400"[39m
          [36m>[39m
            [0m•[0m
          [36m</span>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-clock h-4 w-4 text-gray-400"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-li...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow group cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-1"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"relative"[39m
        [36m>[39m
          [36m<img[39m
            [33malt[39m=[32m"Kente Designs Ltd"[39m
            [33mclass[39m=[32m"w-full h-48 object-cover rounded-t-lg"[39m
            [33msrc[39m=[32m"https://example.com/profile.jpg"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute top-2 right-2"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"variant-ghost size-sm"[39m
              [33mdata-testid[39m=[32m"favorite-button-tailor-1"[39m
            [36m>[39m
              [0mFavorite [0m
              [0mKente Designs Ltd[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute top-2 left-2"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 bg-green-600 text-white text-xs"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-circle-check-big h-3 w-3 mr-1"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m9 11 3 3L22 4"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mVerified[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-3"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"[39m
            [36m>[39m
              [0mKente Designs Ltd[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 mt-1"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                [36m>[39m
                  [0m4.8[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-sm text-gray-500"[39m
                [36m>[39m
                  [0m([0m
                  [0m25[0m
                  [0m)[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-xs text-green-600 border-green-200"[39m
              [36m>[39m
                [0mFast Response[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-1 mb-3"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-map-pin h-4 w-4 text-gray-400"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"10"[39m
                [33mr[39m=[32m"3"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [36m>[39m
              [0mAccra[0m
            [36m</span>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-gray-400"[39m
            [36m>[39m
              [0m•[0m
            [36m</span>[39m
            [36m<svg[39m
              [33maria-hidden...
[90m [2m❯[22m Proxy.waitForWrapper ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorCard.test.tsx:[2m301:13[22m[39m
    [90m299| [39m      fireEvent[33m.[39m[34mmouseEnter[39m(card)[33m;[39m
    [90m300| [39m
    [90m301| [39m      [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m            [31m^[39m
    [90m302| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Portfolio:'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m303| [39m        [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'+1'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m [90m// Shows +[39m…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[421/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorCard.test.tsx[2m > [22mTailorCard[2m > [22mAccessibility[2m > [22mshould have proper ARIA attributes
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the role "button"

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<button[39m
  [33mclass[39m=[32m"variant-ghost size-sm"[39m
  [33mdata-testid[39m=[32m"favorite-button-tailor-1"[39m
[36m>[39m
  [0mFavorite [0m
  [0mKente Designs Ltd[0m
[36m</button>[39m

Ignored nodes: comments, script, style
[36m<button[39m
  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 rounded-md px-3 flex-1 h-8 text-xs"[39m
[36m>[39m
  [36m<svg[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"lucide lucide-external-link h-3 w-3 mr-1"[39m
    [33mfill[39m=[32m"none"[39m
    [33mheight[39m=[32m"24"[39m
    [33mstroke[39m=[32m"currentColor"[39m
    [33mstroke-linecap[39m=[32m"round"[39m
    [33mstroke-linejoin[39m=[32m"round"[39m
    [33mstroke-width[39m=[32m"2"[39m
    [33mviewBox[39m=[32m"0 0 24 24"[39m
    [33mwidth[39m=[32m"24"[39m
    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
  [36m>[39m
    [36m<path[39m
      [33md[39m=[32m"M15 3h6v6"[39m
    [36m/>[39m
    [36m<path[39m
      [33md[39m=[32m"M10 14 21 3"[39m
    [36m/>[39m
    [36m<path[39m
      [33md[39m=[32m"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"[39m
    [36m/>[39m
  [36m</svg>[39m
  [0mProfile[0m
[36m</button>[39m

Ignored nodes: comments, script, style
[36m<button[39m
  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground rounded-md px-3 flex-1 h-8 text-xs"[39m
[36m>[39m
  [36m<svg[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"lucide lucide-message-circle h-3 w-3 mr-1"[39m
    [33mfill[39m=[32m"none"[39m
    [33mheight[39m=[32m"24"[39m
    [33mstroke[39m=[32m"currentColor"[39m
    [33mstroke-linecap[39m=[32m"round"[39m
    [33mstroke-linejoin[39m=[32m"round"[39m
    [33mstroke-width[39m=[32m"2"[39m
    [33mviewBox[39m=[32m"0 0 24 24"[39m
    [33mwidth[39m=[32m"24"[39m
    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
  [36m>[39m
    [36m<path[39m
      [33md[39m=[32m"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"[39m
    [36m/>[39m
  [36m</svg>[39m
  [0mContact[0m
[36m</button>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow group cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-1"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"relative"[39m
      [36m>[39m
        [36m<img[39m
          [33malt[39m=[32m"Kente Designs Ltd"[39m
          [33mclass[39m=[32m"w-full h-48 object-cover rounded-t-lg"[39m
          [33msrc[39m=[32m"https://example.com/profile.jpg"[39m
        [36m/>[39m
        [36m<div[39m
          [33mclass[39m=[32m"absolute top-2 right-2"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"variant-ghost size-sm"[39m
            [33mdata-testid[39m=[32m"favorite-button-tailor-1"[39m
          [36m>[39m
            [0mFavorite [0m
            [0mKente Designs Ltd[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"absolute top-2 left-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 bg-green-600 text-white text-xs"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle-check-big h-3 w-3 mr-1"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"m9 11 3 3L22 4"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mVerified[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-4"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"mb-3"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors"[39m
          [36m>[39m
            [0mKente Designs Ltd[0m
          [36m</h3>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2 mt-1"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-1"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
              [36m>[39m
                [0m4.8[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm text-gray-500"[39m
              [36m>[39m
                [0m([0m
                [0m25[0m
                [0m)[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-xs text-green-600 border-green-200"[39m
            [36m>[39m
              [0mFast Response[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-1 mb-3"[39m
        [36m>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-map-pin h-4 w-4 text-gray-400"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
            [36m/>[39m
            [36m<circle[39m
              [33mcx[39m=[32m"12"[39m
              [33mcy[39m=[32m"10"[39m
              [33mr[39m=[32m"3"[39m
            [36m/>[39m
          [36m</svg>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
          [36m>[39m
            [0mAccra[0m
          [36m</span>[39m
          [36m<span[39m
            [33mclass[39m=[32m"text-gray-400"[39m
          [36m>[39m
            [0m•[0m
          [36m</span>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-clock h-4 w-4 text-gray-400"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-li...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2m❯[22m getMultipleElementsFoundError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorCard.test.tsx:[2m378:27[22m[39m
    [90m376| [39m      [34mrender[39m([33m<[39m[33mTailorCard[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m377| [39m
    [90m378| [39m      [35mconst[39m card [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'button'[39m)[33m;[39m
    [90m   | [39m                          [31m^[39m
    [90m379| [39m      [34mexpect[39m(card)[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m380| [39m      

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[422/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorCard.test.tsx[2m > [22mTailorCard[2m > [22mAccessibility[2m > [22mshould support keyboard navigation
[31m[1mAssertionError[22m: expected "spy" to be called 1 times, but got 0 times[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorCard.test.tsx:[2m401:24[22m[39m
    [90m399| [39m      [90m// Should respond to Enter key[39m
    [90m400| [39m      fireEvent[33m.[39m[34mkeyDown[39m(card[33m,[39m { key[33m:[39m [32m'Enter'[39m })[33m;[39m
    [90m401| [39m      [34mexpect[39m(onSelect)[33m.[39m[34mtoHaveBeenCalledTimes[39m([34m1[39m)[33m;[39m
    [90m   | [39m                       [31m^[39m
    [90m402| [39m
    [90m403| [39m      [90m// Should respond to Space key[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[423/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorCard.test.tsx[2m > [22mTailorCard[2m > [22mError Handling[2m > [22mshould handle missing required fields gracefully
[31m[1mAssertionError[22m: expected [Function] to not throw an error but 'TypeError: Cannot read properties of …' was thrown[39m

[32m- Expected:[39m 
undefined

[31m+ Received:[39m 
"TypeError: Cannot read properties of undefined (reading 'toFixed')"

[36m [2m❯[22m tests/unit/components/features/tailors/TailorCard.test.tsx:[2m420:14[22m[39m
    [90m418| [39m      [34mexpect[39m(() [33m=>[39m {
    [90m419| [39m        [34mrender[39m([33m<[39m[33mTailorCard[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33mtailor[39m[33m=[39m[33m{[39mincompleteTailor[33m}[39m…
    [90m420| [39m      })[33m.[39mnot[33m.[39m[34mtoThrow[39m()[33m;[39m
    [90m   | [39m             [31m^[39m
    [90m421| [39m    })[33m;[39m
    [90m422| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[424/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorCard.test.tsx[2m > [22mTailorCard[2m > [22mCustom Styling[2m > [22mshould apply custom className when provided
[31m[1mError[22m: [2mexpect([22m[31mreceived[31m[2m).toHaveClass()[22m

[31mreceived[31m value must be an HTMLElement or an SVGElement.
[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorCard.test.tsx:[2m444:20[22m[39m
    [90m442| [39m
    [90m443| [39m      [35mconst[39m card [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'button'[39m[33m,[39m { name[33m:[39m [36m/kente designs l[39m…
    [90m444| [39m      [34mexpect[39m(card)[33m.[39m[34mtoHaveClass[39m([32m'custom-card-class'[39m)[33m;[39m
    [90m   | [39m                   [31m^[39m
    [90m445| [39m    })[33m;[39m
    [90m446| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[425/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorCard.test.tsx[2m > [22mTailorCard[2m > [22mCustom Styling[2m > [22mshould maintain default styling without custom className
[31m[1mError[22m: [2mexpect([22m[31mreceived[31m[2m).toHaveClass()[22m

[31mreceived[31m value must be an HTMLElement or an SVGElement.
[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorCard.test.tsx:[2m451:20[22m[39m
    [90m449| [39m
    [90m450| [39m      [35mconst[39m card [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'button'[39m[33m,[39m { name[33m:[39m [36m/kente designs l[39m…
    [90m451| [39m      [34mexpect[39m(card)[33m.[39m[34mtoHaveClass[39m([32m'group'[39m[33m,[39m [32m'cursor-pointer'[39m[33m,[39m [32m'transition-[39m…
    [90m   | [39m                   [31m^[39m
    [90m452| [39m    })[33m;[39m
    [90m453| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[426/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorGroupOrderDashboard.test.tsx[2m > [22mTailorGroupOrderDashboard[2m > [22mfilters by status
[31m[1mError[22m: [2mexpect([22m[31melement[31m[2m).not.toBeInTheDocument()[22m

[31mexpected document not to contain element, found <h3
  class="text-lg font-semibold"
>
  Mensah Family Naming Ceremony
</h3> instead[31m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorGroupOrderDashboard.test.tsx:[2m118:69[22m[39m
    [90m116| [39m    [90m// Should only show in progress order[39m
    [90m117| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Asante Family Wedding'[39m))[33m.[39m[34mtoBeInTheDocumen[39m…
    [90m118| [39m    [34mexpect[39m(screen[33m.[39m[34mqueryByText[39m([32m'Mensah Family Naming Ceremony'[39m))[33m.[39mnot[33m.[39m[34mto[39m…
    [90m   | [39m                                                                    [31m^[39m
    [90m119| [39m  })[33m;[39m
    [90m120| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[427/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorGroupOrderDashboard.test.tsx[2m > [22mTailorGroupOrderDashboard[2m > [22mcalls onSelectGroupOrder when manage button clicked
[31m[1mAssertionError[22m: expected "spy" to be called with arguments: [ 'group-1' ][90m

Received: 

[1m  1st spy call:

[22m[2m  Array [[22m
[32m-   "group-1",[90m
[31m+   "group-2",[90m
[2m  ][22m
[31m[90m

Number of calls: [1m1[22m
[31m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorGroupOrderDashboard.test.tsx:[2m162:22[22m[39m
    [90m160| [39m    fireEvent[33m.[39m[34mclick[39m(manageButtons[[34m0[39m])[33m;[39m
    [90m161| [39m    
    [90m162| [39m    [34mexpect[39m(onSelect)[33m.[39m[34mtoHaveBeenCalledWith[39m(mockGroupOrders[[34m0[39m][33m.[39mid)[33m;[39m
    [90m   | [39m                     [31m^[39m
    [90m163| [39m  })[33m;[39m
    [90m164| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[428/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorSearchResults.test.tsx[2m > [22mTailorSearchResults[2m > [22mList View[2m > [22mshould display distance when user location is provided
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: 2.5 km away. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-4"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow p-6 cursor-pointer transition-all hover:shadow-md"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-start gap-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-shrink-0"[39m
          [36m>[39m
            [36m<img[39m
              [33malt[39m=[32m"Kente Tailors Ltd"[39m
              [33mclass[39m=[32m"w-16 h-16 rounded-full object-cover"[39m
              [33msrc[39m=[32m"https://example.com/profile1.jpg"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-1 min-w-0"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-start justify-between mb-2"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-lg font-semibold text-gray-900 truncate"[39m
                [36m>[39m
                  [0mKente Tailors Ltd[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-4 mt-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm text-gray-600"[39m
                    [36m>[39m
                      [0m4.8[0m
                      [0m ([0m
                      [0m25[0m
                      [0m reviews)[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-clock h-4 w-4 text-gray-400"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 6v6l4 2"[39m
                      [36m/>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"12"[39m
                        [33mcy[39m=[32m"12"[39m
                        [33mr[39m=[32m"10"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm text-gray-600"[39m
                    [36m>[39m
                      [0mResponds in [0m
                      [0m2[0m
                      [0mh[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-secondary/80 bg-green-50 text-green-700"[39m
              [36m>[39m
                [0m✓ Verified[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-1 mb-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-map-pin h-4 w-4 text-gray-400"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"10"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [36m>[39m
                [0mAccra[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-wrap gap-2 mb-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorSearchResults.test.tsx:[2m187:21[22m[39m
    [90m185| [39m      [34mrender[39m([33m<[39m[33mTailorSearchResults[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m186| [39m
    [90m187| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'2.5 km away'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m188| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'1.8 km away'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m189| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[429/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorSearchResults.test.tsx[2m > [22mTailorSearchResults[2m > [22mList View[2m > [22mshould handle tailor selection
[31m[1mError[22m: [2mexpect([22m[31mreceived[31m[2m).toBeInTheDocument()[22m

[31mreceived[31m value must be an HTMLElement or an SVGElement.
[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorSearchResults.test.tsx:[2m195:27[22m[39m
    [90m193| [39m
    [90m194| [39m      [35mconst[39m firstTailor [33m=[39m screen[33m.[39m[34mgetByText[39m([32m'Kente Tailors Ltd'[39m)[33m.[39m[34mcloses[39m…
    [90m195| [39m      [34mexpect[39m(firstTailor)[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                          [31m^[39m
    [90m196| [39m
    [90m197| [39m      fireEvent[33m.[39m[34mclick[39m(firstTailor[33m![39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[430/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorSearchResults.test.tsx[2m > [22mTailorSearchResults[2m > [22mGrid View[2m > [22mshould pass showDistance prop to TailorCard components
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the text: Distance: 2.5km. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"space-y-6"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"[31m
      [36m>[31m
        [36m<div[31m
          [33mdata-testid[31m=[32m"tailor-card-1"[31m
        [36m>[31m
          [36m<div>[31m
            [0mKente Tailors Ltd[0m
          [36m</div>[31m
          [36m<div>[31m
            [0mDistance: [0m
            [0mkm[0m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mdata-testid[31m=[32m"tailor-card-2"[31m
        [36m>[31m
          [36m<div>[31m
            [0mAdinkra Designs[0m
          [36m</div>[31m
          [36m<div>[31m
            [0mDistance: [0m
            [0mkm[0m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
    [36m</div>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorSearchResults.test.tsx:[2m224:21[22m[39m
    [90m222| [39m      )[33m;[39m
    [90m223| [39m
    [90m224| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Distance: 2.5km'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m225| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Distance: 1.8km'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m226| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[431/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorSearchResults.test.tsx[2m > [22mTailorSearchResults[2m > [22mContact Actions[2m > [22mshould handle WhatsApp contact action
[31m[1mAssertionError[22m: expected "spy" to be called with arguments: [ StringContaining{…}, '_blank' ][90m

Received: 

[1m  1st spy call:

[22m[2m  Array [[22m
[32m-   StringContaining "https://wa.me/233501234567",[90m
[31m+   "/tailors/1",[90m
[2m    "_blank",[22m
[2m  ][22m
[31m[90m

Number of calls: [1m1[22m
[31m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorSearchResults.test.tsx:[2m388:30[22m[39m
    [90m386| [39m      fireEvent[33m.[39m[34mclick[39m(contactButtons[[34m0[39m])[33m;[39m
    [90m387| [39m
    [90m388| [39m      [34mexpect[39m(mockWindowOpen)[33m.[39m[34mtoHaveBeenCalledWith[39m(
    [90m   | [39m                             [31m^[39m
    [90m389| [39m        expect[33m.[39m[34mstringContaining[39m([32m'https://wa.me/233501234567'[39m)[33m,[39m
    [90m390| [39m        [32m'_blank'[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[432/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorSearchResults.test.tsx[2m > [22mTailorSearchResults[2m > [22mAccessibility[2m > [22mshould have proper ARIA labels and roles
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an accessible element with the role "article"

Here are the accessible roles:

  img:

  Name "Kente Tailors Ltd":
  [36m<img[39m
    [33malt[39m=[32m"Kente Tailors Ltd"[39m
    [33mclass[39m=[32m"w-16 h-16 rounded-full object-cover"[39m
    [33msrc[39m=[32m"https://example.com/profile1.jpg"[39m
  [36m/>[39m

  Name "Adinkra Designs":
  [36m<img[39m
    [33malt[39m=[32m"Adinkra Designs"[39m
    [33mclass[39m=[32m"w-16 h-16 rounded-full object-cover"[39m
    [33msrc[39m=[32m"https://example.com/profile2.jpg"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "Kente Tailors Ltd":
  [36m<h3[39m
    [33mclass[39m=[32m"text-lg font-semibold text-gray-900 truncate"[39m
  [36m/>[39m

  Name "Adinkra Designs":
  [36m<h3[39m
    [33mclass[39m=[32m"text-lg font-semibold text-gray-900 truncate"[39m
  [36m/>[39m

  --------------------------------------------------
  paragraph:

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm text-gray-600 line-clamp-2 mb-3"[39m
  [36m/>[39m

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm text-gray-600 line-clamp-2 mb-3"[39m
  [36m/>[39m

  --------------------------------------------------
  button:

  Name "View Profile":
  [36m<button[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-8 rounded-md px-3 text-xs min-w-[100px]"[39m
  [36m/>[39m

  Name "Contact":
  [36m<button[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs min-w-[100px]"[39m
  [36m/>[39m

  Name "Favorite Kente Tailors Ltd":
  [36m<button[39m
    [33mdata-testid[39m=[32m"favorite-1"[39m
  [36m/>[39m

  Name "View Profile":
  [36m<button[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-8 rounded-md px-3 text-xs min-w-[100px]"[39m
  [36m/>[39m

  Name "Contact":
  [36m<button[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs min-w-[100px]"[39m
  [36m/>[39m

  Name "Favorite Adinkra Designs":
  [36m<button[39m
    [33mdata-testid[39m=[32m"favorite-2"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-4"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow p-6 cursor-pointer transition-all hover:shadow-md"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-start gap-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-shrink-0"[39m
          [36m>[39m
            [36m<img[39m
              [33malt[39m=[32m"Kente Tailors Ltd"[39m
              [33mclass[39m=[32m"w-16 h-16 rounded-full object-cover"[39m
              [33msrc[39m=[32m"https://example.com/profile1.jpg"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-1 min-w-0"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-start justify-between mb-2"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-lg font-semibold text-gray-900 truncate"[39m
                [36m>[39m
                  [0mKente Tailors Ltd[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-4 mt-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm text-gray-600"[39m
                    [36m>[39m
                      [0m4.8[0m
                      [0m ([0m
                      [0m25[0m
                      [0m reviews)[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-clock h-4 w-4 text-gray-400"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 6v6l4 2"[39m
                      [36m/>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"12"[39m
                        [33mcy[39m=[32m"12"[39m
                        [33mr[39m=[32m"10"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm text-gray-600"[39m
                    [36m>[39m
                      [0mResponds in [0m
                      [0m2[0m
                      [0mh[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-secondary/80 bg-green-50 text-green-700"[39m
              [36m>[39m
                [0m✓ Verified[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-1 mb-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-map-pin h-4 w-4 text-gray-400"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"10"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [36m>[39m
                [0mAccra[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-wrap gap-2 mb-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m109:15[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorSearchResults.test.tsx:[2m409:31[22m[39m
    [90m407| [39m
    [90m408| [39m      [90m// Check for proper semantic structure[39m
    [90m409| [39m      [35mconst[39m articles [33m=[39m screen[33m.[39m[34mgetAllByRole[39m([32m'article'[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m410| [39m      [34mexpect[39m(articles)[33m.[39m[34mtoHaveLength[39m(mockTailors[33m.[39mlength)[33m;[39m
    [90m411| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[433/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorSearchResults.test.tsx[2m > [22mTailorSearchResults[2m > [22mAccessibility[2m > [22mshould support keyboard navigation
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an accessible element with the role "article"

Here are the accessible roles:

  img:

  Name "Kente Tailors Ltd":
  [36m<img[39m
    [33malt[39m=[32m"Kente Tailors Ltd"[39m
    [33mclass[39m=[32m"w-16 h-16 rounded-full object-cover"[39m
    [33msrc[39m=[32m"https://example.com/profile1.jpg"[39m
  [36m/>[39m

  Name "Adinkra Designs":
  [36m<img[39m
    [33malt[39m=[32m"Adinkra Designs"[39m
    [33mclass[39m=[32m"w-16 h-16 rounded-full object-cover"[39m
    [33msrc[39m=[32m"https://example.com/profile2.jpg"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "Kente Tailors Ltd":
  [36m<h3[39m
    [33mclass[39m=[32m"text-lg font-semibold text-gray-900 truncate"[39m
  [36m/>[39m

  Name "Adinkra Designs":
  [36m<h3[39m
    [33mclass[39m=[32m"text-lg font-semibold text-gray-900 truncate"[39m
  [36m/>[39m

  --------------------------------------------------
  paragraph:

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm text-gray-600 line-clamp-2 mb-3"[39m
  [36m/>[39m

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm text-gray-600 line-clamp-2 mb-3"[39m
  [36m/>[39m

  --------------------------------------------------
  button:

  Name "View Profile":
  [36m<button[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-8 rounded-md px-3 text-xs min-w-[100px]"[39m
  [36m/>[39m

  Name "Contact":
  [36m<button[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs min-w-[100px]"[39m
  [36m/>[39m

  Name "Favorite Kente Tailors Ltd":
  [36m<button[39m
    [33mdata-testid[39m=[32m"favorite-1"[39m
  [36m/>[39m

  Name "View Profile":
  [36m<button[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-8 rounded-md px-3 text-xs min-w-[100px]"[39m
  [36m/>[39m

  Name "Contact":
  [36m<button[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs min-w-[100px]"[39m
  [36m/>[39m

  Name "Favorite Adinkra Designs":
  [36m<button[39m
    [33mdata-testid[39m=[32m"favorite-2"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-4"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow p-6 cursor-pointer transition-all hover:shadow-md"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-start gap-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-shrink-0"[39m
          [36m>[39m
            [36m<img[39m
              [33malt[39m=[32m"Kente Tailors Ltd"[39m
              [33mclass[39m=[32m"w-16 h-16 rounded-full object-cover"[39m
              [33msrc[39m=[32m"https://example.com/profile1.jpg"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-1 min-w-0"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-start justify-between mb-2"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-lg font-semibold text-gray-900 truncate"[39m
                [36m>[39m
                  [0mKente Tailors Ltd[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-4 mt-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm text-gray-600"[39m
                    [36m>[39m
                      [0m4.8[0m
                      [0m ([0m
                      [0m25[0m
                      [0m reviews)[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-clock h-4 w-4 text-gray-400"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 6v6l4 2"[39m
                      [36m/>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"12"[39m
                        [33mcy[39m=[32m"12"[39m
                        [33mr[39m=[32m"10"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm text-gray-600"[39m
                    [36m>[39m
                      [0mResponds in [0m
                      [0m2[0m
                      [0mh[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-secondary/80 bg-green-50 text-green-700"[39m
              [36m>[39m
                [0m✓ Verified[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-1 mb-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-map-pin h-4 w-4 text-gray-400"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"10"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [36m>[39m
                [0mAccra[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-wrap gap-2 mb-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-...
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m109:15[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorSearchResults.test.tsx:[2m422:34[22m[39m
    [90m420| [39m      [34mrender[39m([33m<[39m[33mTailorSearchResults[39m [33m{[39m[33m...[39mdefaultProps[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m421| [39m
    [90m422| [39m      [35mconst[39m firstTailor [33m=[39m screen[33m.[39m[34mgetAllByRole[39m([32m'article'[39m)[[34m0[39m][33m;[39m
    [90m   | [39m                                 [31m^[39m
    [90m423| [39m      
    [90m424| [39m      [90m// Tab to the first tailor card[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[434/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorSearchResults.test.tsx[2m > [22mTailorSearchResults[2m > [22mError Handling[2m > [22mshould handle missing tailor data gracefully
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an accessible element with the role "main"

Here are the accessible roles:

  img:

  Name "":
  [36m<img[39m
    [33mclass[39m=[32m"w-16 h-16 rounded-full object-cover"[39m
    [33msrc[39m=[32m"https://example.com/profile1.jpg"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "":
  [36m<h3[39m
    [33mclass[39m=[32m"text-lg font-semibold text-gray-900 truncate"[39m
  [36m/>[39m

  --------------------------------------------------
  paragraph:

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm text-gray-600 line-clamp-2 mb-3"[39m
  [36m/>[39m

  --------------------------------------------------
  button:

  Name "View Profile":
  [36m<button[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-8 rounded-md px-3 text-xs min-w-[100px]"[39m
  [36m/>[39m

  Name "Contact":
  [36m<button[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs min-w-[100px]"[39m
  [36m/>[39m

  Name "Favorite":
  [36m<button[39m
    [33mdata-testid[39m=[32m"favorite-1"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-4"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow p-6 cursor-pointer transition-all hover:shadow-md"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-start gap-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-shrink-0"[39m
          [36m>[39m
            [36m<img[39m
              [33mclass[39m=[32m"w-16 h-16 rounded-full object-cover"[39m
              [33msrc[39m=[32m"https://example.com/profile1.jpg"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex-1 min-w-0"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-start justify-between mb-2"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-lg font-semibold text-gray-900 truncate"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-4 mt-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-star h-4 w-4 text-yellow-400 fill-current"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm text-gray-600"[39m
                    [36m>[39m
                      [0m4.8[0m
                      [0m ([0m
                      [0m25[0m
                      [0m reviews)[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-clock h-4 w-4 text-gray-400"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 6v6l4 2"[39m
                      [36m/>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"12"[39m
                        [33mcy[39m=[32m"12"[39m
                        [33mr[39m=[32m"10"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-sm text-gray-600"[39m
                    [36m>[39m
                      [0mResponds in [0m
                      [0m2[0m
                      [0mh[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-secondary/80 bg-green-50 text-green-700"[39m
              [36m>[39m
                [0m✓ Verified[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-1 mb-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-map-pin h-4 w-4 text-gray-400"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"10"[39m
                  [33mr[39m=[32m"3"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-sm text-gray-600"[39m
              [36m>[39m
                [0mAccra[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-600 line-clamp-2 mb-3"[39m
            [36m>[39m
              [0mExpert in traditional Ghanaian wear[0m
            [36m</p>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4 text-sm text-gray-500"[39m
            [36m>[39m
              [36m<span>[39m
                [0m150[0m
                [0m orders completed[0m
              [36m</span>[39m
              [36m<span>[39m
                [0m95[0m
                [0m% on-time delivery[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col gap-2 ml-4"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-8 rounded-md px-3 text-xs min-w-[100px]"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-external-link h-4 w-4 mr-1"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M15 3h6v6"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M10 14 21 3"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mView Profile[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs min-w-[100px]"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-message-circle h-4 w-4 mr-1"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mContact[0m
            [36m</button>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"favorite-1"[39m
            [36m>[39m
              [0mFavorite [0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2m❯[22m Object.getElementError ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorSearchResults.test.tsx:[2m457:21[22m[39m
    [90m455| [39m
    [90m456| [39m      [90m// Should still render without crashing[39m
    [90m457| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByRole[39m([32m'main'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m458| [39m    })[33m;[39m
    [90m459| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[435/561]⎯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m tests/unit/components/features/tailors/TailorSearchResults.test.tsx[2m > [22mTailorSearchResults[2m > [22mPerformance[2m > [22mshould render large lists efficiently
[31m[1mAssertionError[22m: expected 2035.0323000000008 to be less than 100[39m
[36m [2m❯[22m tests/unit/components/features/tailors/TailorSearchResults.test.tsx:[2m495:35[22m[39m
    [90m493| [39m
    [90m494| [39m      [90m// Should render within reasonable time (less than 100ms)[39m
    [90m495| [39m      [34mexpect[39m(endTime [33m-[39m startTime)[33m.[39m[34mtoBeLessThan[39m([34m100[39m)[33m;[39m
    [90m   | [39m                                  [31m^[39m
    [90m496| [39m    })[33m;[39m
    [90m497| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[436/561]⎯[22m[39m

[31m⎯⎯⎯⎯⎯⎯[1m[7m Unhandled Errors [27m[22m⎯⎯⎯⎯⎯⎯[39m
[31m[1m
Vitest caught 102 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.[22m[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/milestone-approve.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/milestone-approve.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/milestone-approve.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/milestone-approve.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/milestone-approve.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/milestone-approve.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/milestone-approve.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/milestone-approve.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/milestone-approve.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/milestone-approve.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/milestone-approve.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/milestone-approve.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/milestone-approve.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/milestone-approve.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/milestone-approve.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/milestone-approve.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/milestone-approve.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/milestone-approve.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/milestone-approve.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/milestone-approve.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/milestone-approve.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/milestone-approve.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/milestone-approve.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/milestone-approve.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/milestone-approve.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/milestone-approve.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/milestone-approve.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/milestone-approve.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/messages.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/messages.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/history.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/history.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/notifications/preferences.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/notifications/preferences.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/orders/timeline.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/orders/timeline.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/admin/roles.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/admin/roles.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/admin/roles.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/admin/roles.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/admin/roles.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/admin/roles.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/admin/roles.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/admin/roles.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1248:26[22m[39m
[90m [2m❯[22m SupabaseAuthClient.lockNoOp [as lock] ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m135:16[22m[39m

[31mThis error originated in "[1mtests/unit/api/admin/roles.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/admin/roles.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31m⎯⎯⎯⎯[1m[7m Unhandled Rejection [27m[22m⎯⎯⎯⎯⎯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'getAll')[39m
[36m [2m❯[22m Object.getAll lib/supabase/server.ts:[2m29:32[22m[39m
    [90m 27| [39m        cookies[33m:[39m {
    [90m 28| [39m          [34mgetAll[39m() {
    [90m 29| [39m            [35mreturn[39m cookieStore[33m.[39m[34mgetAll[39m()
    [90m   | [39m                               [31m^[39m
    [90m 30| [39m          }[33m,[39m
    [90m 31| [39m          [34msetAll[39m(cookiesToSet) {
[90m [2m❯[22m getAll ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m115:42[22m[39m
[90m [2m❯[22m Object.getItem ../../node_modules/.pnpm/@supabase+ssr@0.7.0_@supabase+supabase-js@2.54.0/node_modules/@supabase/ssr/src/cookies.ts:[2m326:34[22m[39m
[90m [2m❯[22m getItemAsync ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/lib/helpers.ts:[2m129:31[22m[39m
[90m [2m❯[22m SupabaseAuthClient.__loadSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1358:46[22m[39m
[90m [2m❯[22m SupabaseAuthClient._useSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1316:33[22m[39m
[90m [2m❯[22m SupabaseAuthClient._emitInitialSession ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1931:23[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1923:14[22m[39m
[90m [2m❯[22m ../../node_modules/.pnpm/@supabase+auth-js@2.71.1/node_modules/@supabase/auth-js/src/GoTrueClient.ts:[2m1226:24[22m[39m
[90m [2m❯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m

[31mThis error originated in "[1mtests/unit/api/admin/roles.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mtests/unit/api/admin/roles.test.ts[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m
[31m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[39m

[2m Test Files [22m [1m[31m84 failed[39m[22m[2m | [22m[1m[32m35 passed[39m[22m[2m | [22m[33m1 skipped[39m[90m (120)[39m
[2m      Tests [22m [1m[31m543 failed[39m[22m[2m | [22m[1m[32m1064 passed[39m[22m[2m | [22m[33m41 skipped[39m[90m (1648)[39m
[2m     Errors [22m [1m[31m102 errors[39m[22m
[2m   Start at [22m 21:02:56
[2m   Duration [22m 239.43s[2m (transform 13.70s, setup 458.95s, collect 183.98s, tests 133.61s, environment 525.62s, prepare 105.51s)[22m

